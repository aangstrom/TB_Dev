{
  "entityType" : "DASHBOARD",
  "entity" : {
    "assignedCustomers" : null,
    "configuration" : {
      "description" : "",
      "widgets" : {
        "dadff960-7711-a4f4-6890-aae161741faf" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "timeseries_table",
          "type" : "timeseries",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 8,
          "sizeY" : 6.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c2e9ef1c-1e2e-bc0c-17ed-3eb8814d3f93",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "idScavo",
                "type" : "timeseries",
                "label" : "idScavo",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.6253121356068947
              }, {
                "name" : "IdScavoNuovo",
                "type" : "timeseries",
                "label" : "IdScavoNuovo 2",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.7675562586210429
              }, {
                "name" : "DescrScavo",
                "type" : "timeseries",
                "label" : "DescrScavo",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.0686160105346838
              }, {
                "name" : "materialeScavo",
                "type" : "timeseries",
                "label" : "materialeScavo",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.36365184701811515
              }, {
                "name" : "IdScavoNuovo",
                "type" : "timeseries",
                "label" : "IdScavoNuovo",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.9155225980904773
              }, {
                "name" : "UbicaziScavo",
                "type" : "timeseries",
                "label" : "UbicaziScavo",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.7154241589640451
              }, {
                "name" : "stProcTime",
                "type" : "timeseries",
                "label" : "stProcTime",
                "color" : "#8bc34a",
                "settings" : { },
                "_hash" : 0.16216989589683872
              }, {
                "name" : "lunghScavo",
                "type" : "timeseries",
                "label" : "lunghScavo",
                "color" : "#3f51b5",
                "settings" : { },
                "_hash" : 0.44152887360517457
              } ],
              "latestDataKeys" : [ ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 1,
              "history" : {
                "historyType" : 0,
                "timewindowMs" : 2592000000,
                "interval" : 7200000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1668615680682,
                  "endTimeMs" : 1668702080682
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "MAX",
                "limit" : 300
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "showTimestamp" : true,
              "displayPagination" : true,
              "defaultPageSize" : 10
            },
            "title" : "Commesse",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : { },
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "displayTimewindow" : false,
            "titleTooltip" : "",
            "enableDataExport" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "dadff960-7711-a4f4-6890-aae161741faf"
        },
        "c998d45a-654e-0455-b3d3-5a5154ff7b3c" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "html_value_card",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c2e9ef1c-1e2e-bc0c-17ed-3eb8814d3f93",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div class='card'>\n    <div class='content'>\n        <div id=\"commessa\" class='column'>\n            <i class=\"fa fa-list-alt\" aria-hidden=\"true\"></i>\n            <h1>Varia commessa</h1>\n        </div>\n    </div>\n</div>",
              "cardCss" : ".card {\n   width: 100%;\n   height: 100%;\n   border: 2px solid #ccc;\n   box-sizing: border-box;\n}\n\n.card .content {\n   padding: 10px;\n   display: flex;\n   flex-direction: row;\n   align-items: center;\n   justify-content: space-around;\n   height: 100%;\n   box-sizing: border-box;\n}\n\n.card .content .column {\n   display: flex;\n   flex-direction: column;\n   text-align: center;\n   align-items: center;\n   margin-right: auto;\n   margin-left: auto;\n   justify-content: space-around;\n}\n\n.card h1 {\n    text-transform: uppercase;\n    color: #999;\n    font-size: 20px;\n    font-weight: bold;\n    padding-bottom: 10px;\n    line-height: 32px;\n}\n\n.card .value {\n    font-size: 38px;\n    font-weight: 200;\n}\n\n.card .description {\n    font-size: 20px;\n    color: #999;\n}\n\n.fa{\n    font-size: 60px;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "headerButton" : [ ],
              "elementClick" : [ {
                "name" : "commessa",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Inserisci nuovo scavo</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\"></mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Inserisci nuovo scavo</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Nuovo codice scavo</mat-label>\r\n                <input type=\"number\" matInput placeholder=\"Es. 12\" formControlName=\"IdScavoNuovo\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Descrizione nuovo scavo</mat-label>\r\n                <input matInput placeholder=\"Es. Scavo RCM1200 Bressanone\" formControlName=\"DescrScavo\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Luogo Scavo</mat-label>\r\n                <input matInput  placeholder=\"Es. Bressanone\" formControlName=\"UbicaziScavo\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Materiale dello scavo</mat-label>\r\n                <mat-select id=\"materialeScavo\" formControlName=\"materialeScavo\" required>\r\n                    <mat-option value=\"terra\">Terra</mat-option>\r\n                    <mat-option value=\"argilla\">Argilla</mat-option>\r\n                    <mat-option value=\"roccia\">Roccia</mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log($event,entityId,entityName,additionalParams,widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext.servicesMap.get('entityRelationService'));\n\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\n//Get value materialeScavo\nvar select = document.getElementById(\"materialeScavo\");\nvar options = [\"terra\", \"argilla\", \"roccia\", \"sabbia\"];\nfor(var i=0; i<options.length; i++) {\n    var opt = options[i];\n    var el = document.createElement(\"mat-option\");\n    el.text = opt;\n    el.value = opt;\n    select.add(el);\n}\n\n\n\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     IdScavoNuovo: [null, [vm.validators.required]],\n     DescrScavo: [null, [vm.validators.required]],\n     materialeScavo:[null, [vm.validators.required]],\n     UbicaziScavo:[null, [vm.validators.required]]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        console.log(\"formData: \",formData);\n        vm.addEntityFormGroup.markAsPristine();\n        var date=Date.now();\n        var telData={\"ts\":date, \"values\":{\"IdScavo\":formData.IdScavoNuovo, \"IdScavoNuovo\":formData.IdScavoNuovo, \"DescrScavo\":formData.DescrScavo, \"UbicaziScavo\":formData.UbicaziScavo, \"materialeScavo\":formData.materialeScavo}};\n        var rpc={\"method\":\"setValue\",\"params\":{\"IdScavoNuovo\":formData.IdScavoNuovo,\"FrqCampione\":5, \"DescrScavo\":formData.DescrScavo, \"UbicaziScavo\":formData.UbicaziScavo, \"materialeScavo\":formData.materialeScavo}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error)\n        })\n        widgetContext.http.post('/api/rpc/oneway/'+entityId.id, rpc).subscribe(data =>\n        {\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error)\n        })\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c2a6c388-ffac-bee8-bc9a-98a26c1a4f93"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "c998d45a-654e-0455-b3d3-5a5154ff7b3c"
        },
        "e5e766f5-cdb5-81fe-07dc-9a6d771ba9b4" : {
          "isSystemType" : true,
          "bundleAlias" : "control_widgets",
          "typeAlias" : "rpcbutton",
          "type" : "rpc",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 4,
          "sizeY" : 2,
          "config" : {
            "targetDeviceAliases" : [ ],
            "showTitle" : false,
            "backgroundColor" : "#e6e7e8",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "buttonText" : "Send RPC",
              "oneWayElseTwoWay" : true,
              "methodName" : "setValue",
              "methodParams" : "{\r\n  \"IdScavoNuovo\": 10011,\r\n  \"FrqCampione\": 5,\r\n  \"DescrScavo\": \"Scavo RCM1200 Bressanone\",\r\n  \"UbicaziScavo\": \"Bressanone\",\r\n  \"materialeScavo\": \"Speack\"\r\n}",
              "requestTimeout" : 5000,
              "showError" : false,
              "requestPersistent" : false,
              "styleButton" : {
                "isRaised" : true,
                "isPrimary" : false
              }
            },
            "title" : "New RPC Button",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "datasources" : [ ],
            "targetDeviceAliasIds" : [ "c2e9ef1c-1e2e-bc0c-17ed-3eb8814d3f93" ]
          },
          "row" : 0,
          "col" : 0,
          "id" : "e5e766f5-cdb5-81fe-07dc-9a6d771ba9b4"
        },
        "ac9b757d-4a8e-59c4-c82f-616fafae5050" : {
          "isSystemType" : true,
          "bundleAlias" : "cards",
          "typeAlias" : "html_value_card",
          "type" : "latest",
          "title" : "New widget",
          "image" : null,
          "description" : null,
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "c2e9ef1c-1e2e-bc0c-17ed-3eb8814d3f93",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div class='card'>\n    <div id=\"materiale\" class='content'>\n        <div class='column'>\n            <i class=\"fa fa-gavel\" aria-hidden=\"true\"></i>\n            <h1>Varia meteriale</h1>\n        </div>\n    </div>\n</div>",
              "cardCss" : ".card {\n   width: 100%;\n   height: 100%;\n   border: 2px solid #ccc;\n   box-sizing: border-box;\n}\n\n.card .content {\n   padding: 10px;\n   display: flex;\n   flex-direction: row;\n   align-items: center;\n   justify-content: space-around;\n   height: 100%;\n   box-sizing: border-box;\n}\n\n.card .content .column {\n   display: flex;\n   flex-direction: column;\n   text-align: center;\n   align-items: center;\n   margin-right: auto;\n   margin-left: auto;\n   justify-content: space-around;\n}\n\n.card h1 {\n    text-transform: uppercase;\n    color: #999;\n    font-size: 20px;\n    font-weight: bold;\n    padding-bottom: 10px;\n    line-height: 32px;\n}\n\n.card .value {\n    font-size: 38px;\n    font-weight: 200;\n}\n\n.card .description {\n    font-size: 20px;\n    color: #999;\n}\n\n.fa{\n    font-size: 60px;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "headerButton" : [ ],
              "elementClick" : [ {
                "name" : "materiale",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Inserisci nuovo scavo</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\"></mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Inserisci nuovo scavo</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Nuovo codice scavo</mat-label>\r\n                <input type=\"number\" matInput placeholder=\"Es. 12\" formControlName=\"IdScavoNuovo\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Descrizione nuovo scavo</mat-label>\r\n                <input matInput placeholder=\"Es. Scavo RCM1200 Bressanone\" formControlName=\"DescrScavo\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Luogo Scavo</mat-label>\r\n                <input matInput  placeholder=\"Es. Bressanone\" formControlName=\"UbicaziScavo\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Materiale dello scavo</mat-label>\r\n                <mat-select id=\"materialeScavo\" formControlName=\"materialeScavo\" required>\r\n                    <mat-option value=\"terra\">Terra</mat-option>\r\n                    <mat-option value=\"argilla\">Argilla</mat-option>\r\n                    <mat-option value=\"roccia\">Roccia</mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "console.log($event,entityId,entityName,additionalParams,widgetContext)\n\nlet $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\nlet entityRelationService = $injector.get(widgetContext.servicesMap.get('entityRelationService'));\n\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\n//Get value materialeScavo\nvar select = document.getElementById(\"materialeScavo\");\nvar options = [\"terra\", \"argilla\", \"roccia\", \"sabbia\"];\nfor(var i=0; i<options.length; i++) {\n    var opt = options[i];\n    var el = document.createElement(\"mat-option\");\n    el.text = opt;\n    el.value = opt;\n    select.add(el);\n}\n\n\n\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     IdScavoNuovo: [null, [vm.validators.required]],\n     DescrScavo: [null, [vm.validators.required]],\n     materialeScavo:[null, [vm.validators.required]],\n     UbicaziScavo:[null, [vm.validators.required]]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        console.log(\"formData: \",formData);\n        vm.addEntityFormGroup.markAsPristine();\n        var date=Date.now();\n        var telData={\"ts\":date, \"values\":{\"IdScavo\":formData.IdScavoNuovo, \"IdScavoNuovo\":formData.IdScavoNuovo, \"DescrScavo\":formData.DescrScavo, \"UbicaziScavo\":formData.UbicaziScavo, \"materialeScavo\":formData.materialeScavo}};\n        var rpc={\"method\":\"setValue\",\"params\":{\"IdScavoNuovo\":formData.IdScavoNuovo,\"FrqCampione\":5, \"DescrScavo\":formData.DescrScavo, \"UbicaziScavo\":formData.UbicaziScavo, \"materialeScavo\":formData.materialeScavo}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error)\n        })\n        widgetContext.http.post('/api/rpc/oneway/'+entityId.id, rpc).subscribe(data =>\n        {\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error)\n        })\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c2a6c388-ffac-bee8-bc9a-98a26c1a4f93"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "ac9b757d-4a8e-59c4-c82f-616fafae5050"
        }
      },
      "states" : {
        "default" : {
          "name" : "Trivelle",
          "root" : true,
          "layouts" : {
            "main" : {
              "widgets" : {
                "dadff960-7711-a4f4-6890-aae161741faf" : {
                  "sizeX" : 24,
                  "sizeY" : 8,
                  "row" : 3,
                  "col" : 0
                },
                "c998d45a-654e-0455-b3d3-5a5154ff7b3c" : {
                  "sizeX" : 4,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                },
                "e5e766f5-cdb5-81fe-07dc-9a6d771ba9b4" : {
                  "sizeX" : 4,
                  "sizeY" : 2,
                  "row" : 0,
                  "col" : 8
                },
                "ac9b757d-4a8e-59c4-c82f-616fafae5050" : {
                  "sizeX" : 4,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 4
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        }
      },
      "entityAliases" : {
        "c2e9ef1c-1e2e-bc0c-17ed-3eb8814d3f93" : {
          "id" : "c2e9ef1c-1e2e-bc0c-17ed-3eb8814d3f93",
          "alias" : "Pato Test",
          "filter" : {
            "type" : "singleEntity",
            "resolveMultiple" : false,
            "singleEntity" : {
              "entityType" : "DEVICE",
              "id" : "441539d0-6697-11ed-9133-91f5585bc6c3"
            }
          }
        }
      },
      "filters" : { },
      "timewindow" : {
        "hideInterval" : false,
        "hideAggregation" : false,
        "hideAggInterval" : false,
        "hideTimezone" : false,
        "selectedTab" : 0,
        "realtime" : {
          "realtimeType" : 0,
          "timewindowMs" : 3600000,
          "quickInterval" : "CURRENT_DAY",
          "interval" : 10000
        },
        "aggregation" : {
          "type" : "MAX",
          "limit" : 25000
        }
      },
      "settings" : {
        "stateControllerId" : "entity",
        "showTitle" : false,
        "showDashboardsSelect" : true,
        "showEntitiesSelect" : true,
        "showDashboardTimewindow" : true,
        "showDashboardExport" : true,
        "toolbarAlwaysOpen" : true
      }
    },
    "createdTime" : 1668700722112,
    "customerId" : null,
    "externalId" : null,
    "id" : {
      "entityType" : "DASHBOARD",
      "id" : "b548bc00-6690-11ed-9133-91f5585bc6c3"
    },
    "image" : null,
    "mobileHide" : false,
    "mobileOrder" : null,
    "name" : "Trivelle",
    "ownerId" : null,
    "tenantId" : null,
    "title" : "Trivelle"
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}