{
  "entityType" : "CONVERTER",
  "entity" : {
    "additionalInfo" : {
      "description" : ""
    },
    "configuration" : {
      "scriptLang" : "TBEL",
      "decoder" : null,
      "tbelDecoder" : "// Parse the incoming payload as JSON\r\nvar json = decodeToJson(payload);\r\n\r\n// Extract the plcData map\r\nvar plc = json.plcData;\r\n\r\n// Device info\r\nvar deviceName = \"M5\";\r\nvar deviceType = \"test\";\r\n\r\n// Build telemetry map with safe null checks\r\nvar telemetry = {\r\n    \"inp1\": plc != null && plc.inp1 != null ? plc.inp1 : 0,\r\n    \"relay1\": plc != null && plc.relay1 != null ? plc.relay1 : 0,\r\n    \"relay2\": plc != null && plc.relay2 != null ? plc.relay2 : 0,\r\n    \"relay3\": plc != null && plc.relay3 != null ? plc.relay3 : 0,\r\n    \"key\": plc != null && plc.key != null ? plc.key : 0,\r\n    \"reset\": plc != null && plc.reset != null ? plc.reset : 0\r\n};\r\n\r\n// Optionally, attributes can be filled in a similar way\r\nvar attributes = {};\r\n\r\n// Return the resulting object as required by ThingsBoard\r\nreturn {\r\n    \"deviceName\": deviceName,\r\n    \"deviceType\": deviceType,\r\n    \"attributes\": attributes,\r\n    \"telemetry\": telemetry\r\n}",
      "encoder" : null,
      "tbelEncoder" : null,
      "updateOnlyKeys" : null
    },
    "converterVersion" : 1,
    "debugMode" : false,
    "debugSettings" : {
      "allEnabled" : false,
      "allEnabledUntil" : 1751640111743,
      "failuresEnabled" : true
    },
    "edgeTemplate" : false,
    "externalId" : null,
    "id" : {
      "entityType" : "CONVERTER",
      "id" : "ed6926f0-58e2-11f0-9cc7-dfa7f57094de"
    },
    "integrationType" : "MQTT",
    "name" : "stam PLC armadi",
    "type" : "UPLINK"
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}