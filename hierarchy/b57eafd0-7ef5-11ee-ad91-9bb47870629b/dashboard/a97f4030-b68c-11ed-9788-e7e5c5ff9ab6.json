{
  "entityType" : "DASHBOARD",
  "entity" : {
    "assignedCustomers" : null,
    "configuration" : {
      "description" : "",
      "widgets" : {
        "4d269bd2-0e40-1c62-0385-a1ab42115c6d" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "7b659beb-1601-5b67-528e-0846d1a0efa6",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "displayEnergy",
                "type" : "attribute",
                "label" : "Energy",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "slideToggleLabelPosition" : "before",
                  "useCustomIcon" : true,
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yLjUgMkMyLjIyMzg2IDIgMiAyLjIyMzg2IDIgMi41VjE3LjVDMiAxNy43NzYxIDIuMjIzODYgMTggMi41IDE4QzIuNzc2MTQgMTggMyAxNy43NzYxIDMgMTcuNVYxN0gxN1YxNy41QzE3IDE3Ljc3NjEgMTcuMjIzOSAxOCAxNy41IDE4QzE3Ljc3NjEgMTggMTggMTcuNzc2MSAxOCAxNy41VjIuNUMxOCAyLjIyMzg2IDE3Ljc3NjEgMiAxNy41IDJDMTcuMjIzOSAyIDE3IDIuMjIzODYgMTcgMi41VjhIMTRDMTQuNTUyMyA4IDE1IDcuNTUyMjggMTUgN1Y0QzE1IDMuNDQ3NzIgMTQuNTUyMyAzIDE0IDNIMTFDMTAuNDQ3NyAzIDEwIDMuNDQ3NzIgMTAgNFY3QzEwIDcuNTUyMjggMTAuNDQ3NyA4IDExIDhIN0M3LjU1MjI4IDggOCA3LjU1MjI4IDggN1Y2QzggNS40NDc3MiA3LjU1MjI4IDUgNyA1SDZDNS40NDc3MiA1IDUgNS40NDc3MiA1IDZWN0M1IDcuNTUyMjggNS40NDc3MiA4IDYgOEgzVjIuNUMzIDIuMjIzODYgMi43NzYxNCAyIDIuNSAyWk0xNyAxNlY5SDNWMTZINkM1LjQ0NzcyIDE2IDUgMTUuNTUyMyA1IDE1VjEyQzUgMTEuNDQ3NyA1LjQ0NzcyIDExIDYgMTFIOUM5LjU1MjI4IDExIDEwIDExLjQ0NzcgMTAgMTJWMTVDMTAgMTUuNTUyMyA5LjU1MjI4IDE2IDkgMTZIMTJDMTEuNDQ3NyAxNiAxMSAxNS41NTIzIDExIDE1VjEzQzExIDEyLjQ0NzcgMTEuNDQ3NyAxMiAxMiAxMkgxNEMxNC41NTIzIDEyIDE1IDEyLjQ0NzcgMTUgMTNWMTVDMTUgMTUuNTUyMyAxNC41NTIzIDE2IDE0IDE2SDE3WiIgZmlsbD0iIzAwMCIvPgo8L3N2Zz4K",
                  "useGetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'Energy';",
                  "useSetValueFunction" : true,
                  "setValueFunctionBody" : "return value ? 'Energy' : 'unset';"
                },
                "_hash" : 0.5184545311042434,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "aggregationType" : null
              }, {
                "name" : "displaySensor",
                "type" : "attribute",
                "label" : "Sensor",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "slideToggleLabelPosition" : "before",
                  "useCustomIcon" : true,
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iOSIgeT0iMiIgd2lkdGg9IjIiIGhlaWdodD0iMTYiIHJ4PSIxIiBmaWxsPSIjMDAwIi8+CjxwYXRoIGQ9Ik0xMi41IDMuNUwxMCA2TDcuNSAzLjVNMTIuNSAxNi41TDEwIDE0TDcuNSAxNi41IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTYuODc5MiA4LjkxNTA5TDEzLjQ2NDEgOC4wMDAwMkwxNC4zNzkyIDQuNTg0OTZNNS42MjA4MiAxNS40MTUxTDYuNTM1ODggMTJMMy4xMjA4MiAxMS4wODUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik01LjYyMDg1IDQuNTg0OTFMNi41MzU5MSA3Ljk5OTk4TDMuMTIwODUgOC45MTUwNE0xNi44NzkyIDExLjA4NDlMMTMuNDY0MSAxMkwxNC4zNzkyIDE1LjQxNSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHJlY3QgeD0iMTYuNDI4MiIgeT0iNS4xMzM3OSIgd2lkdGg9IjIiIGhlaWdodD0iMTYiIHJ4PSIxIiB0cmFuc2Zvcm09InJvdGF0ZSg2MCAxNi40MjgyIDUuMTMzNzkpIiBmaWxsPSIjMDAwIi8+CjxyZWN0IHg9IjIuNTcxNzgiIHk9IjYuODY2MjEiIHdpZHRoPSIyIiBoZWlnaHQ9IjE2IiByeD0iMSIgdHJhbnNmb3JtPSJyb3RhdGUoLTYwIDIuNTcxNzggNi44NjYyMSkiIGZpbGw9IiMwMDAiLz4KPC9zdmc+Cg==",
                  "useGetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'Sensor';",
                  "useSetValueFunction" : true,
                  "setValueFunctionBody" : "return value ? 'Sensor' : 'unset';"
                },
                "_hash" : 0.39082762251115444,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "aggregationType" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : false,
              "showResultMessage" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "row",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 1
            },
            "title" : "Filter",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : {
              "fontWeight" : "bold",
              "fontSize" : "14px"
            },
            "titleStyle" : {
              "fontSize" : "20px",
              "fontWeight" : "bold",
              "paddingBottom" : "30px"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "noDataDisplayMessage" : "",
            "widgetCss" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "4d269bd2-0e40-1c62-0385-a1ab42115c6d",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "ff1eb384-d7f3-2a33-ca59-2296652ca079" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "7b659beb-1601-5b67-528e-0846d1a0efa6",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "displayNormal",
                "type" : "attribute",
                "label" : "Normal",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'normal';",
                  "setValueFunctionBody" : "return value ? 'normal' : 'unset';",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iNiIgZmlsbD0iIzFGOEI0RCIvPgo8L3N2Zz4K"
                },
                "_hash" : 0.39082762251115444,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayMajor",
                "type" : "attribute",
                "label" : "Major",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'major';",
                  "setValueFunctionBody" : "return value ? 'major' : 'unset';",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iNiIgZmlsbD0iI0Q1QzIxQiIvPgo8L3N2Zz4K"
                },
                "_hash" : 0.34454051580229117,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayCritical",
                "type" : "attribute",
                "label" : "Critical",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'critical';",
                  "setValueFunctionBody" : "return value ? 'critical' : 'unset';",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iNiIgZmlsbD0iI0U2NEExOSIvPgo8L3N2Zz4K"
                },
                "_hash" : 0.5184545311042434,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayDisconnected",
                "type" : "attribute",
                "label" : "Disconnected",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'false';",
                  "setValueFunctionBody" : "return value ? false : true;",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzI4MzlfNTI1NjQpIj4KPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iNiIgZmlsbD0iI0NBQzFEMiIvPgo8cGF0aCBkPSJNMS45Mjg5NiAxNi43MjhMMTYuMDcxMSAyLjU4NTg5TDE3LjQ4NTMgNC4wMDAxMUwzLjM0MzE3IDE4LjE0MjJMMS45Mjg5NiAxNi43MjhaIiBmaWxsPSIjQ0FDMUQyIi8+CjxwYXRoIGQ9Ik0yLjEwNjkyIDE2LjMxNzFDMS44MTM5MyAxNi4wMjQxIDEuODEzOTMgMTUuNTQ5MSAyLjEwNjkyIDE1LjI1NjFMMTUuMTg1MiAyLjE3Nzg4QzE1LjQ3ODEgMS44ODQ4OSAxNS45NTMyIDEuODg0ODkgMTYuMjQ2MiAyLjE3Nzg4QzE2LjUzOTIgMi40NzA4OCAxNi41MzkyIDIuOTQ1OTEgMTYuMjQ2MiAzLjIzODlMMy4xNjc5NCAxNi4zMTcxQzIuODc0OTUgMTYuNjEwMSAyLjM5OTkxIDE2LjYxMDEgMi4xMDY5MiAxNi4zMTcxWiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yODM5XzUyNTY0Ij4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
                },
                "_hash" : 0.8262637732306279,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : false,
              "showResultMessage" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "row",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 1
            },
            "title" : "State Filter",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : {
              "fontWeight" : "bold",
              "fontSize" : "14px"
            },
            "titleStyle" : {
              "fontSize" : "20px",
              "fontWeight" : "bold",
              "paddingBottom" : "30px"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "noDataDisplayMessage" : "",
            "widgetCss" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "ff1eb384-d7f3-2a33-ca59-2296652ca079",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "34bb2f8f-4bf0-dac4-a017-badfac3e31bb" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "16px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div class=\"market-layout\" style=\"width: 100%; height: 100%; padding: 0;\" fxLayout=\"column\">\n    <tb-dashboard-state style=\"height: 160px;\" [ctx]=\"ctx\" stateId=\"header_bungalow\"></tb-dashboard-state>\n    <tb-dashboard-state [ctx]=\"ctx\" stateId=\"plan\"></tb-dashboard-state>\n</div>",
              "applyDefaultMarkdownStyle" : true,
              "markdownCss" : ".tb-markdown-view .tb-progress-cover, .tb-markdown-view .mat-drawer-container {\n    background-color: #fff;\n}\n\n.tb-markdown-view div, .tb-markdown-view p {\n    line-height: normal;\n}\n\n.market-layout {\n    position: relative;\n}\n\n.market-title {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    z-index: 2;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : ".tb-widget-container .tb-widget .tb-multiple-input {\n    background-color: #FAFAFA;\n    border-radius: 4px;\n}\n\n.tb-widget-container .tb-widget .tb-multiple-input .input-field {\n    padding-right: 30px;\n}\n\n.tb-widget-container .tb-widget .tb-multiple-input mat-slide-toggle {\n    margin-top: 15px !important;\n    margin-bottom: 0 !important;\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle-bar {\n    width: 42px;\n    height: 24px;\n    border-radius: 16px;\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle-thumb-container {\n    top: 2px;\n    left: 2px;\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container {\n    transform: translate3d(18px, 0, 0);\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle-thumb {\n    background-color: #fafafa;\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle.mat-checked .mat-slide-toggle-bar {\n    background-color: #F2994A;\n}\n\n.tb-widget-container .tb-widget .leaflet-control-zoom {\n    display: none;\n}\n",
            "noDataDisplayMessage" : "",
            "useDashboardTimewindow" : true,
            "actions" : {
              "headerButton" : [ ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "34bb2f8f-4bf0-dac4-a017-badfac3e31bb",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "7a37cf70-51c1-aef6-ef15-27041e016bd5" : {
          "type" : "latest",
          "sizeX" : 8.5,
          "sizeY" : 6.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "active",
                "type" : "attribute",
                "label" : "selectedDevice",
                "color" : "#c51162",
                "settings" : { },
                "_hash" : 0.7145163667848988,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value === 'true' || value === 'false') {\n    return true;\n} else {\n    return false;\n}"
              } ]
            }, {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "129977b6-de2f-546b-7df8-2040f39f8732",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "xPosCampeggi",
                "type" : "attribute",
                "label" : "xPos",
                "color" : "#afb42b",
                "settings" : { },
                "_hash" : 0.06722530186537723,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "yPosCampeggi",
                "type" : "attribute",
                "label" : "yPos",
                "color" : "#00796b",
                "settings" : { },
                "_hash" : 0.9401598148964001,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "type",
                "type" : "entityField",
                "label" : "Type",
                "color" : "#0097a7",
                "settings" : { },
                "_hash" : 0.6981306157098781,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "active",
                "type" : "attribute",
                "label" : "active",
                "color" : "#e64a19",
                "settings" : { },
                "_hash" : 0.9335755180637304,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "state",
                "type" : "attribute",
                "label" : "state",
                "color" : "#616161",
                "settings" : { },
                "_hash" : 0.6059798930785949,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "power",
                "type" : "timeseries",
                "label" : "Power",
                "color" : "#1565c0",
                "settings" : { },
                "_hash" : 0.03788500857876631,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "temperature",
                "type" : "timeseries",
                "label" : "temperature",
                "color" : "#00bfa5",
                "settings" : { },
                "_hash" : 0.09538636146952584,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "humidity",
                "type" : "timeseries",
                "label" : "humidity",
                "color" : "#aeea00",
                "settings" : { },
                "_hash" : 0.9824184126591728
              }, {
                "name" : "campeggi_name",
                "type" : "attribute",
                "label" : "Name",
                "color" : "#03a9f4",
                "settings" : { },
                "_hash" : 0.3191225690935966,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "presenza",
                "type" : "timeseries",
                "label" : "presenza",
                "color" : "#03a9f4",
                "settings" : { },
                "_hash" : 0.7433527072489319,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if(value==='true'){\n    return \"Occupato\";\n}else{\n    return \"Libero\";\n}\n"
              }, {
                "name" : "mc",
                "type" : "timeseries",
                "label" : "mc",
                "color" : "#ff9800",
                "settings" : { },
                "_hash" : 0.16784796225572673
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#ffffff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "provider" : "image-map",
              "gmApiKey" : "AIzaSyDoEx2kaGz3PxwbI9T7ccTSg5xjdw8Nw8Q",
              "gmDefaultMapType" : "roadmap",
              "mapProvider" : "OpenStreetMap.Mapnik",
              "useCustomProvider" : false,
              "customProviderTileUrl" : "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
              "mapProviderHere" : "HERE.normalDay",
              "credentials" : {
                "app_id" : "AhM6TzD9ThyK78CT3ptx",
                "app_code" : "p6NPiITB3Vv0GMUFnkLOOg",
                "useV3" : false
              },
              "mapImageUrl" : "data:image/svg+xml;base64,PHN2ZyBpZD0ic3ZnMiIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwIiB3aWR0aD0iMTAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgdmlld0JveD0iMCAwIDEwMCAxMDAiPgogPGcgaWQ9ImxheWVyMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtOTUyLjM2KSI+CiAgPHJlY3QgaWQ9InJlY3Q0Njg0IiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBoZWlnaHQ9Ijk5LjAxIiB3aWR0aD0iOTkuMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB5PSI5NTIuODYiIHg9Ii40OTUwNSIgc3Ryb2tlLXdpZHRoPSIuOTkwMTAiIGZpbGw9IiNlZWUiLz4KICA8dGV4dCBpZD0idGV4dDQ2ODYiIHN0eWxlPSJ3b3JkLXNwYWNpbmc6MHB4O2xldHRlci1zcGFjaW5nOjBweDt0ZXh0LWFuY2hvcjptaWRkbGU7dGV4dC1hbGlnbjpjZW50ZXIiIGZvbnQtd2VpZ2h0PSJib2xkIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmb250LXNpemU9IjEwcHgiIGxpbmUtaGVpZ2h0PSIxMjUlIiB5PSI5NzAuNzI4MDkiIHg9IjQ5LjM5NjQ3NyIgZm9udC1mYW1pbHk9IlJvYm90byIgZmlsbD0iIzY2NjY2NiI+PHRzcGFuIGlkPSJ0c3BhbjQ2OTAiIHg9IjUwLjY0NjQ3NyIgeT0iOTcwLjcyODA5Ij5JbWFnZSBiYWNrZ3JvdW5kIDwvdHNwYW4+PHRzcGFuIGlkPSJ0c3BhbjQ2OTIiIHg9IjQ5LjM5NjQ3NyIgeT0iOTgzLjIyODA5Ij5pcyBub3QgY29uZmlndXJlZDwvdHNwYW4+PC90ZXh0PgogIDxyZWN0IGlkPSJyZWN0NDY5NCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgaGVpZ2h0PSIxOS4zNiIgd2lkdGg9IjY5LjM2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgeT0iOTkyLjY4IiB4PSIxNS4zMiIgc3Ryb2tlLXdpZHRoPSIuNjM5ODYiIGZpbGw9Im5vbmUiLz4KIDwvZz4KPC9zdmc+Cg==",
              "imageEntityAlias" : "Bungalow Selezionato",
              "imageUrlAttribute" : "floorplan",
              "tmApiKey" : "84d6d83e0e51e481e50454ccbe8986b",
              "tmDefaultMapType" : "roadmap",
              "latKeyName" : "latitude",
              "lngKeyName" : "longitude",
              "xPosKeyName" : "xPos",
              "yPosKeyName" : "yPos",
              "defaultCenterPosition" : "0,0",
              "disableScrollZooming" : false,
              "disableDoubleClickZooming" : false,
              "disableZoomControl" : false,
              "fitMapBounds" : true,
              "useDefaultCenterPosition" : false,
              "mapPageSize" : 16384,
              "markerOffsetX" : 0,
              "markerOffsetY" : 0.5,
              "posFunction" : "return {x: origXPos, y: origYPos};",
              "draggableMarker" : false,
              "showLabel" : false,
              "useLabelFunction" : false,
              "label" : "${entityName}",
              "showTooltip" : true,
              "showTooltipAction" : "hover",
              "autocloseTooltip" : true,
              "useTooltipFunction" : true,
              "tooltipPattern" : "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}",
              "tooltipFunction" : "var darkMode = $('.tb-dashboard-page').hasClass('dark');\r\nvar content = (darkMode ? ('<div style=\"font-family: Roboto;\">' +\r\n                 '<div style=\"font-size: 14px; font-weight: 500; padding-bottom: 8px; color:#212121;\">${Name}</div>') : ('<div style=\"font-family: Roboto;\">' +\r\n                 '<div style=\"font-size: 14px; font-weight: 500; padding-bottom: 8px;\">${Name}</div>'));\r\n\r\nvar deviceType = data['Type'];\r\nif(darkMode==true){\r\n    if (typeof deviceType !== undefined) {\r\n        content += '<div style=\"font-size: 12px; font-weight: normal; color:#212121;\">' + getInfoByDeviceType(deviceType) + '</div>';\r\n    }\r\n}else{\r\n    if (typeof deviceType !== undefined) {\r\n        content += '<div style=\"font-size: 12px; font-weight: normal; color:#212121;\">' + getInfoByDeviceType(deviceType) + '</div>';\r\n    }\r\n}\r\n\r\ncontent += '</div>';\r\nreturn content;\r\n\r\nfunction getInfoByDeviceType(type) {\r\n    switch (type) {\r\n        case 'AA Sensor':\r\n            return 'Temperatura: ${temperature:1} °C<br>Umidità: ${humidity:1} %';\r\n        case 'AA Energy':\r\n            return 'Power: ${Power} W';\r\n        case 'Caldaia':\r\n            return 'Temperatura: ${temperature:1} °C<br>Temperatura Impostata: ${setTemperature:1} °C<br>Stato: ${status}';\r\n        case 'Chiller':\r\n        case 'Freezer':    \r\n            return 'Temperature: ${temperature:1} °C';\r\n        case 'Smart Bin':\r\n            return 'Fullness: ${level:0}%';\r\n        case 'Liquid Level Sensor':\r\n            return 'Liquid level: ${level:0}%';\r\n        case 'Door Sensor':\r\n            var open = data['open'] === 'true';\r\n            return 'State: ' + (open ? 'Open' : 'Closed');\r\n        case 'Motion Sensor':\r\n            var movement = data['movement'] === 'true';\r\n            return 'Movement detection: ' + (movement ? 'Detected' : 'None');\r\n        case 'Occupancy Sensor':\r\n            var occupied = data['occupied'] === 'true';\r\n            return 'State: ' + (occupied ? 'Occupied' : 'Vacant');\r\n        case 'Smoke Sensor':\r\n            var alarm = data['alarm'] === 'true';\r\n            return 'Fire alarm: ' + (alarm ? 'Alarm' : 'None');\r\n        case 'Camera':\r\n            return 'Persone: ${person}';\r\n        case 'Presenza':\r\n            return '${presenza}';\r\n        case 'Acqua':\r\n            return 'Litri: ${mc} l';\r\n        default:\r\n            return 'TODO';\r\n    }\r\n}\r\n",
              "tooltipOffsetX" : 0.5,
              "tooltipOffsetY" : -0.5,
              "color" : "#FE7569",
              "useColorFunction" : false,
              "useMarkerImageFunction" : true,
              "markerImageSize" : 34,
              "markerImageFunction" : "var type = data['Type'];\nvar active = data['active'];\nvar state = data['state'];\nvar presenza = data['presenza'];\nvar selectedDevice = data['selectedDevice'] === true;\nvar selectedMode = dsData.filter(function (data) { return data['selectedDevice'] === true; }).length > 0;\nvar status = state;\nif (active === 'false') {\n    status = 'disconnected';\n}\n\nvar text = getDeviceText(type, status);\n\nvar defaultMarkerWidth = 30;\n\nvar width = defaultMarkerWidth + getTextWidth(text);\n\nvar svgStr = getDeviceSvg(type, status, width, text, selectedDevice);\n\nvar encodedSvg = encodeURIComponent(svgStr);\n\nvar svgUrl = 'data:image/svg+xml,' + encodedSvg;\n\n\n\nif (selectedDevice) {\n    width += 8;\n    defaultMarkerWidth += 8;\n}\n\nreturn {\n    url: svgUrl,\n    size: width,\n    markerOffset: [defaultMarkerWidth / 2, defaultMarkerWidth / 2],\n    tooltipOffset: [width * 0.5 - defaultMarkerWidth / 2, - (defaultMarkerWidth / 2)]\n};\n\n\n\nfunction getDeviceSvg(type, status, width, text, isSelected) {\n    var shape = getDeviceShape(type);\n    var color = getBackgroundColor(type, status, presenza);\n    var background = getDeviceBackground(color, width);\n    var svgWidth = isSelected ? (width + 8) : width;\n    var svgHeight = isSelected ? 38 : 30;\n    \n    var opacity = selectedMode && !selectedDevice ? 0.4 : 1;\n    \n    var deviceSvg = '<svg opacity=\"' + opacity + '\" width=\"' + svgWidth + '\" height=\"' + svgHeight + '\" viewBox=\"0 0 ' + svgWidth + ' ' + svgHeight + '\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                    wrapIfSelected(background + shape, isSelected);\n    if (status === 'disconnected') {\n        deviceSvg += wrapIfSelected('<path d=\"M6.92896 21.728L21.0711 7.58589L22.4853 9.00011L8.34317 23.1422L6.92896 21.728Z\" fill=\"' + color + '\"/>' +\n                     '<path d=\"M7.10692 21.3171C6.81393 21.0241 6.81393 20.5491 7.10692 20.2561L20.1852 7.17788C20.4781 6.88489 20.9532 6.88489 21.2462 7.17788V7.17788C21.5392 7.47088 21.5392 7.94591 21.2462 8.2389L8.16794 21.3171C7.87495 21.6101 7.39991 21.6101 7.10692 21.3171V21.3171Z\" fill=\"white\"/>', isSelected);\n    }\n    if (text !== '') {\n        var transform = isSelected ? '34 10' : '30 6';\n        deviceSvg += '<text transform=\"translate(' + transform + ')\" fill=\"white\" xml:space=\"preserve\" style=\"white-space: pre\" font-family=\"Roboto\" font-size=\"15.4\" font-weight=\"500\" letter-spacing=\"0em\"><tspan x=\"0.10664\" y=\"14.2637\">' + text + '</tspan></text>';\n    }\n    if (selectedDevice) {\n        deviceSvg += getDeviceSelectionStroke(width);\n    }\n    deviceSvg += '</svg>';\n    return deviceSvg;\n}\n\nfunction wrapIfSelected(svg, isSelected) {\n    if (isSelected) {\n        return '<g transform=\"translate(4 4)\">' + svg + '</g>';\n    } else {\n        return svg;\n    }\n}\n\nfunction getDeviceBackground(color, width) {\n     if (width === 30) {\n         return '<circle cx=\"15\" cy=\"15\" r=\"15\" fill=\"'+ color +'\"/>';\n     } else {\n         return '<circle cx=\"15\" cy=\"15\" r=\"15\" fill=\"'+ color +'\"/>' + \n                '<circle cx=\"' + (width - 15) + '\" cy=\"15\" r=\"15\" fill=\"'+ color +'\"/>' +\n                '<rect x=\"15\" y=\"0\" width=\"' + (width - 30) + '\" height=\"30\" rx=\"1\" fill=\"'+ color +'\"/>';\n     }\n}\n\nfunction getDeviceSelectionStroke(width) {\n     if (width === 30) {\n         return '<circle cx=\"19\" cy=\"19\" r=\"18\" stroke=\"#D5C21B\" stroke-width=\"2\"/>';\n     } else {\n         var rectWidth = width + 6;\n         return '<rect x=\"1\" y=\"1\" width=\"' + rectWidth + '\" height=\"36\" rx=\"18\" stroke=\"#D5C21B\" stroke-width=\"2\"/>';\n     }\n}\n\nfunction getBackgroundColor(type, status, presenza) {\n    switch(status) {\n        case 'major':\n            return '#D5C21B';\n        case 'Occupato':\n        case 'critical':   \n            return '#E64A19';\n        case 'disconnected':\n            return '#CAC1D2';\n        case 'Libero':\n        case 'normal':\n        default:\n            switch(presenza){\n                case 'Occupato':\n                    return '#E64A19';\n                case 'Libero':\n                    return '#1F8B4D';\n                default:\n                switch(type) {\n                    case 'Freezer':\n                    case 'Chiller':\n                        return '#4A8AEC';\n                    default:\n                        return '#1F8B4D';\n                }\n                break;\n            }\n            \n    }\n}\n\nfunction getTextWidth(text) {\n    var width = 0;\n    for (var i = 0; i < text.length; i++) {\n        var charWidth;\n        var character = text.charAt(i);\n        if (character === ' ') {\n            charWidth = 8;\n        } else if (character === '-') {\n            charWidth = 7;\n        } else if (character === '°') {\n            charWidth = 5;\n        } else if (!isNaN(character * 1)){\n            charWidth = 9;\n        } else {\n            // Upper case\n            if (character === character.toUpperCase()) {\n                charWidth = 12;\n            // Lower case    \n            } else {\n                charWidth = 10;\n            }\n        }\n        width += charWidth;\n    }\n    return width;\n}\n\nfunction getDeviceText(type, status) {\n    switch(status) {\n        case 'disconnected':\n            return 'NO CONN';\n        case 'normal':\n        default:    \n            switch(type) {\n                case 'AA Sensor':\n                    var temperature = Number(data['temperature']);\n                    return temperature + ' °C';\n                case 'Caldaia':\n                    var temperature = Number(data['temperature']);\n                    return temperature + ' °C';\n                case 'Camera':\n                    var person = Number(data['person']);\n                    return person + ' persone';\n                case 'Presenza':\n                    var presenza = data['presenza'];\n                    return presenza;\n                case 'AA Energy':\n                    var power = data['Power'];\n                    return power +' W';\n                case 'Acqua':\n                    var acqua = data['mc'];\n                    return acqua.toFixed(2) + ' l';\n                default:\n                    return '';\n            }\n            break;\n    }\n}\n\nfunction getDeviceShape(type) {\n    switch (type) {\n        case 'Smart Shelf':\n            return '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.5 7C7.22386 7 7 7.22386 7 7.5V22.5C7 22.7761 7.22386 23 7.5 23C7.77614 23 8 22.7761 8 22.5V22H22V22.5C22 22.7761 22.2239 23 22.5 23C22.7761 23 23 22.7761 23 22.5V7.5C23 7.22386 22.7761 7 22.5 7C22.2239 7 22 7.22386 22 7.5V13H19C19.5523 13 20 12.5523 20 12V9C20 8.44772 19.5523 8 19 8H16C15.4477 8 15 8.44772 15 9V12C15 12.5523 15.4477 13 16 13H12C12.5523 13 13 12.5523 13 12V11C13 10.4477 12.5523 10 12 10H11C10.4477 10 10 10.4477 10 11V12C10 12.5523 10.4477 13 11 13H8V7.5C8 7.22386 7.77614 7 7.5 7ZM22 21V14H8V21H11C10.4477 21 10 20.5523 10 20V17C10 16.4477 10.4477 16 11 16H14C14.5523 16 15 16.4477 15 17V20C15 20.5523 14.5523 21 14 21H17C16.4477 21 16 20.5523 16 20V18C16 17.4477 16.4477 17 17 17H19C19.5523 17 20 17.4477 20 18V20C20 20.5523 19.5523 21 19 21H22Z\" fill=\"white\"/>';\n        case 'AA Energy':\n            return '<svg enable-background=\"new 0 0 30 30\" x=\"5\" y=\"5\" height=\"20px\" id=\"square_icons\" version=\"1.1\" viewBox=\"0 0 30 30\" width=\"20px\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><polygon clip-rule=\"evenodd\" fill=\"white\" fill-rule=\"evenodd\" points=\"22.5,10 16.8,10 20.8,0.1 10.9,0.1 7.5,16.7 11.4,16.7   9.2,29.9 \"/></svg>'\n        case 'Caldaia':\n            return '<svg enable-background=\"new 0 0 32 32\"  height=\"25px\" width=\"25px\" x=\"2.5\" y=\"2.5\"  version=\"1.1\" viewBox=\"0 0 32 32\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Energy20\"><path d=\"M25.96,8.73C25.84,8.29,25.42,7.95,24.97,8c-0.46,0.02-0.85,0.34-0.95,0.8c-0.42,2.01-1.8,4.26-3.01,4.26   c-0.4,0-0.82-0.25-1.27-0.74C18.15,10.59,17.22,4.21,17,1.9c-0.04-0.36-0.28-0.68-0.62-0.82c-0.34-0.14-0.73-0.09-1.01,0.15   c-4.99,4.1-5.49,10.56-5.45,13.44c-2.04-1.03-2.95-3.93-2.96-3.96C6.82,10.26,6.41,9.96,5.93,10c-0.47,0.04-0.85,0.38-0.92,0.85   c-1.19,7.61-0.29,13.22,2.65,16.66c2.72,3.17,6.36,3.5099,7.79,3.5099c0.38,0,0.62-0.02,0.62-0.02c3.75-0.25,6.6-1.7,8.47-4.33   C29.09,20.27,26.09,9.2,25.96,8.73z\" fill=\"white\"/></g><g id=\"Energy19\"/><g id=\"Energy18\"/><g id=\"Energy17\"/><g id=\"Energy16\"/><g id=\"Energy15\"/><g id=\"Energy14\"/><g id=\"Energy13\"/><g id=\"Energy12\"/><g id=\"Energy11\"/><g id=\"Energy10\"/><g id=\"Energy09\"/><g id=\"Energy08\"/><g id=\"Energy07\"/><g id=\"Energy06\"/><g id=\"Energy05\"/><g id=\"Energy04\"/><g id=\"Energy03\"/><g id=\"Energy02\"/><g id=\"Energy01\"/></svg>';\n        case 'AA Sensor':\n            return '<svg viewBox=\"0 0 320 512\" height=\"25px\" width=\"25px\" x=\"2.5\" y=\"2.5\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M176 322.9l.0002-114.9c0-8.75-7.25-16-16-16s-15.1 7.25-15.1 16L144 322.9c-18.62 6.625-32 24.25-32 45.13c0 26.5 21.5 48 48 48s48-21.5 48-48C208 347.1 194.6 329.5 176 322.9zM272 278.5V112c0-61.87-50.12-112-111.1-112S48 50.13 48 112v166.5c-19.75 24.75-32 55.5-32 89.5c0 79.5 64.5 143.1 144 143.1S304 447.5 304 368C304 334 291.8 303.1 272 278.5zM160 448c-44.13 0-80-35.87-80-79.1c0-25.5 12.25-48.88 32-63.75v-192.3c0-26.5 21.5-48 48-48s48 21.5 48 48v192.3c19.75 14.75 32 38.25 32 63.75C240 412.1 204.1 448 160 448z\"/></svg>';\n        case 'Freezer':\n            return '<rect x=\"14\" y=\"7\" width=\"2\" height=\"16\" rx=\"1\" fill=\"white\"/>' +\n                   '<path d=\"M17.5 8.5L15 11L12.5 8.5M17.5 21.5L15 19L12.5 21.5\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>' +\n                   '<path d=\"M21.8792 13.9151L18.4641 13L19.3792 9.58496M10.6208 20.4151L11.5359 17L8.12082 16.085\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>' +\n                   '<path d=\"M10.6208 9.58491L11.5359 13L8.12085 13.915M21.8792 16.0849L18.4641 17L19.3792 20.415\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>' +\n                   '<rect x=\"21.4282\" y=\"10.1338\" width=\"2\" height=\"16\" rx=\"1\" transform=\"rotate(60 21.4282 10.1338)\" fill=\"white\"/>' +\n                   '<rect x=\"7.57178\" y=\"11.8662\" width=\"2\" height=\"16\" rx=\"1\" transform=\"rotate(-60 7.57178 11.8662)\" fill=\"white\"/>';\n        case 'Chiller':\n            return '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18.0001 12.4999C18.0001 13.5371 17.2661 14.2516 16.4454 14.6433C16.2807 14.7219 16.1185 14.7506 15.9657 14.7387C15.9881 14.822 16.0001 14.9096 16.0001 14.9999C16.0001 15.0304 15.9988 15.0605 15.9961 15.0902C16.1511 15.0322 16.322 14.9999 16.5001 14.9999L17.5001 14.9999L18.5 14.9999C19.3285 14.9999 20.0003 15.6975 19.6435 16.4452C19.2517 17.2658 18.5373 17.9999 17.5001 17.9999C16.4629 17.9999 15.7484 17.2658 15.3567 16.4452C15.2781 16.2805 15.2494 16.1184 15.2613 15.9655C15.178 15.988 15.0905 15.9999 15.0001 15.9999C14.9697 15.9999 14.9395 15.9986 14.9097 15.9959C14.9678 16.1509 15 16.3218 15 16.5L15 17.4999L15 18.4999C15.0001 19.3284 14.3025 20.0002 13.5548 19.6433C12.7341 19.2516 12.0001 18.5371 12.0001 17.4999C12.0001 16.4627 12.7341 15.7483 13.5548 15.3566C13.7195 15.278 13.8817 15.2493 14.0346 15.2611C14.0121 15.1779 14.0001 15.0903 14.0001 14.9999C14.0001 14.9695 14.0015 14.9394 14.0042 14.9096C13.8492 14.9677 13.6784 14.9999 13.5003 14.9999L12.5003 14.9999L11.5003 14.9999C10.6719 14.9999 10.0001 14.3023 10.3569 13.5547C10.7486 12.734 11.4631 11.9999 12.5003 11.9999C13.5375 11.9999 14.252 12.734 14.6437 13.5547C14.7223 13.7193 14.751 13.8815 14.7391 14.0343C14.8223 14.0119 14.9098 13.9999 15.0001 13.9999C15.0306 13.9999 15.0607 14.0013 15.0905 14.004C15.0324 13.849 15.0002 13.6781 15.0002 13.4999L15.0002 12.4999L15.0002 11.5C15.0001 10.6715 15.6977 9.99969 16.4454 10.3566C17.2661 10.7483 18.0001 11.4627 18.0001 12.4999Z\" fill=\"white\"/>' +\n                    '<circle cx=\"15\" cy=\"15\" r=\"8\" stroke=\"white\" stroke-width=\"2\"/>';\n        case 'Door Sensor':\n            return '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19 9H11V21H19V9ZM13 17C13.5523 17 14 16.5523 14 16C14 15.4477 13.5523 15 13 15C12.4477 15 12 15.4477 12 16C12 16.5523 12.4477 17 13 17Z\" fill=\"white\"/>' +\n                   '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M21 22V8C21 7.44772 20.5523 7 20 7H10C9.44772 7 9 7.44772 9 8V22H8.5C8.22386 22 8 22.2239 8 22.5C8 22.7761 8.22386 23 8.5 23H21.5C21.7761 23 22 22.7761 22 22.5C22 22.2239 21.7761 22 21.5 22H21ZM20 8H10L10 22H20V8Z\" fill=\"white\"/>';\n        case 'Liquid Level Sensor':\n            return '<path d=\"M19.6363 5.45321C19.8228 5.21026 20.1772 5.21026 20.3637 5.45321C20.9404 6.2044 22 7.73057 22 8.80373C22 10.0272 21.1143 10.9998 20 10.9998C18.8857 10.9998 18 10.0272 18 8.80373C18 7.73057 19.0596 6.2044 19.6363 5.45321Z\" fill=\"white\"/>' +\n                   '<path d=\"M13.3017 7.76073C13.6779 7.33798 14.3221 7.33798 14.6983 7.76073C16.2801 9.53832 20 14.0479 20 17.1437C20 20.4064 17.3427 23 14 23C10.6573 23 8 20.4064 8 17.1437C8 14.0479 11.7199 9.53832 13.3017 7.76073Z\" fill=\"white\"/>';\n        case 'Motion Sensor':\n            return '<path d=\"M7.5 10C7.22386 10 7 10.2239 7 10.5C7 10.7761 7.22386 11 7.5 11H9C9 11.5523 9.44772 12 10 12H20C20.5523 12 21 11.5523 21 11H22.5C22.7761 11 23 10.7761 23 10.5C23 10.2239 22.7761 10 22.5 10H7.5Z\" fill=\"white\"/>' +\n                   '<path d=\"M17.0001 17C17.5524 17 18.0001 16.5523 18.0001 16C18.0001 15.4477 17.5524 15 17.0001 15C16.4478 15 16.0001 15.4477 16.0001 16C16.0001 16.5523 16.4478 17 17.0001 17Z\" fill=\"white\"/>' +\n                   '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.0001 21C19.0804 21 22.4472 17.9453 22.9384 13.998C23.0066 13.45 22.5524 13 22.0001 13H8.00009C7.4478 13 6.99353 13.45 7.06173 13.998C7.55295 17.9453 10.9198 21 15.0001 21ZM17.0001 18C18.1047 18 19.0001 17.1046 19.0001 16C19.0001 14.8954 18.1047 14 17.0001 14C15.8955 14 15.0001 14.8954 15.0001 16C15.0001 17.1046 15.8955 18 17.0001 18Z\" fill=\"white\"/>';\n        case 'Occupancy Sensor':\n            return '<path d=\"M12 8.5C12 9.32843 11.3284 10 10.5 10C9.67157 10 9 9.32843 9 8.5C9 7.67157 9.67157 7 10.5 7C11.3284 7 12 7.67157 12 8.5Z\" fill=\"white\"/>' +\n                   '<path d=\"M10 22L10 19H11L11 22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V17C13.5523 17 14 16.5523 14 16V12.8865C14 11.8446 13.1554 11 12.1135 11C12.0947 11 12.076 11.0005 12.0574 11.0016C12.0384 11.0005 12.0193 11 12 11L9 11C8.98072 11 8.96157 11.0005 8.94255 11.0016C8.92403 11.0005 8.90535 11 8.88652 11C7.84462 11 7 11.8446 7 12.8865V16C7 16.5523 7.44772 17 8 17V22C8 22.5523 8.44772 23 9 23C9.55229 23 10 22.5523 10 22Z\" fill=\"white\"/>' +\n                   '<path d=\"M21 23C20.4477 23 20 22.5523 20 22V19H19V22C19 22.5523 18.5523 23 18 23C17.4477 23 17 22.5523 17 22V19H15.7215C15.3724 19 15.1308 18.6513 15.2533 18.3244L17.4733 12.4045C17.7901 11.5597 18.5977 11 19.5 11C20.4023 11 21.2099 11.5597 21.5267 12.4045L23.7467 18.3244C23.8692 18.6513 23.6276 19 23.2785 19H22V22C22 22.5523 21.5523 23 21 23Z\" fill=\"white\"/>' +\n                   '<path d=\"M19.5 10C20.3284 10 21 9.32843 21 8.5C21 7.67157 20.3284 7 19.5 7C18.6716 7 18 7.67157 18 8.5C18 9.32843 18.6716 10 19.5 10Z\" fill=\"white\"/>';\n        case 'Smoke Sensor':\n            return '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.6449 7.08319C14.4844 6.9888 14.2848 6.99138 14.1268 7.08988C13.9689 7.18839 13.8787 7.3665 13.8928 7.55213C13.9817 8.71876 13.788 9.5943 13.4536 10.3048C13.1161 11.0222 12.6221 11.6001 12.0639 12.157C11.884 12.3364 11.6901 12.5201 11.4921 12.7076C11.102 13.0772 10.6962 13.4616 10.3519 13.8572C9.81113 14.4785 9.35082 15.1982 9.15741 16.131C8.35478 20.0023 11.4395 23.1649 15.361 22.9822C15.41 22.9806 15.4592 22.9779 15.5088 22.9741L15.55 22.9708L15.5673 22.9695C15.6635 22.9622 15.7585 22.9532 15.8523 22.9427C15.897 22.9427 15.9422 22.9409 15.9878 22.9375C16.1369 22.9261 16.2735 22.9002 16.3976 22.8614C17.9028 22.5787 19.0571 21.8581 19.836 20.8302C20.7453 19.6303 21.1036 18.0646 20.9781 16.4151C20.7275 13.1215 18.5473 9.37866 14.6449 7.08319ZM17.1372 20.5326C17.1487 20.5269 17.1601 20.521 17.1714 20.5152C17.2227 20.2706 17.2393 20.0003 17.2172 19.7101C17.1353 18.6344 16.5243 17.3752 15.3912 16.4298C15.3443 16.6743 15.2711 16.8979 15.1767 17.1045C14.9725 17.5515 14.6812 17.8915 14.4045 18.1748C14.2918 18.2902 14.1897 18.3891 14.0946 18.4812C13.9367 18.6341 13.798 18.7684 13.6624 18.9284C13.4669 19.1591 13.3359 19.3839 13.2812 19.6575C13.209 20.018 13.2336 20.3634 13.336 20.6725C13.6953 20.8186 14.0884 20.9185 14.5095 20.9633C14.6266 20.764 14.7998 20.6036 14.9778 20.4389C15.3505 20.0938 15.7439 19.7297 15.6844 18.949C16.3929 19.3558 16.8813 19.938 17.1372 20.5326ZM18.2143 19.6343L18.2159 19.6563L18.2421 19.6222C18.7907 18.8983 19.0816 17.8503 18.9839 16.5668C18.8301 14.5445 17.7138 12.1546 15.6097 10.2554C15.5143 10.5702 15.3981 10.8699 15.2634 11.1563C14.781 12.1816 14.0987 12.9521 13.4765 13.5728C13.2089 13.8399 12.9769 14.0585 12.7661 14.2572C12.4306 14.5735 12.1485 14.8394 11.8606 15.1701C11.4574 15.6334 11.2168 16.0502 11.1159 16.537C10.8355 17.8894 11.2931 19.1616 12.2395 19.9971C12.2442 19.8222 12.2642 19.6432 12.3006 19.4613C12.3992 18.9687 12.6356 18.5933 12.8995 18.2819C13.0637 18.0882 13.2666 17.8908 13.4492 17.7131C13.5358 17.6288 13.6179 17.549 13.6891 17.4761C13.9335 17.2258 14.1329 16.9826 14.2671 16.689C14.3984 16.4016 14.4796 16.0379 14.4412 15.5337C14.427 15.347 14.5184 15.168 14.6779 15.0698C14.8374 14.9717 15.0384 14.971 15.1986 15.068C17.0451 16.1851 18.0906 18.0082 18.2143 19.6343Z\" fill=\"white\"/>';\n        case 'Camera':\n            return '<svg viewBox=\"0 0 20 20\" height=\"20px\" width=\"20px\" x=\"6\" y=\"5\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/></svg>';\n        case 'Presenza':\n            return '<svg id=\"Layer_1\" fill=\"white\" height=\"20px\" width=\"20px\" x=\"6\" y=\"5\" style=\"enable-background:new 0 0 128 128;\" version=\"1.1\" viewBox=\"0 0 128 128\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"M32.15,34.53c-7.17,0-13-5.83-13-13s5.83-13,13-13s13,5.83,13,13S39.32,34.53,32.15,34.53z M32.15,14.53    c-3.86,0-7,3.14-7,7s3.14,7,7,7s7-3.14,7-7S36.01,14.53,32.15,14.53z\"/></g><g><path d=\"M47.96,127c-3.93,0-7.37-2.52-8.57-6.26c-4.87-15.23-7.54-28.16-7.65-28.7c-0.52-2.55,0.08-5.2,1.66-7.27    c0.18-0.24,4.22-5.48,10.85-10.72c-1.49-3.33-3.71-7.94-6.35-12.46c-0.06,0.13-0.13,0.26-0.19,0.39l-2.9,6.17    c-1.48,3.14-4.67,5.17-8.15,5.17c-1.26,0-2.49-0.26-3.65-0.78l-16.66-7.4c-2.24-1-3.95-2.82-4.79-5.12    c-0.85-2.3-0.73-4.79,0.34-7.01c2.09-4.34,7.47-6.23,11.99-4.22l8.43,3.75c3.98-7.38,10.38-13.1,18.22-16.24    c7.49-3,15.87-3.37,23.6-1.05c8.09,2.49,15.23,7.65,20.11,14.54l5.3,7.48c1.39,1.97,1.93,4.35,1.52,6.72    c-0.41,2.37-1.72,4.44-3.68,5.82c-1.8,1.27-3.99,1.83-6.17,1.59c-1.65-0.18-2.84-1.66-2.66-3.31c0.18-1.65,1.67-2.83,3.31-2.66    c0.73,0.08,1.46-0.11,2.06-0.53c0.65-0.46,1.09-1.15,1.23-1.94s-0.04-1.58-0.51-2.24l-5.29-7.48C75.24,47.45,69.22,43.09,62.41,41    c-6.41-1.92-13.39-1.61-19.63,0.88c-7.03,2.81-12.68,8.14-15.91,14.99l-0.41,0.86c-0.7,1.48-2.44,2.12-3.93,1.46l-11.06-4.92    c-1.59-0.71-3.46-0.11-4.15,1.34c-0.36,0.74-0.4,1.57-0.11,2.34c0.28,0.77,0.85,1.38,1.6,1.71l16.66,7.4    c1.46,0.65,3.26-0.04,3.93-1.46l2.9-6.17c0.89-1.89,2.05-3.68,3.44-5.31c0.61-0.72,1.53-1.1,2.47-1.05    c0.94,0.06,1.8,0.56,2.32,1.35c4.4,6.69,7.97,14.25,10.19,19.41c0.55,1.29,0.14,2.78-0.99,3.61    c-7.08,5.17-11.37,10.75-11.55,10.98c-0.53,0.69-0.73,1.57-0.55,2.42c0.11,0.53,2.71,13.15,7.49,28.08    c0.4,1.25,1.55,2.09,2.86,2.09c0.43,0,0.86-0.1,1.27-0.28c1.34-0.62,2-2.32,1.51-3.88c-3.29-10.34-5.55-19.67-6.61-24.31    c-0.22-0.96,0.05-1.96,0.71-2.69c2.55-2.78,6.71-6.77,12.06-9.99c1.42-0.85,3.26-0.39,4.12,1.03C61.88,82.3,61.42,84.14,60,85    c-4.17,2.5-7.57,5.62-9.65,7.76c1.14,4.9,3.22,13.18,6.12,22.26c1.42,4.47-0.61,9.27-4.72,11.15C50.53,126.72,49.26,127,47.96,127    z\"/></g><g><path d=\"M84.98,127c-2.35,0-4.71-0.92-6.47-2.74c-2.49-2.58-15.11-15.91-18.63-25.37c-0.45-1.21-0.83-2.74-1.15-4.68    c-0.27-1.63,0.83-3.18,2.46-3.46c1.63-0.27,3.18,0.83,3.46,2.46c0.32,1.92,0.65,3.01,0.86,3.59c2.57,6.92,12.09,17.89,17.31,23.29    c1.15,1.19,3.05,1.22,4.24,0.07c1.19-1.15,1.22-3.05,0.07-4.24c-3.67-3.8-13.7-15.01-16-21.21c-1.05-2.81-1.58-12.21-1.66-17.48    c0-0.18-0.02-0.36-0.06-0.54c-0.1-0.52-2.6-12.8-9.08-24.69c-0.79-1.45-0.26-3.28,1.2-4.07c1.45-0.79,3.28-0.26,4.07,1.2    c6.91,12.69,9.58,25.84,9.69,26.4c0.1,0.53,0.16,1.07,0.17,1.61c0.12,6.97,0.8,14.18,1.29,15.49c1.46,3.94,8.77,13,14.69,19.13    c3.45,3.57,3.35,9.27-0.21,12.72C89.5,126.16,87.24,127,84.98,127z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M88,23h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S89.66,23,88,23z\"/></g><g><path d=\"M124,23h-21c-1.66,0-3-1.34-3-3s1.34-3,3-3h21c1.66,0,3,1.34,3,3S125.66,23,124,23z\"/></g></g></svg>';\n        case 'Acqua':\n            return '<svg viewBox=\"0 0 24 24\" fill=\"white\" height=\"20px\" width=\"20px\" x=\"5\" y=\"5\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g data-name=\"Layer 2\" id=\"Layer_2\"><path d=\"M12.65,2.24,12,1.68l-.65.56C11,2.5,4,8.6,4,14a8,8,0,0,0,16,0C20,8.6,13,2.5,12.65,2.24Zm1.58,16.23-.89-1.79A3,3,0,0,0,15,14h2A5,5,0,0,1,14.23,18.47Z\"/></g></svg>';\n        default:\n            return '';\n    }\n}\n",
              "markerImages" : [ ],
              "showPolygon" : false,
              "polygonKeyName" : "perimeter",
              "editablePolygon" : false,
              "showPolygonLabel" : false,
              "usePolygonLabelFunction" : false,
              "polygonLabel" : "${entityName}",
              "showPolygonTooltip" : false,
              "showPolygonTooltipAction" : "click",
              "autoClosePolygonTooltip" : true,
              "usePolygonTooltipFunction" : false,
              "polygonTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
              "polygonColor" : "#3388ff",
              "polygonOpacity" : 0.2,
              "usePolygonColorFunction" : false,
              "polygonStrokeColor" : "#3388ff",
              "polygonStrokeOpacity" : 1,
              "polygonStrokeWeight" : 3,
              "usePolygonStrokeColorFunction" : false,
              "showCircle" : false,
              "circleKeyName" : "perimeter",
              "editableCircle" : false,
              "showCircleLabel" : false,
              "useCircleLabelFunction" : false,
              "circleLabel" : "${entityName}",
              "showCircleTooltip" : false,
              "showCircleTooltipAction" : "click",
              "autoCloseCircleTooltip" : true,
              "useCircleTooltipFunction" : false,
              "circleTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
              "circleFillColor" : "#3388ff",
              "circleFillColorOpacity" : 0.2,
              "useCircleFillColorFunction" : false,
              "circleStrokeColor" : "#3388ff",
              "circleStrokeOpacity" : 1,
              "circleStrokeWeight" : 3,
              "useCircleStrokeColorFunction" : false
            },
            "title" : "Supermarket plan",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : {
              "markerClick" : [ {
                "name" : "Select device",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var params = JSON.parse(JSON.stringify(widgetContext.stateController.getStateParams()));\nvar selectedDevice = params['selectedDevice'];\nif (selectedDevice && selectedDevice.entityId.id === entityId.id) {\n    params['selectedDevice'] = null;\n} else {\n    params['selectedDevice'] = { entityId: entityId };\n}\nwidgetContext.stateController.updateState(null, params);",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c33ff837-63f4-df99-87f2-f2f409b5c997"
              } ]
            },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "noDataDisplayMessage" : "",
            "widgetCss" : ".leaflet-popup-content-wrapper, .leaflet-popup-tip {\n    background: #fff;\n    color: #333;\n    box-shadow: 0px 7px 14px rgba(40, 35, 45, 0.21);\n}\n\n.leaflet-popup-content-wrapper {\n    padding: 1px;\n    text-align: left;\n    border-radius: 4px;\n}\n\n.leaflet-container a.leaflet-popup-close-button {\n    padding: 8px 8px 0 0;\n}\n\n.leaflet-popup-content {\n    margin: 12px 25px 12px 16px;\n}\n\n.leaflet-popup-tip {\n    width: 14px;\n    height: 14px;\n}\n",
            "pageSize" : 1024,
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "7a37cf70-51c1-aef6-ef15-27041e016bd5",
          "typeFullFqn" : "system.maps_v2.image_map"
        },
        "225675bf-745f-b2bc-b83c-52d751910205" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "criticalAlarmsCount",
                "type" : "timeseries",
                "label" : "criticalAlarmsCount",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.031424315886006804
              }, {
                "name" : "majorAlarmsCount",
                "type" : "timeseries",
                "label" : "majorAlarmsCount",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.323899218375304
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#ffffff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var criticalCount = data[0]['criticalAlarmsCount'];\nvar majorCount = data[0]['majorAlarmsCount'];\n\nvar criticalClass = criticalCount && Number(criticalCount) > 0 ? 'critical' : 'inactive';\n\nvar majorClass = majorCount && Number(majorCount) > 0 ? 'major' : 'inactive';\n\nreturn '<div style=\"width: 100%; height: 100%; padding: 0;\" fxLayoutGap=\"10px\" fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutAlign.gt-md=\"center center\">'+\n       '<div id=\"critical-alarms\" class=\"alarm-badge '+ criticalClass +'\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i><span class=\"alarm-count\">'+ criticalCount +'</span> Critical</div>' +\n       '<div id=\"major-alarms\" class=\"alarm-badge '+ majorClass +'\"><i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i><span class=\"alarm-count\">'+ majorCount +'</span> Major</div>' + \n       '<div id=\"report\" class=\"alarm-badge report\"><i class=\"fa fa-list\" aria-hidden=\"true\"></i> Report</div>'+\n       '<div>';",
              "markdownCss" : ".alarm-badge {\n    cursor: pointer;\n    border-radius: 22px;\n    padding: 8px 20px;\n    color: #fff;\n    font-size: 18px;\n    transition: background-color 0.5s;\n}\n\n.alarm-badge.critical {\n    background-color: #E64A19;\n}\n\n.alarm-badge.major {\n    background-color: #D4C21B;\n}\n.alarm-badge.report {\n    background-color: #06b6d4;\n}\n.alarm-badge.report:hover {\n    background-color: #0891b2;\n}\n\n.alarm-badge.critical:hover {\n    background-color: #a13d1e;\n}\n\n.alarm-badge.major:hover {\n    background-color: #b7a715;\n}\n\n.alarm-badge.inactive {\n    pointer-events: none;\n    color: #CAC1D2;\n    background-color: rgba(202, 193, 210, 0.05);\n    border: 1px solid rgba(202, 193, 210, 0.15);\n}\n\n.alarm-badge i.fa {\n    padding-right: 8px;\n}\n\n.alarm-badge .alarm-count {\n    font-weight: 700;    \n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "critical-alarms",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "market_critical_alarms",
                "setEntityId" : false,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "bottom",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "800px",
                "popoverHeight" : "600px",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "2255454c-8c83-dfae-2e0b-8d0df6db6a70"
              }, {
                "name" : "major-alarms",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "market_major_alarms",
                "setEntityId" : false,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "bottom",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "800px",
                "popoverHeight" : "600px",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "e52ae76c-959f-f84e-c6b7-3e49c242e70e"
              }, {
                "name" : "report",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "report",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "4e965c55-e832-6e96-2636-7cc5fd976c90"
              } ]
            },
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "225675bf-745f-b2bc-b83c-52d751910205",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "592649d5-d648-e75f-0dc6-5c8ccd94b6d7" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "entitiesTitle" : "Sensori",
              "enableSearch" : true,
              "enableSelectColumnDisplay" : true,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "true",
              "displayEntityName" : false,
              "displayEntityLabel" : false,
              "displayEntityType" : false,
              "displayPagination" : false,
              "defaultSortOrder" : "Name",
              "useRowStyleFunction" : false
            },
            "title" : "Devices",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "24px",
              "fontWeight" : 700,
              "padding" : "5px 10px 5px 10px",
              "height" : "60px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "129977b6-de2f-546b-7df8-2040f39f8732",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "campeggi_name",
                "type" : "attribute",
                "label" : "Nome",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.7748555759204483,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "type",
                "type" : "entityField",
                "label" : "Tipo",
                "color" : "#4caf50",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var darkMode = $('.tb-dashboard-page').hasClass('dark');\nvar type = value;\n\nvar typeSvg = getTypeSvg(type);\nvar encodedTypeSvg = encodeURIComponent(typeSvg);\nvar typeSvgUrl = 'data:image/svg+xml,' + encodedTypeSvg;\n\nreturn '<span>'+\n           '<img style=\"vertical-align: middle;\" class=\"mat-icon\" src=\"'+ typeSvgUrl +'\">' +\n           '<span style=\"vertical-align: middle; padding-left: 8px;\">'+ type +'</span>' +\n       '</span>';\n            \nfunction getTypeSvg(type) {\n    var typeSvg;\n    switch (type) {\n        case 'AA Sensor':\n            if(darkMode==true){\n                typeSvg = '<svg viewBox=\"0 0 320 512\" height=\"20px\" width=\"20px\" x=\"1\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M176 322.9l.0002-50.88c0-8.75-7.25-16-16-16s-15.1 7.25-15.1 16L144 322.9c-18.62 6.625-32 24.25-32 45.13c0 26.5 21.5 48 48 48s48-21.5 48-48C208 347.1 194.6 329.5 176 322.9zM272 278.5V112c0-61.87-50.12-112-111.1-112S48 50.13 48 112v166.5c-19.75 24.75-32 55.5-32 89.5c0 79.5 64.5 143.1 144 143.1S304 447.5 304 368C304 334 291.8 303.1 272 278.5zM160 448c-44.13 0-80-35.87-80-79.1c0-25.5 12.25-48.88 32-63.75v-192.3c0-26.5 21.5-48 48-48s48 21.5 48 48v192.3c19.75 14.75 32 38.25 32 63.75C240 412.1 204.1 448 160 448z\"/></svg>';\n            }else{\n                typeSvg = '<svg viewBox=\"0 0 320 512\" height=\"20px\" width=\"20px\" x=\"1\" fill=\"#212121\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M176 322.9l.0002-50.88c0-8.75-7.25-16-16-16s-15.1 7.25-15.1 16L144 322.9c-18.62 6.625-32 24.25-32 45.13c0 26.5 21.5 48 48 48s48-21.5 48-48C208 347.1 194.6 329.5 176 322.9zM272 278.5V112c0-61.87-50.12-112-111.1-112S48 50.13 48 112v166.5c-19.75 24.75-32 55.5-32 89.5c0 79.5 64.5 143.1 144 143.1S304 447.5 304 368C304 334 291.8 303.1 272 278.5zM160 448c-44.13 0-80-35.87-80-79.1c0-25.5 12.25-48.88 32-63.75v-192.3c0-26.5 21.5-48 48-48s48 21.5 48 48v192.3c19.75 14.75 32 38.25 32 63.75C240 412.1 204.1 448 160 448z\"/></svg>';\n            }\n            break;\n        case 'AA Energy':\n            if(darkMode==true){\n                typeSvg ='<svg id=\"Layer_1\" style=\"enable-background:new 0 0 1024 1024;\" version=\"1.1\" viewBox=\"0 0 1024 1024\" height=\"25px\" width=\"25px\" fill=\"white\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"XMLID_449_\"><polygon id=\"XMLID_475_\" points=\"228.5,947.7 385.3,482 237.4,482 371.2,75 781,75 578.4,452 795.8,452  \"/></g><g id=\"XMLID_1_\"/><g id=\"XMLID_2_\"/><g id=\"XMLID_3_\"/><g id=\"XMLID_4_\"/><g id=\"XMLID_5_\"/></svg>';\n            }else{\n                typeSvg ='<svg id=\"Layer_1\" style=\"enable-background:new 0 0 1024 1024;\" version=\"1.1\" viewBox=\"0 0 1024 1024\" height=\"25px\" width=\"25px\" fill=\"#212121\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"XMLID_449_\"><polygon id=\"XMLID_475_\" points=\"228.5,947.7 385.3,482 237.4,482 371.2,75 781,75 578.4,452 795.8,452  \"/></g><g id=\"XMLID_1_\"/><g id=\"XMLID_2_\"/><g id=\"XMLID_3_\"/><g id=\"XMLID_4_\"/><g id=\"XMLID_5_\"/></svg>';\n            }\n            break;\n        case 'Presenza':\n            if(darkMode){\n                typeSvg = '<svg id=\"Layer_1\" fill=\"white\" height=\"18px\" width=\"18px\" style=\"enable-background:new 0 0 128 128;\" version=\"1.1\" viewBox=\"0 0 128 128\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"M32.15,34.53c-7.17,0-13-5.83-13-13s5.83-13,13-13s13,5.83,13,13S39.32,34.53,32.15,34.53z M32.15,14.53    c-3.86,0-7,3.14-7,7s3.14,7,7,7s7-3.14,7-7S36.01,14.53,32.15,14.53z\"/></g><g><path d=\"M47.96,127c-3.93,0-7.37-2.52-8.57-6.26c-4.87-15.23-7.54-28.16-7.65-28.7c-0.52-2.55,0.08-5.2,1.66-7.27    c0.18-0.24,4.22-5.48,10.85-10.72c-1.49-3.33-3.71-7.94-6.35-12.46c-0.06,0.13-0.13,0.26-0.19,0.39l-2.9,6.17    c-1.48,3.14-4.67,5.17-8.15,5.17c-1.26,0-2.49-0.26-3.65-0.78l-16.66-7.4c-2.24-1-3.95-2.82-4.79-5.12    c-0.85-2.3-0.73-4.79,0.34-7.01c2.09-4.34,7.47-6.23,11.99-4.22l8.43,3.75c3.98-7.38,10.38-13.1,18.22-16.24    c7.49-3,15.87-3.37,23.6-1.05c8.09,2.49,15.23,7.65,20.11,14.54l5.3,7.48c1.39,1.97,1.93,4.35,1.52,6.72    c-0.41,2.37-1.72,4.44-3.68,5.82c-1.8,1.27-3.99,1.83-6.17,1.59c-1.65-0.18-2.84-1.66-2.66-3.31c0.18-1.65,1.67-2.83,3.31-2.66    c0.73,0.08,1.46-0.11,2.06-0.53c0.65-0.46,1.09-1.15,1.23-1.94s-0.04-1.58-0.51-2.24l-5.29-7.48C75.24,47.45,69.22,43.09,62.41,41    c-6.41-1.92-13.39-1.61-19.63,0.88c-7.03,2.81-12.68,8.14-15.91,14.99l-0.41,0.86c-0.7,1.48-2.44,2.12-3.93,1.46l-11.06-4.92    c-1.59-0.71-3.46-0.11-4.15,1.34c-0.36,0.74-0.4,1.57-0.11,2.34c0.28,0.77,0.85,1.38,1.6,1.71l16.66,7.4    c1.46,0.65,3.26-0.04,3.93-1.46l2.9-6.17c0.89-1.89,2.05-3.68,3.44-5.31c0.61-0.72,1.53-1.1,2.47-1.05    c0.94,0.06,1.8,0.56,2.32,1.35c4.4,6.69,7.97,14.25,10.19,19.41c0.55,1.29,0.14,2.78-0.99,3.61    c-7.08,5.17-11.37,10.75-11.55,10.98c-0.53,0.69-0.73,1.57-0.55,2.42c0.11,0.53,2.71,13.15,7.49,28.08    c0.4,1.25,1.55,2.09,2.86,2.09c0.43,0,0.86-0.1,1.27-0.28c1.34-0.62,2-2.32,1.51-3.88c-3.29-10.34-5.55-19.67-6.61-24.31    c-0.22-0.96,0.05-1.96,0.71-2.69c2.55-2.78,6.71-6.77,12.06-9.99c1.42-0.85,3.26-0.39,4.12,1.03C61.88,82.3,61.42,84.14,60,85    c-4.17,2.5-7.57,5.62-9.65,7.76c1.14,4.9,3.22,13.18,6.12,22.26c1.42,4.47-0.61,9.27-4.72,11.15C50.53,126.72,49.26,127,47.96,127    z\"/></g><g><path d=\"M84.98,127c-2.35,0-4.71-0.92-6.47-2.74c-2.49-2.58-15.11-15.91-18.63-25.37c-0.45-1.21-0.83-2.74-1.15-4.68    c-0.27-1.63,0.83-3.18,2.46-3.46c1.63-0.27,3.18,0.83,3.46,2.46c0.32,1.92,0.65,3.01,0.86,3.59c2.57,6.92,12.09,17.89,17.31,23.29    c1.15,1.19,3.05,1.22,4.24,0.07c1.19-1.15,1.22-3.05,0.07-4.24c-3.67-3.8-13.7-15.01-16-21.21c-1.05-2.81-1.58-12.21-1.66-17.48    c0-0.18-0.02-0.36-0.06-0.54c-0.1-0.52-2.6-12.8-9.08-24.69c-0.79-1.45-0.26-3.28,1.2-4.07c1.45-0.79,3.28-0.26,4.07,1.2    c6.91,12.69,9.58,25.84,9.69,26.4c0.1,0.53,0.16,1.07,0.17,1.61c0.12,6.97,0.8,14.18,1.29,15.49c1.46,3.94,8.77,13,14.69,19.13    c3.45,3.57,3.35,9.27-0.21,12.72C89.5,126.16,87.24,127,84.98,127z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M88,23h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S89.66,23,88,23z\"/></g><g><path d=\"M124,23h-21c-1.66,0-3-1.34-3-3s1.34-3,3-3h21c1.66,0,3,1.34,3,3S125.66,23,124,23z\"/></g></g></svg>';\n            }else{\n                typeSvg = '<svg id=\"Layer_1\" fill=\"black\" height=\"18px\" width=\"18px\" style=\"enable-background:new 0 0 128 128;\" version=\"1.1\" viewBox=\"0 0 128 128\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"M32.15,34.53c-7.17,0-13-5.83-13-13s5.83-13,13-13s13,5.83,13,13S39.32,34.53,32.15,34.53z M32.15,14.53    c-3.86,0-7,3.14-7,7s3.14,7,7,7s7-3.14,7-7S36.01,14.53,32.15,14.53z\"/></g><g><path d=\"M47.96,127c-3.93,0-7.37-2.52-8.57-6.26c-4.87-15.23-7.54-28.16-7.65-28.7c-0.52-2.55,0.08-5.2,1.66-7.27    c0.18-0.24,4.22-5.48,10.85-10.72c-1.49-3.33-3.71-7.94-6.35-12.46c-0.06,0.13-0.13,0.26-0.19,0.39l-2.9,6.17    c-1.48,3.14-4.67,5.17-8.15,5.17c-1.26,0-2.49-0.26-3.65-0.78l-16.66-7.4c-2.24-1-3.95-2.82-4.79-5.12    c-0.85-2.3-0.73-4.79,0.34-7.01c2.09-4.34,7.47-6.23,11.99-4.22l8.43,3.75c3.98-7.38,10.38-13.1,18.22-16.24    c7.49-3,15.87-3.37,23.6-1.05c8.09,2.49,15.23,7.65,20.11,14.54l5.3,7.48c1.39,1.97,1.93,4.35,1.52,6.72    c-0.41,2.37-1.72,4.44-3.68,5.82c-1.8,1.27-3.99,1.83-6.17,1.59c-1.65-0.18-2.84-1.66-2.66-3.31c0.18-1.65,1.67-2.83,3.31-2.66    c0.73,0.08,1.46-0.11,2.06-0.53c0.65-0.46,1.09-1.15,1.23-1.94s-0.04-1.58-0.51-2.24l-5.29-7.48C75.24,47.45,69.22,43.09,62.41,41    c-6.41-1.92-13.39-1.61-19.63,0.88c-7.03,2.81-12.68,8.14-15.91,14.99l-0.41,0.86c-0.7,1.48-2.44,2.12-3.93,1.46l-11.06-4.92    c-1.59-0.71-3.46-0.11-4.15,1.34c-0.36,0.74-0.4,1.57-0.11,2.34c0.28,0.77,0.85,1.38,1.6,1.71l16.66,7.4    c1.46,0.65,3.26-0.04,3.93-1.46l2.9-6.17c0.89-1.89,2.05-3.68,3.44-5.31c0.61-0.72,1.53-1.1,2.47-1.05    c0.94,0.06,1.8,0.56,2.32,1.35c4.4,6.69,7.97,14.25,10.19,19.41c0.55,1.29,0.14,2.78-0.99,3.61    c-7.08,5.17-11.37,10.75-11.55,10.98c-0.53,0.69-0.73,1.57-0.55,2.42c0.11,0.53,2.71,13.15,7.49,28.08    c0.4,1.25,1.55,2.09,2.86,2.09c0.43,0,0.86-0.1,1.27-0.28c1.34-0.62,2-2.32,1.51-3.88c-3.29-10.34-5.55-19.67-6.61-24.31    c-0.22-0.96,0.05-1.96,0.71-2.69c2.55-2.78,6.71-6.77,12.06-9.99c1.42-0.85,3.26-0.39,4.12,1.03C61.88,82.3,61.42,84.14,60,85    c-4.17,2.5-7.57,5.62-9.65,7.76c1.14,4.9,3.22,13.18,6.12,22.26c1.42,4.47-0.61,9.27-4.72,11.15C50.53,126.72,49.26,127,47.96,127    z\"/></g><g><path d=\"M84.98,127c-2.35,0-4.71-0.92-6.47-2.74c-2.49-2.58-15.11-15.91-18.63-25.37c-0.45-1.21-0.83-2.74-1.15-4.68    c-0.27-1.63,0.83-3.18,2.46-3.46c1.63-0.27,3.18,0.83,3.46,2.46c0.32,1.92,0.65,3.01,0.86,3.59c2.57,6.92,12.09,17.89,17.31,23.29    c1.15,1.19,3.05,1.22,4.24,0.07c1.19-1.15,1.22-3.05,0.07-4.24c-3.67-3.8-13.7-15.01-16-21.21c-1.05-2.81-1.58-12.21-1.66-17.48    c0-0.18-0.02-0.36-0.06-0.54c-0.1-0.52-2.6-12.8-9.08-24.69c-0.79-1.45-0.26-3.28,1.2-4.07c1.45-0.79,3.28-0.26,4.07,1.2    c6.91,12.69,9.58,25.84,9.69,26.4c0.1,0.53,0.16,1.07,0.17,1.61c0.12,6.97,0.8,14.18,1.29,15.49c1.46,3.94,8.77,13,14.69,19.13    c3.45,3.57,3.35,9.27-0.21,12.72C89.5,126.16,87.24,127,84.98,127z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M88,23h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S89.66,23,88,23z\"/></g><g><path d=\"M124,23h-21c-1.66,0-3-1.34-3-3s1.34-3,3-3h21c1.66,0,3,1.34,3,3S125.66,23,124,23z\"/></g></g></svg>';\n            }\n            break;\n        case 'Camera':\n            if(darkMode==true){\n                typeSvg = '<svg viewBox=\"0 0 20 20\" fill=\"white\" height=\"18px\" width=\"18px\" x=\"2.5\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/></svg>';\n            }else{\n                typeSvg = '<svg viewBox=\"0 0 20 20\" fill=\"black\" height=\"18px\" width=\"18px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/></svg>';\n            }\n            break;\n        case 'Chiller':            \n            typeSvg = '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.0001 7.49994C13.0001 8.53714 12.2661 9.2516 11.4454 9.64333C11.2807 9.72191 11.1185 9.75061 10.9657 9.73874C10.9881 9.82201 ' +\n                      '11.0001 9.90957 11.0001 9.99994C11.0001 10.0304 10.9988 10.0605 10.9961 10.0902C11.1511 10.0322 11.322 9.99993 11.5001 9.99993L12.5001 9.99994L13.5 9.99993C14.3285 9.99992 15.0003 ' +\n                      '10.6975 14.6435 11.4452C14.2517 12.2658 13.5373 12.9999 12.5001 12.9999C11.4629 12.9999 10.7484 12.2658 10.3567 11.4452C10.2781 11.2805 10.2494 11.1184 10.2613 10.9655C10.178 10.988 ' +\n                      '10.0905 10.9999 10.0001 10.9999C9.96965 10.9999 9.93949 10.9986 9.90971 10.9959C9.96779 11.1509 10 11.3218 10 11.5L10 12.4999L10 13.4999C10.0001 14.3284 9.30246 15.0002 8.55482 ' +\n                      '14.6433C7.73413 14.2516 7.00006 13.5371 7.00006 12.4999C7.00006 11.4627 7.73413 10.7483 8.55482 10.3566C8.71948 10.278 8.8817 10.2493 9.03459 10.2611C9.01212 10.1779 9.00013 10.0903 ' +\n                      '9.00013 9.99994C9.00013 9.9695 9.00149 9.93938 9.00416 9.90963C8.84921 9.96766 8.67837 9.9999 8.50029 9.99989L7.50031 9.99988L6.50033 9.99989C5.67189 9.9999 5.00006 9.3023 5.35692 ' +\n                      '8.55467C5.74865 7.73397 6.46311 6.99991 7.50031 6.99991C8.5375 6.99991 9.25197 7.73397 9.6437 8.55467C9.72227 8.71929 9.75098 8.88149 9.73911 9.03435C9.82232 9.01191 9.90983 8.99994 ' +\n                      '10.0001 8.99994C10.0306 8.99994 10.0607 9.0013 10.0905 9.00397C10.0324 8.84898 10.0002 8.67807 10.0002 8.49992L10.0002 7.49994L10.0002 6.49996C10.0001 5.67153 10.6977 4.99969 11.4454 ' +\n                      '5.35655C12.2661 5.74828 13.0001 6.46274 13.0001 7.49994Z\" fill=\"#212121\"/>' +\n                      '<circle cx=\"10\" cy=\"10\" r=\"8\" stroke=\"#212121\" stroke-width=\"2\"/>';\n            break;                      \n        case 'Smart Bin':\n            typeSvg = '<path d=\"M6.71849 14C5.15241 14 4.19394 12.2816 5.01686 10.9491L5.09816 10.8175C5.17797 10.8327 5.26094 10.8383 5.34575 10.8332C5.89704 10.8001 6.31713 10.3264 6.28404 9.77509L6.21705 8.65906C6.19838 8.34795 6.03571 8.06333 5.77714 7.88933C5.51856 7.71533 5.19363 7.67184 4.8984 7.77171L3.93237 8.09851C3.40921 8.27549 3.12858 8.84306 3.30556 9.36622C3.34237 9.47504 3.39608 9.57337 3.46278 9.65927L3.31523 9.89818C1.66939 12.5631 3.58633 16 6.71849 16H7.83485C8.38714 16 8.83485 15.5523 8.83485 15C8.83485 14.4478 8.38714 14 7.83485 14L6.71849 14Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M13.3135 13.8409C14.8789 13.8873 15.8879 12.198 15.1048 10.8418L14.5467 9.87495C14.2705 9.39666 14.4344 8.78507 14.9127 8.50893C15.391 8.23279 16.0026 8.39666 16.2787 8.87495L16.8369 9.84175C18.403 12.5543 16.3849 15.9329 13.2542 15.84L12.9735 15.8317C12.9324 15.9324 12.8741 16.0281 12.7983 16.1143C12.4337 16.5292 11.8019 16.5699 11.387 16.2054L10.621 15.5322C10.3869 15.3264 10.2621 15.0233 10.2835 14.7123C10.3049 14.4014 10.47 14.1182 10.7301 13.9465L11.6632 13.3305C12.124 13.0262 12.7444 13.1531 13.0487 13.614C13.0955 13.6849 13.1321 13.7596 13.1588 13.8363L13.3135 13.8409Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M11.6696 5.21002C10.9272 3.83113 8.95968 3.80195 8.17664 5.15821L7.61846 6.12501C7.34232 6.6033 6.73073 6.76718 6.25244 6.49104C5.77414 6.21489 5.61027 5.6033 5.88641 5.12501L6.44459 4.15821C8.01067 1.44568 11.9456 1.50404 13.4306 4.26183L13.5637 4.50907C13.6715 4.49425 13.7835 4.4969 13.8961 4.51943C14.4377 4.62774 14.7889 5.15457 14.6806 5.69613L14.4806 6.69613C14.4195 7.00175 14.2193 7.26139 13.9393 7.39833C13.6594 7.53526 13.3315 7.53382 13.0528 7.39444L12.0528 6.89444C11.5588 6.64745 11.3586 6.04678 11.6056 5.5528C11.6436 5.47681 11.6899 5.40777 11.743 5.34624L11.6696 5.21002Z\" fill=\"#212121\"/>';\n            break;          \n        case 'Door Sensor':\n            typeSvg = '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 4H6V16H14V4ZM8 12C8.55228 12 9 11.5523 9 11C9 10.4477 8.55228 10 8 10C7.44772 10 7 10.4477 7 11C7 11.5523 7.44772 12 8 12Z\" fill=\"#212121\"/>' +\n                      '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16 17V3C16 2.44772 15.5523 2 15 2H5C4.44772 2 4 2.44772 4 3V17H3.5C3.22386 17 3 17.2239 3 17.5C3 17.7761 3.22386 18 3.5 18H16.5C16.7761 18 17 17.7761 17 17.5C17 17.2239 16.7761 17 16.5 17H16ZM15 3H5L5 17H15V3Z\" fill=\"#212121\"/>';\n            break;\n        case 'Liquid Level Sensor':\n            typeSvg = '<path d=\"M14.6363 0.453212C14.8228 0.210257 15.1772 0.210257 15.3637 0.453213C15.9404 1.2044 17 2.73057 17 3.80373C17 5.02723 16.1143 5.99982 15 5.99982C13.8857 5.99982 13 5.02723 13 3.80373C13 2.73057 14.0596 1.2044 14.6363 0.453212Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M8.3017 2.76073C8.67788 2.33798 9.32212 2.33798 9.6983 2.76073C11.2801 4.53832 15 9.0479 15 12.1437C15 15.4064 12.3427 18 9 18C5.65725 18 3 15.4064 3 12.1437C3 9.0479 6.71994 4.53832 8.3017 2.76073Z\" fill=\"#212121\"/>';\n            break;\n        case 'Motion Sensor':\n            typeSvg = '<path d=\"M2.5 5C2.22386 5 2 5.22386 2 5.5C2 5.77614 2.22386 6 2.5 6H4C4 6.55228 4.44772 7 5 7H15C15.5523 7 16 6.55228 16 6H17.5C17.7761 6 18 5.77614 18 5.5C18 5.22386 17.7761 5 17.5 5H2.5Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M12.0001 12C12.5524 12 13.0001 11.5523 13.0001 11C13.0001 10.4477 12.5524 10 12.0001 10C11.4478 10 11.0001 10.4477 11.0001 11C11.0001 11.5523 11.4478 12 12.0001 12Z\" fill=\"#212121\"/>' +\n                      '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.0001 16C14.0804 16 17.4472 12.9453 17.9384 8.99801C18.0066 8.44996 17.5524 8 17.0001 8H3.00009C2.4478 8 1.99353 8.44996 2.06173 8.99801C2.55295 12.9453 5.91978 16 10.0001 16ZM12.0001 13C13.1047 13 14.0001 12.1046 14.0001 11C14.0001 9.89543 13.1047 9 12.0001 9C10.8955 9 10.0001 9.89543 10.0001 11C10.0001 12.1046 10.8955 13 12.0001 13Z\" fill=\"#212121\"/>';\n            break;\n        case 'Occupancy Sensor':\n            typeSvg = '<path d=\"M7 3.5C7 4.32843 6.32843 5 5.5 5C4.67157 5 4 4.32843 4 3.5C4 2.67157 4.67157 2 5.5 2C6.32843 2 7 2.67157 7 3.5Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M3 12C2.44772 12 2 11.5523 2 11L2 7.88652C2 6.84462 2.84462 6 3.88652 6C3.90535 6 3.92403 6.00055 3.94255 6.00162C3.96157 6.00055 3.98072 6 4 6H7C7.01928 6 7.03843 6.00055 7.05745 6.00162C7.07597 6.00055 7.09465 6 7.11348 6C8.15538 6 9 6.84462 9 7.88652V11C9 11.5523 8.55229 12 8 12V17C8 17.5523 7.55228 18 7 18C6.44772 18 6 17.5523 6 17L6 14H5V17C5 17.5523 4.55228 18 4 18C3.44772 18 3 17.5523 3 17V12Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M16 18C15.4477 18 15 17.5523 15 17V14H14V17C14 17.5523 13.5523 18 13 18C12.4477 18 12 17.5523 12 17V14H10.7215C10.3724 14 10.1308 13.6513 10.2533 13.3244L12.4733 7.40449C12.7901 6.55968 13.5977 6 14.5 6C15.4023 6 16.2099 6.55968 16.5267 7.40449L18.7467 13.3244C18.8692 13.6513 18.6276 14 18.2785 14H17V17C17 17.5523 16.5523 18 16 18Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M14.5 5C15.3284 5 16 4.32843 16 3.5C16 2.67157 15.3284 2 14.5 2C13.6716 2 13 2.67157 13 3.5C13 4.32843 13.6716 5 14.5 5Z\" fill=\"#212121\"/>';\n            break;\n        case 'Smoke Sensor':\n            typeSvg = '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.64491 2.08319C9.48444 1.9888 9.28482 1.99138 9.12685 2.08988C8.96887 2.18839 8.87871 2.3665 8.89285 2.55213C8.98169 3.71876 8.78795 4.5943 8.45363 5.30483C8.11607 6.02225 7.62209 6.60008 7.06387 7.157C6.88401 7.33644 6.69008 7.52013 6.49214 7.70763C6.10197 8.07721 5.69618 8.46158 5.35189 8.85718C4.81113 9.47853 4.35082 10.1982 4.15741 11.131C3.35478 15.0023 6.43952 18.1649 10.361 17.9822C10.41 17.9806 10.4592 17.9779 10.5088 17.9741L10.55 17.9708L10.5673 17.9695C10.6635 17.9622 10.7585 17.9532 10.8523 17.9427C10.897 17.9427 10.9422 17.9409 10.9878 17.9375C11.1369 17.9261 11.2735 17.9002 11.3976 17.8614C12.9028 17.5787 14.0571 16.8581 14.836 15.8302C15.7453 14.6303 16.1036 13.0646 15.9781 11.4151C15.7275 8.1215 13.5473 4.37866 9.64491 2.08319ZM12.1372 15.5326C12.1487 15.5269 12.1601 15.521 12.1714 15.5152C12.2227 15.2706 12.2393 15.0003 12.2172 14.7101C12.1353 13.6344 11.5243 12.3752 10.3912 11.4298C10.3443 11.6743 10.2711 11.8979 10.1767 12.1045C9.97248 12.5515 9.68116 12.8915 9.40451 13.1748C9.2918 13.2902 9.1897 13.3891 9.09461 13.4812C8.93666 13.6341 8.79804 13.7684 8.66241 13.9284C8.46694 14.1591 8.33595 14.3839 8.28119 14.6575C8.20904 15.018 8.23357 15.3634 8.33595 15.6725C8.69526 15.8186 9.08844 15.9185 9.50948 15.9633C9.62655 15.764 9.79981 15.6036 9.97777 15.4389C10.3505 15.0938 10.7439 14.7297 10.6844 13.949C11.3929 14.3558 11.8813 14.938 12.1372 15.5326ZM13.2143 14.6343L13.2159 14.6563L13.2421 14.6222C13.7907 13.8983 14.0816 12.8503 13.9839 11.5668C13.8301 9.5445 12.7138 7.15459 10.6097 5.25541C10.5143 5.57021 10.3981 5.86993 10.2634 6.15628C9.78098 7.18157 9.09869 7.9521 8.47652 8.57282C8.20885 8.83986 7.97694 9.05847 7.76612 9.25719C7.43058 9.57348 7.14846 9.83941 6.86065 10.1701C6.45742 10.6334 6.21678 11.0502 6.11585 11.537C5.83546 12.8894 6.29313 14.1616 7.23945 14.9971C7.24423 14.8222 7.26422 14.6432 7.30064 14.4613C7.39921 13.9687 7.63564 13.5933 7.89951 13.2819C8.06367 13.0882 8.26661 12.8908 8.44919 12.7131C8.53584 12.6288 8.61792 12.549 8.68907 12.4761C8.93347 12.2258 9.13295 11.9826 9.26713 11.689C9.39844 11.4016 9.47964 11.0379 9.44124 10.5337C9.42702 10.347 9.51835 10.168 9.67788 10.0698C9.83741 9.97174 10.0384 9.97101 10.1986 10.068C12.0451 11.1851 13.0906 13.0082 13.2143 14.6343Z\" fill=\"#212121\"/>';\n            break;\n        case 'Acqua':\n            if(darkMode){\n                typeSvg = '<svg viewBox=\"0 0 24 24\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g data-name=\"Layer 2\" id=\"Layer_2\"><path d=\"M12.65,2.24,12,1.68l-.65.56C11,2.5,4,8.6,4,14a8,8,0,0,0,16,0C20,8.6,13,2.5,12.65,2.24Zm1.58,16.23-.89-1.79A3,3,0,0,0,15,14h2A5,5,0,0,1,14.23,18.47Z\"/></g></svg>';\n            }else{\n                typeSvg = '<svg viewBox=\"0 0 24 24\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g data-name=\"Layer 2\" id=\"Layer_2\"><path d=\"M12.65,2.24,12,1.68l-.65.56C11,2.5,4,8.6,4,14a8,8,0,0,0,16,0C20,8.6,13,2.5,12.65,2.24Zm1.58,16.23-.89-1.79A3,3,0,0,0,15,14h2A5,5,0,0,1,14.23,18.47Z\"/></g></svg>';\n            }\n            break;\n        default:\n            typeSvg = '<circle cx=\"10\" cy=\"10\" r=\"10\" fill=\"#AAAAAA\"/>';\n    }\n    \n    return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' + \n           typeSvg +\n           '</svg>';\n} \n",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.8077097060074172,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "aggregationType" : null
              }, {
                "name" : "active",
                "type" : "attribute",
                "label" : "Stato Sensore",
                "color" : "#607d8b",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var state = value;\nvar active = entity.active;\nif (active === 'false') {\n    state = 'disconnected';\n}\n\nvar stateSvg = getStateSvg(state);\nvar encodedStateSvg = encodeURIComponent(stateSvg);\nvar stateSvgUrl = 'data:image/svg+xml,' + encodedStateSvg;\nvar stateLabel = getStateLabel(state);\n\nreturn '<span>'+\n           '<img style=\"vertical-align: middle;\" class=\"mat-icon\" src=\"'+ stateSvgUrl +'\">' +\n           '<span style=\"vertical-align: middle; padding-left: 8px;\">'+ stateLabel +'</span>' +\n       '</span>';\n            \nfunction getStateSvg(state) {\n    switch (state) {\n        case 'critical':\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#E64A19\"/>' +\n                   '</svg>';\n        case 'major':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#D5C21B\"/>' +\n                   '</svg>';\n        case 'true':\n        case 'normal':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#1F8B4D\"/>' +\n                   '</svg>';\n        case 'false':\n        case 'disconnected':\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<g clip-path=\"url(#clip0_2839_52564)\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#CAC1D2\"/>' +\n                   '<path d=\"M1.92896 16.728L16.0711 2.58589L17.4853 4.00011L3.34317 18.1422L1.92896 16.728Z\" fill=\"#CAC1D2\"/>' +\n                   '<path d=\"M2.10692 16.3171C1.81393 16.0241 1.81393 15.5491 2.10692 15.2561L15.1852 2.17788C15.4781 1.88489 15.9532 1.88489 16.2462 2.17788C16.5392 2.47088 16.5392 2.94591 16.2462 3.2389L3.16794 16.3171C2.87495 16.6101 2.39991 16.6101 2.10692 16.3171Z\" fill=\"white\"/>' +\n                   '</g>' +\n                   '<defs>' +\n                   '<clipPath id=\"clip0_2839_52564\">' +\n                   '<rect width=\"20\" height=\"20\" fill=\"white\"/>' +\n                   '</clipPath>' +\n                   '</defs>' +\n                   '</svg>';\n        default:\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#AAAAAA\"/>' +\n                   '</svg>';\n    }\n}\n\nfunction getStateLabel(state) {\n    switch(state) {\n        case 'critical':\n            return 'Critico';\n        case 'major':\n            return 'Alto';\n        case 'normal':\n            return 'Normale';\n        case 'true':\n            return 'Attivo';\n        case 'false':\n            return 'Disconnesso';\n        case 'disconnected':\n            return 'Disconnesso';\n        default:\n            return state;\n    }\n}\n",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "disabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.04680501891139488,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "aggregationType" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "div.tb-widget .tb-widget-title {\n    max-height: 100px !important;\n}",
            "noDataDisplayMessage" : "",
            "actions" : {
              "rowClick" : [ {
                "name" : "Select device",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var params = widgetContext.stateController.getStateParams();\nparams['selectedDevice'] = {\n        entityId: entityId,\n        entityName: entityName,\n        entityLabel: entityLabel,\n};\nparams['targetEntityParamName'] = 'selectedDevice';\n\nvar currentStateId = widgetContext.stateController.getStateId();\nif (currentStateId === 'default') {\n   widgetContext.stateController.openState('dettagli_bungalow', params);\t\n} else {\n   widgetContext.stateController.updateState(null, params);\n}",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "27b78a0c-3e2d-8d90-72dd-10f9f80351b5"
              } ]
            },
            "titleIcon" : "devices_other",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "28px",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "592649d5-d648-e75f-0dc6-5c8ccd94b6d7",
          "typeFullFqn" : "system.cards.entities_table"
        },
        "ffbfe096-2667-28d1-7142-e25b1de3fd5d" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "4px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var deviceState;\nif (data && data.length && data[0]['entityId']) {\n    deviceState = true;\n} else {\n    deviceState = false;\n}\n\nvar darkMode = $('.tb-dashboard-page').hasClass('dark');\nif(darkMode==true){\n    var typeSvg = '<svg viewBox=\"0 0 640 512\" fill=\"white\" height=\"20px\" width=\"20px\" x=\"5\" y=\"5\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M640 240v240c0 17.67-14.33 32-32 32H32c-17.67 0-32-14.33-32-32L0 144c0-26.51 21.49-48 48-48H64V24.01c0-13.25 10.75-23.1 24-23.1S112 10.75 112 24.01v72h64V24.01c0-13.25 10.75-23.1 24-23.1S224 10.75 224 24.01v71.1h64V48.01c0-26.51 21.49-48 48-48l96 .0049c26.51 0 48 21.49 48 48v143.1h112C618.5 192 640 213.5 640 240zM128 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM128 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM128 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364zM256 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM256 268c0-6.625-5.375-12-12-12h-40C197.4 256 192 261.4 192 268v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM256 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364zM416 76.01c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V76.01zM416 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM416 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM576 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM576 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364z\"/></svg>';\n}else{\n    var typeSvg = '<svg viewBox=\"0 0 640 512\" fill=\"black\" height=\"20px\" width=\"20px\" x=\"5\" y=\"5\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M640 240v240c0 17.67-14.33 32-32 32H32c-17.67 0-32-14.33-32-32L0 144c0-26.51 21.49-48 48-48H64V24.01c0-13.25 10.75-23.1 24-23.1S112 10.75 112 24.01v72h64V24.01c0-13.25 10.75-23.1 24-23.1S224 10.75 224 24.01v71.1h64V48.01c0-26.51 21.49-48 48-48l96 .0049c26.51 0 48 21.49 48 48v143.1h112C618.5 192 640 213.5 640 240zM128 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM128 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM128 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364zM256 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM256 268c0-6.625-5.375-12-12-12h-40C197.4 256 192 261.4 192 268v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM256 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364zM416 76.01c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V76.01zM416 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM416 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM576 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM576 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364z\"/></svg>';\n}\n\nvar encodedTypeSvg = encodeURIComponent(typeSvg);\nvar typeSvgUrl = 'data:image/svg+xml,' + encodedTypeSvg;\n\nvar header='<div class=\"header\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"8px\">' +\n            '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><button id=\"Indietro\" matTooltip=\"Indietro\" type=\"button\" mat-icon-button><mat-icon>arrow_back</mat-icon></button></div>' +\n            '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><img style=\"vertical-align: middle;\" class=\"title-icon mat-icon\" src=\"'+ typeSvgUrl +'\"></div>' +\n            '<div fxFlex fxLayout=\"column\" fxLayoutAlign=\"center\">' +\n                '<div class=\"title\">{{ ctx.stateController.getStateParams().bungalow_selezionato?.entityName }}</div>' +\n            '</div>' +\n            '</div>';\n\n/*return '<div class=\"main-layout\" style=\"width: 100%; height: 100%;\" fxLayout=\"column\">' +\n          (deviceState \n            ? ('<div style=\"height:100%;width:100%;margin:0;padding:0;\">'+'<tb-dashboard-state style=\"height:170px;\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"header_device\"></tb-dashboard-state>' +\n               '<tb-dashboard-state style=\"height:700px;\" fxFlex [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"device_card_details\"></tb-dashboard-state>'+\n               '<tb-dashboard-state style=\"height:400px;\" fxFlex [ctx]=\"ctx\" [syncParentStateParams]=\"' + (deviceState ? 'true' : 'false') + '\" stateId=\"'+ (deviceState ? 'alarm_device' : 'alarm_devices') +'\"></tb-dashboard-state>'+'</div>')\n            : header+'<tb-dashboard-state fxFlex [ctx]=\"ctx\" stateId=\"lista_device\"></tb-dashboard-state>') +\n          '<mat-divider style=\"margin-top: 10px; margin-bottom: 10px;\"></mat-divider>' +\n          '<tb-dashboard-state fxFlex [ctx]=\"ctx\" [syncParentStateParams]=\"' + (deviceState ? 'true' : 'false') + '\" stateId=\"'+ (deviceState ? 'alarm_device' : 'alarm_devices') +'\"></tb-dashboard-state>' +\n       '</div>';\n*/\nreturn '<div class=\"main-layout\" style=\"width: 100%; height: 100%;\" fxLayout=\"column\">' +\n          (deviceState \n            ? ('<div style=\"height:100%;width:100%;\">'+\n               '<tb-dashboard-state style=\"height:174px;\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"header_device\"></tb-dashboard-state>' +\n               '<tb-dashboard-state style=\"height:700px;\" fxFlex [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"device_card_details\"></tb-dashboard-state>'+\n               '<tb-dashboard-state style=\"height:400px;\" fxFlex [ctx]=\"ctx\" [syncParentStateParams]=\"' + (deviceState ? 'true' : 'false') + '\" stateId=\"'+ (deviceState ? 'alarm_device' : 'alarm_devices') +'\"></tb-dashboard-state>'+'</div>')\n            : header+'<tb-dashboard-state fxFlex [ctx]=\"ctx\" stateId=\"lista_device\"></tb-dashboard-state>') +\n          '<mat-divider style=\"margin-top: 10px; margin-bottom: 10px;\"></mat-divider>' +\n          '<tb-dashboard-state fxFlex [ctx]=\"ctx\" [syncParentStateParams]=\"' + (deviceState ? 'true' : 'false') + '\" stateId=\"'+ (deviceState ? 'alarm_device' : 'alarm_devices') +'\"></tb-dashboard-state>' +\n       '</div>';",
              "applyDefaultMarkdownStyle" : true,
              "markdownCss" : ".tb-markdown-view .tb-progress-cover, .tb-markdown-view .mat-drawer-container {\n    background-color: #fff;\n}\n.tb-markdown-view div, .tb-markdown-view p {\n    line-height: normal;\n}\n\n.tb-markdown-view > div {\n    padding: 0px;\n    margin: 0px;\n}\n\n.tb-markdown-view table {\n    border: none;\n    border-radius: 0px;\n    overflow: auto;\n}\n\n.tb-markdown-view .mat-toolbar.mat-primary div {\n    color: var(--tb-primary-contrast-500);\n}\n\n.tb-markdown-view .tb-widget-container > .tb-widget {\n    border-radius: 0px;\n}\n\n.tb-markdown-view .tb-widget-container > .tb-widget .tb-table-widget mat-toolbar {\n    height: 65px;\n    max-height: 65px;\n}\n\n\n.tb-markdown-view .tb-widget-container > .tb-widget.tb-has-timewindow .tb-table-widget mat-toolbar {\n    height: 100px;\n    max-height: 100px;\n}\n\n.main-layout .header {\n    height: 60px;\n} \n\n.main-layout .header .mat-icon.title-icon {\n    width: 40px;\n    height: 40px;\n}\n\n.main-layout .header .title {\n    font-size: 18px;\n    font-weight: 500;\n    color: #28232D;\n}\n\n.main-layout .header .subtitle {\n    font-size: 13px;\n    font-weight: normal;\n    color: #757575;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : ".tb-widget-title {\n    align-items: stretch !important;\n    flex: 1;\n}\n\n.tb-widget-actions {\n    position: absolute;\n    top: 0;\n    right: 0;\n}\n\n.tb-widget-title tb-timewindow .tb-timewindow {\n    border: 1px solid rgba(0, 0, 0, 0.12);\n    border-radius: 4px;\n    padding: 8px 8px;\n    position: relative;\n}\n\n.tb-widget-title tb-timewindow .tb-timewindow span {\n    flex: 1;\n    line-height: 32px;\n}\n\n.tb-widget-title tb-timewindow .tb-timewindow::after {\n    font-family: \"Material Icons\";\n    content: 'expand_more';\n    position: absolute;\n    font-size: 24px;\n    top: 12px;\n    right: 12px;\n    z-index: -1;\n}",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "Indietro",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var stateIndex = widgetContext.stateController.getStateIndex();\nwhile (stateIndex > 0) {\n    stateIndex -= 1;\n    backToPrevState(stateIndex);\n}\nopenDashboardState('devices');\n\nfunction backToPrevState(stateIndex) {\n    widgetContext.stateController.navigatePrevState(stateIndex);\n}\n\nfunction openDashboardState(statedId) {\n    var params = widgetContext.stateController.getStateParams();\n    params['selectedSupermarket'] = null;\n    widgetContext.stateController.updateState(null, params);\n}\n\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "116515c2-d9bd-80b6-7a34-97373a802806"
              } ]
            },
            "useDashboardTimewindow" : true,
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "ffbfe096-2667-28d1-7142-e25b1de3fd5d",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "8872005d-0adb-9db5-8395-06e89e2e81fd" : {
          "type" : "alarm",
          "sizeX" : 10.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "alarmsTitle" : "Allarmi del bungalow",
              "enableSelection" : true,
              "enableSearch" : true,
              "enableSelectColumnDisplay" : true,
              "enableFilter" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : false,
              "showCellActionsMenu" : true,
              "reserveSpaceForHiddenAction" : "true",
              "displayDetails" : false,
              "allowAcknowledgment" : true,
              "allowClear" : true,
              "allowAssign" : true,
              "displayActivity" : true,
              "displayPagination" : false,
              "defaultSortOrder" : "-startTime",
              "useRowStyleFunction" : false
            },
            "title" : "New Alarms table",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "24px",
              "fontWeight" : 700,
              "padding" : "5px 10px 5px 10px",
              "height" : "60px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "alarmSource" : {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "129977b6-de2f-546b-7df8-2040f39f8732",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "startTime",
                "type" : "alarm",
                "label" : "Data e Ora",
                "color" : "#9c27b0",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.18228508234861218,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "label",
                "type" : "entityField",
                "label" : "Sensore",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.2021469644340521,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "type",
                "type" : "alarm",
                "label" : "Tipo",
                "color" : "#f44336",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "if(value==\"Temperatura Alta\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13,15.28V5.5a1,1,0,0,0-2,0v9.78A2,2,0,0,0,10,17a2,2,0,0,0,4,0A2,2,0,0,0,13,15.28ZM16.5,13V5.5a4.5,4.5,0,0,0-9,0V13a6,6,0,0,0,3.21,9.83A7,7,0,0,0,12,23,6,6,0,0,0,16.5,13Zm-2,7.07a4,4,0,0,1-6.42-2.2,4,4,0,0,1,1.1-3.76,1,1,0,0,0,.3-.71V5.5a2.5,2.5,0,0,1,5,0v7.94a1,1,0,0,0,.3.71,4,4,0,0,1-.28,6Z\" fill=\"#6563ff\"/></svg>';\n}else if(value==\"Umidità Bassa\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" data-name=\"Layer 1\" id=\"Layer_1\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\"><defs><style>.cls-1{fill:#0baeff;}</style></defs><title/><path class=\"cls-1\" d=\"M49,38a17.5,17.5,0,0,1-35,0C14,22.7,28.22,8.48,31.5,8.48S49,22.7,49,38Z\"/></svg>';\n}else if(value==\"Picco sonoro alto\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.43,4.1a1,1,0,0,0-1,.12L6.65,8H3A1,1,0,0,0,2,9v6a1,1,0,0,0,1,1H6.65l4.73,3.78A1,1,0,0,0,12,20a.91.91,0,0,0,.43-.1A1,1,0,0,0,13,19V5A1,1,0,0,0,12.43,4.1ZM11,16.92l-3.38-2.7A1,1,0,0,0,7,14H4V10H7a1,1,0,0,0,.62-.22L11,7.08ZM19.66,6.34a1,1,0,0,0-1.42,1.42,6,6,0,0,1-.38,8.84,1,1,0,0,0,.64,1.76,1,1,0,0,0,.64-.23,8,8,0,0,0,.52-11.79ZM16.83,9.17a1,1,0,1,0-1.42,1.42A2,2,0,0,1,16,12a2,2,0,0,1-.71,1.53,1,1,0,0,0-.13,1.41,1,1,0,0,0,1.41.12A4,4,0,0,0,18,12,4.06,4.06,0,0,0,16.83,9.17Z\" fill=\"#6563ff\"/></svg>';\n}else if(value==\"Luminosità Bassa\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" data-name=\"Layer 1\" id=\"Layer_1\" viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\"><defs><style>.cls-1{fill:#ffc43d;}.cls-2{fill:#faae17;}.cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:20px;}.cls-4{fill:#727373;}.cls-5{fill:#606161;}</style></defs><title/><path class=\"cls-1\" d=\"M370.44,222.29a120.44,120.44,0,1,0-229.76,50.59l58.4,127.88H300.92l58.4-127.88A120,120,0,0,0,370.44,222.29Z\"/><path class=\"cls-2\" d=\"M250,101.85a120.44,120.44,0,0,0-16.1,1.2,120.37,120.37,0,0,1,93.22,169.83l-58.4,127.88h32.2l58.4-127.88A120.48,120.48,0,0,0,250,101.85Z\"/><line class=\"cls-3\" x1=\"250\" x2=\"250\" y1=\"10.88\" y2=\"50.42\"/><line class=\"cls-3\" x1=\"398.45\" x2=\"370.72\" y1=\"73.67\" y2=\"101.85\"/><line class=\"cls-3\" x1=\"456.14\" x2=\"416.61\" y1=\"223.18\" y2=\"223.18\"/><line class=\"cls-3\" x1=\"101.55\" x2=\"129.28\" y1=\"73.67\" y2=\"101.85\"/><line class=\"cls-3\" x1=\"43.86\" x2=\"83.39\" y1=\"223.18\" y2=\"223.18\"/><path class=\"cls-3\" d=\"M370.44,222.29a120.44,120.44,0,1,0-229.76,50.59l58.4,127.88H300.92l58.4-127.88A120,120,0,0,0,370.44,222.29Z\"/><path class=\"cls-4\" d=\"M199,400.76H301a0,0,0,0,1,0,0v37.39a51,51,0,0,1-51,51h0a51,51,0,0,1-51-51V400.76A0,0,0,0,1,199,400.76Z\"/><path class=\"cls-5\" d=\"M268.77,400.76v37.39a51,51,0,0,1-34.87,48.33,50.78,50.78,0,0,0,16.1,2.64h0a51,51,0,0,0,51-51V400.76Z\"/><path class=\"cls-3\" d=\"M199,400.76H301a0,0,0,0,1,0,0v37.39a51,51,0,0,1-51,51h0a51,51,0,0,1-51-51V400.76A0,0,0,0,1,199,400.76Z\"/><line class=\"cls-3\" x1=\"186.39\" x2=\"313.61\" y1=\"436.13\" y2=\"436.13\"/><line class=\"cls-3\" x1=\"186.39\" x2=\"313.61\" y1=\"400.76\" y2=\"400.76\"/></svg>';\n}else if(value==\"Co2 Alta\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"CO2\"><path d=\"M163.2432,364.1158h72.8312A19.9256,19.9256,0,0,1,256,384.0414v2.2715a19.9255,19.9255,0,0,1-19.9255,19.9255H163.2432a19.9256,19.9256,0,0,1-19.9256-19.9256v-2.2715A19.9255,19.9255,0,0,1,163.2432,364.1158Z\"/><path d=\"M264.002,168.1473a18.4748,18.4748,0,0,0-18.4537,18.4541v20.6025a18.4539,18.4539,0,1,0,36.9078,0V186.6014A18.4748,18.4748,0,0,0,264.002,168.1473Z\"/><path d=\"M408.5258,255.4978a3.7841,3.7841,0,0,1-3.1125-5.9224,91.9393,91.9393,0,0,0,15.6361-51.4343v0A92.3794,92.3794,0,0,0,328.67,105.7614H160.8309a92.38,92.38,0,0,0-92.3794,92.38v0a92.38,92.38,0,0,0,92.38,92.38h66.4562a7.8377,7.8377,0,0,1,7.6919,6.4319l.0307.1617a7.7976,7.7976,0,0,1-7.6932,9.2146H216.3707a23.3266,23.3266,0,1,0,0,46.6531h56.76a23.3265,23.3265,0,0,0,23.3265-23.3266v0l0-.1319a3.987,3.987,0,0,1,3.9762-3.98H408.5256a35.0229,35.0229,0,0,0,35.0229-35.0228v0A35.0226,35.0226,0,0,0,408.5258,255.4978ZM210.4492,232.7889a35.8464,35.8464,0,0,1-27.5478,12.8691h-5.0689a35.9605,35.9605,0,0,1-35.92-35.92V184.0662a35.96,35.96,0,0,1,35.92-35.9189h5.0689a35.6786,35.6786,0,0,1,25.3994,10.5215,10,10,0,1,1-14.1436,14.1406,15.81,15.81,0,0,0-11.2558-4.6621h-5.0689a15.9377,15.9377,0,0,0-15.92,15.9189v25.6719a15.9379,15.9379,0,0,0,15.92,15.92h5.0689a15.8953,15.8953,0,0,0,12.2138-5.709,10,10,0,0,1,15.334,12.84Zm92.0069-25.585a38.4539,38.4539,0,1,1-76.9078,0V186.6014a38.4539,38.4539,0,1,1,76.9078,0Zm56.6308,55.585a10,10,0,0,1,0,20H326.1875a10,10,0,0,1-7.7461-16.3242l28.3-34.6592q.1949-.2388.4043-.4658a7.3,7.3,0,0,0-5.3584-12.2578h-2.0586a7.3086,7.3086,0,0,0-7.3008,7.3v2.2031a10,10,0,1,1-20,0v-2.2031a27.3315,27.3315,0,0,1,27.3008-27.3h2.0586A27.3006,27.3006,0,0,1,362.06,244.6668l-14.7969,18.1221Z\"/></g></svg>';\n}else if(value==\"PM2.5 Alto\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M118.528 389.12c0 48.896 39.8336 89.6 87.6032 89.6S293.7856 437.8112 293.7856 389.12c7.9872-57.0368-39.8336-89.6-87.6544-89.6S118.528 340.0192 118.528 389.12z m833.024-208.4864C919.7056 180.4288 896 204.8 896 229.3248c7.9872 24.4224 31.8464 48.8448 55.7568 48.8448 31.8976 0 55.808-24.4224 55.808-48.8448s-24.1152-48.896-56.0128-48.896z m-243.1488 40.3456c47.8208 0 87.6544-40.96 87.6544-89.6s-39.8336-89.6-87.6544-89.6-87.6032 40.96-87.6032 89.6c-7.9872 48.64 31.8464 89.3952 87.6032 89.3952z m-365.056 24.4224c39.8336 0 79.6672-32.5632 79.6672-73.3184s-31.8976-73.5232-79.6672-73.5232c-39.8336 0-79.6672 32.6144-79.6672 73.3184s31.8464 73.3184 79.6672 73.3184zM738.2016 455.68c0 40.96 31.8976 73.3184 79.6672 73.3184 39.8336 0 79.6672-32.6144 79.6672-73.3184s-31.8464-73.3184-79.6672-73.3184C778.24 382.2592 738.2016 414.72 738.2016 455.68z m-197.7856-6.7072c39.8336 0 63.744-32.5632 63.744-65.1776s-31.8464-65.1264-63.744-65.1264c-39.8336 0-63.744 32.5632-63.744 65.1264s31.8976 65.0752 63.744 65.0752z m393.1648 139.3664c-8.5504 0-17.152 0-21.4016 4.352-171.52 122.4704-325.9392 35.0208-330.1888 30.72C260.4032 421.9904 46.08 636.3136 46.08 636.3136a22.8864 22.8864 0 0 0-8.5504 17.5104A33.1264 33.1264 0 0 0 46.08 671.3344c8.6016 13.1072 25.6 8.7552 38.6048 0 4.3008-8.7552 180.0704-179.2 463.104-4.352 4.3008 4.352 72.9088 43.7248 171.52 43.7248 64.3072 0 145.7664-17.5104 227.2768-74.3936a32.9728 32.9728 0 0 0 4.2496-39.3216 21.9648 21.9648 0 0 0-17.2544-8.7552zM88.0128 180.0704a64.4608 64.4608 0 0 0 63.744-65.1264A64.4608 64.4608 0 0 0 88.064 49.664 64.512 64.512 0 0 0 24.32 114.8416a64.4096 64.4096 0 0 0 63.6928 65.2288z m60.0064 589.568H75.776v209.92h49.5616v-69.5296h24.064c43.4688 0 81.408-22.0672 81.408-72.0384 0-51.968-37.376-68.352-82.7904-68.352zM146.8928 870.4h-21.5552v-60.928h20.224c23.808 0 37.0688 7.3216 37.0688 28.5184S171.008 870.4 146.8928 870.4z m229.3248-10.24c-3.8912 12.1344-7.2192 25.6-11.3664 38.4H363.52c-3.84-13.0048-7.168-26.2656-11.3152-38.4l-32.6656-90.6752H266.24v209.92h44.032V907.776a707.2768 707.2768 0 0 0-6.3488-72.9088h1.1264l16.5888 50.2784 27.9552 76.8h27.136l27.6992-76.8 17.152-50.2784h1.1264a707.2768 707.2768 0 0 0-6.3488 72.9088v71.9872h45.1072v-209.92H407.7568zM568.32 940.2368c31.5904-32.4608 62.0032-72.2944 62.0032-108.4416 0-40.1408-27.648-66.0992-67.5328-66.0992-29.3376 0-48.1792 10.7008-68.4032 32.4608l26.88 27.136c9.6768-10.752 20.48-20.48 34.8672-20.48 16.3328 0 26.88 10.24 26.88 29.696 0 30.72-34.6112 68.608-86.1184 116.3776v28.7744h142.8992v-42.3424h-37.9904a282.1632 282.1632 0 0 0-33.4848 2.9184z m134.2976-18.944a31.2832 31.2832 0 1 0 29.3376 31.0784 29.6448 29.6448 0 0 0-29.5936-31.0784z m137.6256-78.4896a50.7904 50.7904 0 0 0-21.2992 4.2496l3.0208-35.84h73.3696v-41.7792h-115.712l-5.12 103.936 21.5552 14.3872c12.2368-7.8848 17.7664-10.24 29.0816-10.24 17.7664 0 30.208 11.3152 30.208 32.4608s-12.4416 32.768-32.4096 32.768c-16.3328 0-30.72-8.7552-42.3424-20.0192l-22.8352 31.8976a97.28 97.28 0 0 0 71.9872 29.1328c39.5776 0 74.496-27.392 74.496-74.5984 0-45.4656-29.3888-66.3552-64.256-66.3552z\" fill=\"#232632\" /></svg>';\n}else if(value==\"PM10 Alto\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M118.528 387.5328c0 48.896 39.8336 89.6512 87.6032 89.6512s87.6544-40.96 87.6544-89.6512c7.9872-57.0368-39.8336-89.6-87.6544-89.6s-87.6032 40.704-87.6032 89.6zM951.6032 179.2c-31.8976 0-55.808 24.4736-55.808 48.896 7.9872 24.4224 31.8976 48.896 55.808 48.896 31.8464 0 55.7568-24.4736 55.7568-48.896S983.4496 179.2 951.6032 179.2z m-243.2 40.3456c47.8208 0 87.6544-40.96 87.6544-89.6s-39.8336-89.6-87.6544-89.6-87.6544 40.96-87.6544 89.6c-7.936 48.7424 31.8976 89.4464 87.6544 89.4464z m-365.1072 24.32c39.8848 0 79.6672-32.6144 79.6672-73.3184S391.1168 97.28 343.296 97.28c-39.8336 0-79.6672 32.5632-79.6672 73.3184s31.8976 73.2672 79.6672 73.2672z m394.9056 210.3296c0 40.96 31.8976 73.3184 79.6672 73.3184 39.8336 0 79.6672-32.6144 79.6672-73.3184s-31.8464-73.3184-79.6672-73.3184c-39.6288 0-79.6672 32.5632-79.6672 73.3184z m-197.7856-6.656c39.8336 0 63.744-32.8192 63.744-65.1776S572.3136 317.44 540.416 317.44c-39.8336 0-63.744 32.3072-63.744 64.9216s31.8976 65.1776 63.744 65.1776z m393.1648 139.3152c-8.5504 0-17.152 0-21.4016 4.4032-171.52 122.4704-325.888 34.9696-330.1888 30.72C260.4032 420.6592 46.08 634.88 46.08 634.88a22.784 22.784 0 0 0-8.5504 17.5104A33.1776 33.1776 0 0 0 46.08 669.952c8.6016 13.1584 25.6 8.7552 38.6048 0 4.3008-8.7552 180.0704-179.2 463.104-4.352 4.3008 4.352 72.9088 43.7248 171.52 43.7248 64.3072 0 145.7664-17.4592 227.2256-74.3424a32.9728 32.9728 0 0 0 4.3008-39.3728 22.1696 22.1696 0 0 0-17.2544-8.7552zM88.0128 178.688a64.4096 64.4096 0 0 0 63.744-65.1264A64.512 64.512 0 0 0 88.064 48.2816 64.4608 64.4608 0 0 0 24.32 113.4592 64.4096 64.4096 0 0 0 88.0128 178.688z m126.0544 589.568H141.7728v209.92h49.6128v-69.5296h24.064c43.4688 0 81.408-22.016 81.408-72.0384 0.1024-51.968-37.376-68.352-82.7904-68.352z m-1.0752 100.5568h-21.6064v-60.7232h20.224c23.808 0 37.0688 7.3728 37.0688 28.5184s-11.6224 32.2048-35.6864 32.2048z m229.2736-9.8816c-3.8912 12.1344-7.2192 25.6-11.3664 38.4h-1.3824c-3.8912-12.9536-7.2192-26.2656-11.3664-38.4l-32.6656-90.6752H332.032v209.92h44.288V906.24a706.2528 706.2528 0 0 0-6.3488-72.8576h1.1264l16.5888 50.2784 27.9552 76.8h27.136l27.6992-76.8 17.152-50.2784h1.1264A706.2528 706.2528 0 0 0 482.4064 906.24v72.192H527.36v-209.92H473.8048zM665.6 768.256h-36.3008a136.8576 136.8576 0 0 1-51.2 18.944v31.0784h37.9392v119.4496h-43.7248v40.704h130.0992v-40.704H665.6z m138.24-3.9424c-43.4176 0-72.8064 35.584-72.8064 107.8784s29.3888 110.1824 72.8064 110.1824 73.1136-37.8368 73.1136-110.1824-29.5936-107.8784-73.1136-107.8784z m0 179.2c-14.6432 0-26.2656-13.568-26.2656-71.2192s11.6224-69.1712 26.2656-69.1712 26.624 11.8784 26.624 69.1712-11.9296 71.1168-26.624 71.1168z\" fill=\"#232632\" /></svg>';\n}else if(value==\"Tvoc Alto\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 80 80\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 80 80\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"    M55,59H25c-2.209,0-4-1.791-4-4V25c0-2.209,1.791-4,4-4h30c2.209,0,4,1.791,4,4v30C59,57.209,57.209,59,55,59z\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><circle cx=\"40\" cy=\"40\" fill=\"none\" r=\"13\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><g><path d=\"     M42.892,37.108l0.079-0.013c3.292-0.549,5.705-3.397,5.705-6.734v0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M40,35.911l0.046-0.065c1.94-2.716,1.632-6.436-0.728-8.796l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M37.108,37.108l-0.013-0.079c-0.549-3.292-3.397-5.705-6.734-5.705h0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M35.911,40l-0.065-0.046c-2.716-1.94-6.436-1.632-8.796,0.728l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M37.108,42.892l-0.079,0.013c-3.292,0.549-5.705,3.397-5.705,6.734v0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M40,44.089l-0.046,0.065c-1.94,2.716-1.632,6.436,0.728,8.796l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M42.892,42.892l0.013,0.079c0.549,3.292,3.397,5.705,6.734,5.705h0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M44.089,40l0.065,0.046c2.716,1.94,6.436,1.632,8.796-0.728l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><ellipse cx=\"40\" cy=\"40\" fill=\"none\" rx=\"4.089\" ry=\"4.089\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -16.5685 40)\"/></g></g><g><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"74\" x2=\"71\" y1=\"42\" y2=\"42\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"65\" x2=\"58\" y1=\"36\" y2=\"36\"/><circle cx=\"71\" cy=\"36\" r=\"2\"/><circle cx=\"65\" cy=\"42\" r=\"2\"/><circle cx=\"74\" cy=\"48\" r=\"2\"/><circle cx=\"75\" cy=\"30\" r=\"2\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"55\" x2=\"69\" y1=\"30\" y2=\"30\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"68\" x2=\"57\" y1=\"48\" y2=\"48\"/></g><g><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"15\" x2=\"5\" y1=\"37\" y2=\"37\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"15\" x2=\"10\" y1=\"49\" y2=\"49\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"19\" x2=\"8\" y1=\"31\" y2=\"31\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"19\" x2=\"15\" y1=\"43\" y2=\"43\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"9\" x2=\"6\" y1=\"43\" y2=\"43\"/></g></g></svg> ';\n}else if(value==\"Formaldeide Alta\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M835.9424 390.7072a170.7008 170.7008 0 0 0-163.84 125.696l-53.2992-5.12A185.7024 185.7024 0 0 0 434.7392 343.04a181.6576 181.6576 0 0 0-27.0336 1.9968l-15.36-42.5472a125.1328 125.1328 0 1 0-61.44 16.1792 124.1088 124.1088 0 0 0 20.48-1.2288l14.1312 39.5264a188.7744 188.7744 0 0 0-97.28 256.256l-28.672 16.5376A124.7744 124.7744 0 0 0 148.48 589.8752a126.8736 126.8736 0 0 0 0 253.696A126.1056 126.1056 0 0 0 273.6128 716.8a128.256 128.256 0 0 0-10.24-49.9712L291.84 650.24a184.0128 184.0128 0 0 0 142.7456 67.7888 186.5728 186.5728 0 0 0 183.552-162.6112l47.7184 4.7616v2.56a169.984 169.984 0 1 0 169.984-171.9296z m-566.2208-199.68a61.44 61.44 0 1 1 61.44 62.0544 62.3104 62.3104 0 0 1-61.44-62.0032z m-122.88 590.1824a62.1056 62.1056 0 0 1 0-124.16 62.1056 62.1056 0 0 1 0 124.16z m291.84-139.52a108.8 108.8 0 1 1 107.52-108.8 107.9296 107.9296 0 0 1-107.2128 108.8512z m399.36 15.36a93.2864 93.2864 0 1 1 92.16-93.2864 92.7744 92.7744 0 0 1-91.904 93.3888z\" fill=\"#232632\" /></svg>';\n}else if(value==\"High Energy Consumption\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 32 32\" version=\"1.1\" viewBox=\"0 0 32 32\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Energy20\"/><g id=\"Energy19\"/><g id=\"Energy18\"/><g id=\"Energy17\"/><g id=\"Energy16\"/><g id=\"Energy15\"/><g id=\"Energy14\"/><g id=\"Energy13\"/><g id=\"Energy12\"/><g id=\"Energy11\"/><g id=\"Energy10\"/><g id=\"Energy09\"/><g id=\"Energy08\"/><g id=\"Energy07\"/><g id=\"Energy06\"/><g id=\"Energy05\"/><g id=\"Energy04\"/><g id=\"Energy03\"/><g id=\"Energy02\"/><g id=\"Energy01\"><g><path d=\"M26.87,12.49l-10,18C16.69,30.81,16.36,31,16,31c-0.08,0-0.17-0.01-0.25-0.03C15.31,30.85,15,30.46,15,30    V19H6c-0.34,0-0.65-0.17-0.84-0.45c-0.18-0.28-0.21-0.64-0.08-0.95l7-16C12.24,1.24,12.6,1,13,1h6c0.33,0,0.64,0.16,0.83,0.44    c0.18,0.27,0.22,0.62,0.1,0.93L16.48,11H26c0.35,0,0.68,0.19,0.86,0.49C27.04,11.8,27.05,12.18,26.87,12.49z\" fill=\"red\"/></g></g></svg>';\n}else if(value==\"Major Energy Consumption\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 32 32\" version=\"1.1\" viewBox=\"0 0 32 32\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Energy20\"/><g id=\"Energy19\"/><g id=\"Energy18\"/><g id=\"Energy17\"/><g id=\"Energy16\"/><g id=\"Energy15\"/><g id=\"Energy14\"/><g id=\"Energy13\"/><g id=\"Energy12\"/><g id=\"Energy11\"/><g id=\"Energy10\"/><g id=\"Energy09\"/><g id=\"Energy08\"/><g id=\"Energy07\"/><g id=\"Energy06\"/><g id=\"Energy05\"/><g id=\"Energy04\"/><g id=\"Energy03\"/><g id=\"Energy02\"/><g id=\"Energy01\"><g><path d=\"M26.87,12.49l-10,18C16.69,30.81,16.36,31,16,31c-0.08,0-0.17-0.01-0.25-0.03C15.31,30.85,15,30.46,15,30    V19H6c-0.34,0-0.65-0.17-0.84-0.45c-0.18-0.28-0.21-0.64-0.08-0.95l7-16C12.24,1.24,12.6,1,13,1h6c0.33,0,0.64,0.16,0.83,0.44    c0.18,0.27,0.22,0.62,0.1,0.93L16.48,11H26c0.35,0,0.68,0.19,0.86,0.49C27.04,11.8,27.05,12.18,26.87,12.49z\" fill=\"#FFB841\"/></g></g></svg>';\n}",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.7323586880398418,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "severity",
                "type" : "alarm",
                "label" : "Criticità",
                "color" : "#ffc107",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.09927019860088193,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "details.data",
                "type" : "alarm",
                "label" : "Dettagli",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.939814590904301,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            },
            "alarmsPollingInterval" : 5,
            "showTitleIcon" : false,
            "titleIcon" : "notifications",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "28px",
            "titleTooltip" : "",
            "widgetStyle" : { },
            "displayTimewindow" : true,
            "actions" : { },
            "datasources" : [ ],
            "enableDataExport" : true,
            "widgetCss" : "div.tb-widget .tb-widget-title {\n    max-height: 100px !important;\n}\n",
            "noDataDisplayMessage" : "",
            "alarmFilterConfig" : {
              "statusList" : [ "ACTIVE" ],
              "severityList" : [ ],
              "typeList" : [ ],
              "searchPropagatedAlarms" : false
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "8872005d-0adb-9db5-8395-06e89e2e81fd",
          "typeFullFqn" : "system.alarm_widgets.alarms_table"
        },
        "4c8da7a1-659f-e2e5-220c-4128a217e872" : {
          "type" : "alarm",
          "sizeX" : 10.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "alarmsTitle" : "Allarmi",
              "enableSelection" : true,
              "enableSearch" : true,
              "enableSelectColumnDisplay" : true,
              "enableFilter" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : false,
              "reserveSpaceForHiddenAction" : "true",
              "displayDetails" : false,
              "allowAcknowledgment" : true,
              "allowClear" : true,
              "allowAssign" : true,
              "displayPagination" : false,
              "defaultSortOrder" : "-startTime",
              "useRowStyleFunction" : false
            },
            "title" : "New Alarms table",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "24px",
              "fontWeight" : 700,
              "padding" : "5px 10px 5px 10px",
              "height" : "60px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "alarmSource" : {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "startTime",
                "type" : "alarm",
                "label" : "Data e Ora",
                "color" : "#607d8b",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.9100433241266481,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "type",
                "type" : "alarm",
                "label" : "Tipo",
                "color" : "#f44336",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "if(value==\"Temperatura Alta\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13,15.28V5.5a1,1,0,0,0-2,0v9.78A2,2,0,0,0,10,17a2,2,0,0,0,4,0A2,2,0,0,0,13,15.28ZM16.5,13V5.5a4.5,4.5,0,0,0-9,0V13a6,6,0,0,0,3.21,9.83A7,7,0,0,0,12,23,6,6,0,0,0,16.5,13Zm-2,7.07a4,4,0,0,1-6.42-2.2,4,4,0,0,1,1.1-3.76,1,1,0,0,0,.3-.71V5.5a2.5,2.5,0,0,1,5,0v7.94a1,1,0,0,0,.3.71,4,4,0,0,1-.28,6Z\" fill=\"#6563ff\"/></svg>';\n}else if(value==\"Umidità Bassa\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" data-name=\"Layer 1\" id=\"Layer_1\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\"><defs><style>.cls-1{fill:#0baeff;}</style></defs><title/><path class=\"cls-1\" d=\"M49,38a17.5,17.5,0,0,1-35,0C14,22.7,28.22,8.48,31.5,8.48S49,22.7,49,38Z\"/></svg>';\n}else if(value==\"Picco sonoro alto\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.43,4.1a1,1,0,0,0-1,.12L6.65,8H3A1,1,0,0,0,2,9v6a1,1,0,0,0,1,1H6.65l4.73,3.78A1,1,0,0,0,12,20a.91.91,0,0,0,.43-.1A1,1,0,0,0,13,19V5A1,1,0,0,0,12.43,4.1ZM11,16.92l-3.38-2.7A1,1,0,0,0,7,14H4V10H7a1,1,0,0,0,.62-.22L11,7.08ZM19.66,6.34a1,1,0,0,0-1.42,1.42,6,6,0,0,1-.38,8.84,1,1,0,0,0,.64,1.76,1,1,0,0,0,.64-.23,8,8,0,0,0,.52-11.79ZM16.83,9.17a1,1,0,1,0-1.42,1.42A2,2,0,0,1,16,12a2,2,0,0,1-.71,1.53,1,1,0,0,0-.13,1.41,1,1,0,0,0,1.41.12A4,4,0,0,0,18,12,4.06,4.06,0,0,0,16.83,9.17Z\" fill=\"#6563ff\"/></svg>';\n}else if(value==\"Luminosità Bassa\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" data-name=\"Layer 1\" id=\"Layer_1\" viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\"><defs><style>.cls-1{fill:#ffc43d;}.cls-2{fill:#faae17;}.cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:20px;}.cls-4{fill:#727373;}.cls-5{fill:#606161;}</style></defs><title/><path class=\"cls-1\" d=\"M370.44,222.29a120.44,120.44,0,1,0-229.76,50.59l58.4,127.88H300.92l58.4-127.88A120,120,0,0,0,370.44,222.29Z\"/><path class=\"cls-2\" d=\"M250,101.85a120.44,120.44,0,0,0-16.1,1.2,120.37,120.37,0,0,1,93.22,169.83l-58.4,127.88h32.2l58.4-127.88A120.48,120.48,0,0,0,250,101.85Z\"/><line class=\"cls-3\" x1=\"250\" x2=\"250\" y1=\"10.88\" y2=\"50.42\"/><line class=\"cls-3\" x1=\"398.45\" x2=\"370.72\" y1=\"73.67\" y2=\"101.85\"/><line class=\"cls-3\" x1=\"456.14\" x2=\"416.61\" y1=\"223.18\" y2=\"223.18\"/><line class=\"cls-3\" x1=\"101.55\" x2=\"129.28\" y1=\"73.67\" y2=\"101.85\"/><line class=\"cls-3\" x1=\"43.86\" x2=\"83.39\" y1=\"223.18\" y2=\"223.18\"/><path class=\"cls-3\" d=\"M370.44,222.29a120.44,120.44,0,1,0-229.76,50.59l58.4,127.88H300.92l58.4-127.88A120,120,0,0,0,370.44,222.29Z\"/><path class=\"cls-4\" d=\"M199,400.76H301a0,0,0,0,1,0,0v37.39a51,51,0,0,1-51,51h0a51,51,0,0,1-51-51V400.76A0,0,0,0,1,199,400.76Z\"/><path class=\"cls-5\" d=\"M268.77,400.76v37.39a51,51,0,0,1-34.87,48.33,50.78,50.78,0,0,0,16.1,2.64h0a51,51,0,0,0,51-51V400.76Z\"/><path class=\"cls-3\" d=\"M199,400.76H301a0,0,0,0,1,0,0v37.39a51,51,0,0,1-51,51h0a51,51,0,0,1-51-51V400.76A0,0,0,0,1,199,400.76Z\"/><line class=\"cls-3\" x1=\"186.39\" x2=\"313.61\" y1=\"436.13\" y2=\"436.13\"/><line class=\"cls-3\" x1=\"186.39\" x2=\"313.61\" y1=\"400.76\" y2=\"400.76\"/></svg>';\n}else if(value==\"Co2 Alta\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"CO2\"><path d=\"M163.2432,364.1158h72.8312A19.9256,19.9256,0,0,1,256,384.0414v2.2715a19.9255,19.9255,0,0,1-19.9255,19.9255H163.2432a19.9256,19.9256,0,0,1-19.9256-19.9256v-2.2715A19.9255,19.9255,0,0,1,163.2432,364.1158Z\"/><path d=\"M264.002,168.1473a18.4748,18.4748,0,0,0-18.4537,18.4541v20.6025a18.4539,18.4539,0,1,0,36.9078,0V186.6014A18.4748,18.4748,0,0,0,264.002,168.1473Z\"/><path d=\"M408.5258,255.4978a3.7841,3.7841,0,0,1-3.1125-5.9224,91.9393,91.9393,0,0,0,15.6361-51.4343v0A92.3794,92.3794,0,0,0,328.67,105.7614H160.8309a92.38,92.38,0,0,0-92.3794,92.38v0a92.38,92.38,0,0,0,92.38,92.38h66.4562a7.8377,7.8377,0,0,1,7.6919,6.4319l.0307.1617a7.7976,7.7976,0,0,1-7.6932,9.2146H216.3707a23.3266,23.3266,0,1,0,0,46.6531h56.76a23.3265,23.3265,0,0,0,23.3265-23.3266v0l0-.1319a3.987,3.987,0,0,1,3.9762-3.98H408.5256a35.0229,35.0229,0,0,0,35.0229-35.0228v0A35.0226,35.0226,0,0,0,408.5258,255.4978ZM210.4492,232.7889a35.8464,35.8464,0,0,1-27.5478,12.8691h-5.0689a35.9605,35.9605,0,0,1-35.92-35.92V184.0662a35.96,35.96,0,0,1,35.92-35.9189h5.0689a35.6786,35.6786,0,0,1,25.3994,10.5215,10,10,0,1,1-14.1436,14.1406,15.81,15.81,0,0,0-11.2558-4.6621h-5.0689a15.9377,15.9377,0,0,0-15.92,15.9189v25.6719a15.9379,15.9379,0,0,0,15.92,15.92h5.0689a15.8953,15.8953,0,0,0,12.2138-5.709,10,10,0,0,1,15.334,12.84Zm92.0069-25.585a38.4539,38.4539,0,1,1-76.9078,0V186.6014a38.4539,38.4539,0,1,1,76.9078,0Zm56.6308,55.585a10,10,0,0,1,0,20H326.1875a10,10,0,0,1-7.7461-16.3242l28.3-34.6592q.1949-.2388.4043-.4658a7.3,7.3,0,0,0-5.3584-12.2578h-2.0586a7.3086,7.3086,0,0,0-7.3008,7.3v2.2031a10,10,0,1,1-20,0v-2.2031a27.3315,27.3315,0,0,1,27.3008-27.3h2.0586A27.3006,27.3006,0,0,1,362.06,244.6668l-14.7969,18.1221Z\"/></g></svg>';\n}else if(value==\"PM2.5 Alto\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M118.528 389.12c0 48.896 39.8336 89.6 87.6032 89.6S293.7856 437.8112 293.7856 389.12c7.9872-57.0368-39.8336-89.6-87.6544-89.6S118.528 340.0192 118.528 389.12z m833.024-208.4864C919.7056 180.4288 896 204.8 896 229.3248c7.9872 24.4224 31.8464 48.8448 55.7568 48.8448 31.8976 0 55.808-24.4224 55.808-48.8448s-24.1152-48.896-56.0128-48.896z m-243.1488 40.3456c47.8208 0 87.6544-40.96 87.6544-89.6s-39.8336-89.6-87.6544-89.6-87.6032 40.96-87.6032 89.6c-7.9872 48.64 31.8464 89.3952 87.6032 89.3952z m-365.056 24.4224c39.8336 0 79.6672-32.5632 79.6672-73.3184s-31.8976-73.5232-79.6672-73.5232c-39.8336 0-79.6672 32.6144-79.6672 73.3184s31.8464 73.3184 79.6672 73.3184zM738.2016 455.68c0 40.96 31.8976 73.3184 79.6672 73.3184 39.8336 0 79.6672-32.6144 79.6672-73.3184s-31.8464-73.3184-79.6672-73.3184C778.24 382.2592 738.2016 414.72 738.2016 455.68z m-197.7856-6.7072c39.8336 0 63.744-32.5632 63.744-65.1776s-31.8464-65.1264-63.744-65.1264c-39.8336 0-63.744 32.5632-63.744 65.1264s31.8976 65.0752 63.744 65.0752z m393.1648 139.3664c-8.5504 0-17.152 0-21.4016 4.352-171.52 122.4704-325.9392 35.0208-330.1888 30.72C260.4032 421.9904 46.08 636.3136 46.08 636.3136a22.8864 22.8864 0 0 0-8.5504 17.5104A33.1264 33.1264 0 0 0 46.08 671.3344c8.6016 13.1072 25.6 8.7552 38.6048 0 4.3008-8.7552 180.0704-179.2 463.104-4.352 4.3008 4.352 72.9088 43.7248 171.52 43.7248 64.3072 0 145.7664-17.5104 227.2768-74.3936a32.9728 32.9728 0 0 0 4.2496-39.3216 21.9648 21.9648 0 0 0-17.2544-8.7552zM88.0128 180.0704a64.4608 64.4608 0 0 0 63.744-65.1264A64.4608 64.4608 0 0 0 88.064 49.664 64.512 64.512 0 0 0 24.32 114.8416a64.4096 64.4096 0 0 0 63.6928 65.2288z m60.0064 589.568H75.776v209.92h49.5616v-69.5296h24.064c43.4688 0 81.408-22.0672 81.408-72.0384 0-51.968-37.376-68.352-82.7904-68.352zM146.8928 870.4h-21.5552v-60.928h20.224c23.808 0 37.0688 7.3216 37.0688 28.5184S171.008 870.4 146.8928 870.4z m229.3248-10.24c-3.8912 12.1344-7.2192 25.6-11.3664 38.4H363.52c-3.84-13.0048-7.168-26.2656-11.3152-38.4l-32.6656-90.6752H266.24v209.92h44.032V907.776a707.2768 707.2768 0 0 0-6.3488-72.9088h1.1264l16.5888 50.2784 27.9552 76.8h27.136l27.6992-76.8 17.152-50.2784h1.1264a707.2768 707.2768 0 0 0-6.3488 72.9088v71.9872h45.1072v-209.92H407.7568zM568.32 940.2368c31.5904-32.4608 62.0032-72.2944 62.0032-108.4416 0-40.1408-27.648-66.0992-67.5328-66.0992-29.3376 0-48.1792 10.7008-68.4032 32.4608l26.88 27.136c9.6768-10.752 20.48-20.48 34.8672-20.48 16.3328 0 26.88 10.24 26.88 29.696 0 30.72-34.6112 68.608-86.1184 116.3776v28.7744h142.8992v-42.3424h-37.9904a282.1632 282.1632 0 0 0-33.4848 2.9184z m134.2976-18.944a31.2832 31.2832 0 1 0 29.3376 31.0784 29.6448 29.6448 0 0 0-29.5936-31.0784z m137.6256-78.4896a50.7904 50.7904 0 0 0-21.2992 4.2496l3.0208-35.84h73.3696v-41.7792h-115.712l-5.12 103.936 21.5552 14.3872c12.2368-7.8848 17.7664-10.24 29.0816-10.24 17.7664 0 30.208 11.3152 30.208 32.4608s-12.4416 32.768-32.4096 32.768c-16.3328 0-30.72-8.7552-42.3424-20.0192l-22.8352 31.8976a97.28 97.28 0 0 0 71.9872 29.1328c39.5776 0 74.496-27.392 74.496-74.5984 0-45.4656-29.3888-66.3552-64.256-66.3552z\" fill=\"#232632\" /></svg>';\n}else if(value==\"PM10 Alto\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M118.528 387.5328c0 48.896 39.8336 89.6512 87.6032 89.6512s87.6544-40.96 87.6544-89.6512c7.9872-57.0368-39.8336-89.6-87.6544-89.6s-87.6032 40.704-87.6032 89.6zM951.6032 179.2c-31.8976 0-55.808 24.4736-55.808 48.896 7.9872 24.4224 31.8976 48.896 55.808 48.896 31.8464 0 55.7568-24.4736 55.7568-48.896S983.4496 179.2 951.6032 179.2z m-243.2 40.3456c47.8208 0 87.6544-40.96 87.6544-89.6s-39.8336-89.6-87.6544-89.6-87.6544 40.96-87.6544 89.6c-7.936 48.7424 31.8976 89.4464 87.6544 89.4464z m-365.1072 24.32c39.8848 0 79.6672-32.6144 79.6672-73.3184S391.1168 97.28 343.296 97.28c-39.8336 0-79.6672 32.5632-79.6672 73.3184s31.8976 73.2672 79.6672 73.2672z m394.9056 210.3296c0 40.96 31.8976 73.3184 79.6672 73.3184 39.8336 0 79.6672-32.6144 79.6672-73.3184s-31.8464-73.3184-79.6672-73.3184c-39.6288 0-79.6672 32.5632-79.6672 73.3184z m-197.7856-6.656c39.8336 0 63.744-32.8192 63.744-65.1776S572.3136 317.44 540.416 317.44c-39.8336 0-63.744 32.3072-63.744 64.9216s31.8976 65.1776 63.744 65.1776z m393.1648 139.3152c-8.5504 0-17.152 0-21.4016 4.4032-171.52 122.4704-325.888 34.9696-330.1888 30.72C260.4032 420.6592 46.08 634.88 46.08 634.88a22.784 22.784 0 0 0-8.5504 17.5104A33.1776 33.1776 0 0 0 46.08 669.952c8.6016 13.1584 25.6 8.7552 38.6048 0 4.3008-8.7552 180.0704-179.2 463.104-4.352 4.3008 4.352 72.9088 43.7248 171.52 43.7248 64.3072 0 145.7664-17.4592 227.2256-74.3424a32.9728 32.9728 0 0 0 4.3008-39.3728 22.1696 22.1696 0 0 0-17.2544-8.7552zM88.0128 178.688a64.4096 64.4096 0 0 0 63.744-65.1264A64.512 64.512 0 0 0 88.064 48.2816 64.4608 64.4608 0 0 0 24.32 113.4592 64.4096 64.4096 0 0 0 88.0128 178.688z m126.0544 589.568H141.7728v209.92h49.6128v-69.5296h24.064c43.4688 0 81.408-22.016 81.408-72.0384 0.1024-51.968-37.376-68.352-82.7904-68.352z m-1.0752 100.5568h-21.6064v-60.7232h20.224c23.808 0 37.0688 7.3728 37.0688 28.5184s-11.6224 32.2048-35.6864 32.2048z m229.2736-9.8816c-3.8912 12.1344-7.2192 25.6-11.3664 38.4h-1.3824c-3.8912-12.9536-7.2192-26.2656-11.3664-38.4l-32.6656-90.6752H332.032v209.92h44.288V906.24a706.2528 706.2528 0 0 0-6.3488-72.8576h1.1264l16.5888 50.2784 27.9552 76.8h27.136l27.6992-76.8 17.152-50.2784h1.1264A706.2528 706.2528 0 0 0 482.4064 906.24v72.192H527.36v-209.92H473.8048zM665.6 768.256h-36.3008a136.8576 136.8576 0 0 1-51.2 18.944v31.0784h37.9392v119.4496h-43.7248v40.704h130.0992v-40.704H665.6z m138.24-3.9424c-43.4176 0-72.8064 35.584-72.8064 107.8784s29.3888 110.1824 72.8064 110.1824 73.1136-37.8368 73.1136-110.1824-29.5936-107.8784-73.1136-107.8784z m0 179.2c-14.6432 0-26.2656-13.568-26.2656-71.2192s11.6224-69.1712 26.2656-69.1712 26.624 11.8784 26.624 69.1712-11.9296 71.1168-26.624 71.1168z\" fill=\"#232632\" /></svg>';\n}else if(value==\"Tvoc Alto\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 80 80\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 80 80\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"    M55,59H25c-2.209,0-4-1.791-4-4V25c0-2.209,1.791-4,4-4h30c2.209,0,4,1.791,4,4v30C59,57.209,57.209,59,55,59z\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><circle cx=\"40\" cy=\"40\" fill=\"none\" r=\"13\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><g><path d=\"     M42.892,37.108l0.079-0.013c3.292-0.549,5.705-3.397,5.705-6.734v0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M40,35.911l0.046-0.065c1.94-2.716,1.632-6.436-0.728-8.796l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M37.108,37.108l-0.013-0.079c-0.549-3.292-3.397-5.705-6.734-5.705h0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M35.911,40l-0.065-0.046c-2.716-1.94-6.436-1.632-8.796,0.728l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M37.108,42.892l-0.079,0.013c-3.292,0.549-5.705,3.397-5.705,6.734v0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M40,44.089l-0.046,0.065c-1.94,2.716-1.632,6.436,0.728,8.796l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M42.892,42.892l0.013,0.079c0.549,3.292,3.397,5.705,6.734,5.705h0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M44.089,40l0.065,0.046c2.716,1.94,6.436,1.632,8.796-0.728l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><ellipse cx=\"40\" cy=\"40\" fill=\"none\" rx=\"4.089\" ry=\"4.089\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -16.5685 40)\"/></g></g><g><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"74\" x2=\"71\" y1=\"42\" y2=\"42\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"65\" x2=\"58\" y1=\"36\" y2=\"36\"/><circle cx=\"71\" cy=\"36\" r=\"2\"/><circle cx=\"65\" cy=\"42\" r=\"2\"/><circle cx=\"74\" cy=\"48\" r=\"2\"/><circle cx=\"75\" cy=\"30\" r=\"2\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"55\" x2=\"69\" y1=\"30\" y2=\"30\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"68\" x2=\"57\" y1=\"48\" y2=\"48\"/></g><g><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"15\" x2=\"5\" y1=\"37\" y2=\"37\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"15\" x2=\"10\" y1=\"49\" y2=\"49\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"19\" x2=\"8\" y1=\"31\" y2=\"31\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"19\" x2=\"15\" y1=\"43\" y2=\"43\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"9\" x2=\"6\" y1=\"43\" y2=\"43\"/></g></g></svg> ';\n}else if(value==\"Formaldeide Alta\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M835.9424 390.7072a170.7008 170.7008 0 0 0-163.84 125.696l-53.2992-5.12A185.7024 185.7024 0 0 0 434.7392 343.04a181.6576 181.6576 0 0 0-27.0336 1.9968l-15.36-42.5472a125.1328 125.1328 0 1 0-61.44 16.1792 124.1088 124.1088 0 0 0 20.48-1.2288l14.1312 39.5264a188.7744 188.7744 0 0 0-97.28 256.256l-28.672 16.5376A124.7744 124.7744 0 0 0 148.48 589.8752a126.8736 126.8736 0 0 0 0 253.696A126.1056 126.1056 0 0 0 273.6128 716.8a128.256 128.256 0 0 0-10.24-49.9712L291.84 650.24a184.0128 184.0128 0 0 0 142.7456 67.7888 186.5728 186.5728 0 0 0 183.552-162.6112l47.7184 4.7616v2.56a169.984 169.984 0 1 0 169.984-171.9296z m-566.2208-199.68a61.44 61.44 0 1 1 61.44 62.0544 62.3104 62.3104 0 0 1-61.44-62.0032z m-122.88 590.1824a62.1056 62.1056 0 0 1 0-124.16 62.1056 62.1056 0 0 1 0 124.16z m291.84-139.52a108.8 108.8 0 1 1 107.52-108.8 107.9296 107.9296 0 0 1-107.2128 108.8512z m399.36 15.36a93.2864 93.2864 0 1 1 92.16-93.2864 92.7744 92.7744 0 0 1-91.904 93.3888z\" fill=\"#232632\" /></svg>';\n}else if(value==\"High Energy Consumption\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 32 32\" version=\"1.1\" viewBox=\"0 0 32 32\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Energy20\"/><g id=\"Energy19\"/><g id=\"Energy18\"/><g id=\"Energy17\"/><g id=\"Energy16\"/><g id=\"Energy15\"/><g id=\"Energy14\"/><g id=\"Energy13\"/><g id=\"Energy12\"/><g id=\"Energy11\"/><g id=\"Energy10\"/><g id=\"Energy09\"/><g id=\"Energy08\"/><g id=\"Energy07\"/><g id=\"Energy06\"/><g id=\"Energy05\"/><g id=\"Energy04\"/><g id=\"Energy03\"/><g id=\"Energy02\"/><g id=\"Energy01\"><g><path d=\"M26.87,12.49l-10,18C16.69,30.81,16.36,31,16,31c-0.08,0-0.17-0.01-0.25-0.03C15.31,30.85,15,30.46,15,30    V19H6c-0.34,0-0.65-0.17-0.84-0.45c-0.18-0.28-0.21-0.64-0.08-0.95l7-16C12.24,1.24,12.6,1,13,1h6c0.33,0,0.64,0.16,0.83,0.44    c0.18,0.27,0.22,0.62,0.1,0.93L16.48,11H26c0.35,0,0.68,0.19,0.86,0.49C27.04,11.8,27.05,12.18,26.87,12.49z\" fill=\"red\"/></g></g></svg>';\n}else if(value==\"Major Energy Consumption\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 32 32\" version=\"1.1\" viewBox=\"0 0 32 32\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Energy20\"/><g id=\"Energy19\"/><g id=\"Energy18\"/><g id=\"Energy17\"/><g id=\"Energy16\"/><g id=\"Energy15\"/><g id=\"Energy14\"/><g id=\"Energy13\"/><g id=\"Energy12\"/><g id=\"Energy11\"/><g id=\"Energy10\"/><g id=\"Energy09\"/><g id=\"Energy08\"/><g id=\"Energy07\"/><g id=\"Energy06\"/><g id=\"Energy05\"/><g id=\"Energy04\"/><g id=\"Energy03\"/><g id=\"Energy02\"/><g id=\"Energy01\"><g><path d=\"M26.87,12.49l-10,18C16.69,30.81,16.36,31,16,31c-0.08,0-0.17-0.01-0.25-0.03C15.31,30.85,15,30.46,15,30    V19H6c-0.34,0-0.65-0.17-0.84-0.45c-0.18-0.28-0.21-0.64-0.08-0.95l7-16C12.24,1.24,12.6,1,13,1h6c0.33,0,0.64,0.16,0.83,0.44    c0.18,0.27,0.22,0.62,0.1,0.93L16.48,11H26c0.35,0,0.68,0.19,0.86,0.49C27.04,11.8,27.05,12.18,26.87,12.49z\" fill=\"#FFB841\"/></g></g></svg>';\n}",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.7323586880398418,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "severity",
                "type" : "alarm",
                "label" : "Criticità",
                "color" : "#ffc107",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false
                },
                "_hash" : 0.09927019860088193,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "details.data",
                "type" : "alarm",
                "label" : "Dettagli",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.5957890931978143,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            },
            "alarmsPollingInterval" : 5,
            "showTitleIcon" : false,
            "titleIcon" : "notifications",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "28px",
            "titleTooltip" : "",
            "widgetStyle" : { },
            "displayTimewindow" : true,
            "actions" : { },
            "datasources" : [ ],
            "enableDataExport" : true,
            "widgetCss" : "div.tb-widget .tb-widget-title {\n    max-height: 100px !important;\n}\n",
            "noDataDisplayMessage" : "",
            "alarmFilterConfig" : {
              "statusList" : [ "ACTIVE" ],
              "severityList" : [ ],
              "typeList" : [ ],
              "searchPropagatedAlarms" : false
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "4c8da7a1-659f-e2e5-220c-4128a217e872",
          "typeFullFqn" : "system.alarm_widgets.alarms_table"
        },
        "f169ca06-09fe-1454-5106-a97770df82c3" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "weight",
                "type" : "timeseries",
                "label" : "Weight",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : true,
                  "fillLines" : true,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ {
                    "thresholdValueSource" : "predefinedValue",
                    "thresholdEntityAlias" : "Selected device",
                    "thresholdAttribute" : "lowWeightCriticalThreshold",
                    "color" : "#ff4a19"
                  }, {
                    "thresholdValueSource" : "predefinedValue",
                    "thresholdEntityAlias" : "Selected device",
                    "thresholdAttribute" : "lowWeightMajorThreshold",
                    "color" : "#d4c21b"
                  } ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisTitle" : "Weight, Kg"
                },
                "_hash" : 0.890142518382879,
                "units" : "Kg",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1800000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "shadowSize" : 0,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "tickDecimals" : 0
              },
              "grid" : {
                "color" : "#f5f5f5",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "stack" : false,
              "tooltipIndividual" : false,
              "smoothLines" : true,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false
              }
            },
            "title" : "New Timeseries Line Chart",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "displayTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "f169ca06-09fe-1454-5106-a97770df82c3",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "57505aa0-926c-f25e-ddad-e9cee9ff0a45" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "open",
                "type" : "timeseries",
                "label" : "Door state",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : true,
                  "fillLines" : true,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ {
                    "thresholdValueSource" : "predefinedValue"
                  } ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisTitle" : "State",
                  "axisMax" : 1
                },
                "_hash" : 0.774509473282736,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "return value === 'true' ? 1 : 0;"
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1800000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 0,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "ticksFormatter" : "if (value > 0 && value <= 1) {\n    return 'Open';\n} else if (value === 0) {\n    return 'Closed';\n} else {\n    return '';\n}",
                "tickDecimals" : 0
              },
              "grid" : {
                "color" : "#e0e0e0",
                "tickColor" : "#DDDDDD",
                "verticalLines" : false,
                "horizontalLines" : false,
                "outlineWidth" : 1
              },
              "stack" : false,
              "tooltipIndividual" : false,
              "tooltipValueFormatter" : "if (value > 0 && value <= 1) {\n    return 'Open';\n} else if (value === 0) {\n    return 'Closed';\n} else {\n    return '';\n}",
              "smoothLines" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false
              }
            },
            "title" : "Door state",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "widgetStyle" : { },
            "useDashboardTimewindow" : false,
            "actions" : {
              "headerButton" : [ ]
            },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "57505aa0-926c-f25e-ddad-e9cee9ff0a45",
          "typeFullFqn" : "system.charts.state_chart"
        },
        "0c0d18e9-2be3-3189-7ab3-f05eae7cbbe9" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "maxDoorOpenDurationCriticalThreshold",
                "type" : "attribute",
                "label" : "Door open duration for critical alarm",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 2,
                  "maxValue" : 400
                },
                "_hash" : 0.3859130334588563,
                "units" : "Minutes",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 60;\n}"
              }, {
                "name" : "maxDoorOpenDurationMajorThreshold",
                "type" : "attribute",
                "label" : "Door open duration for major alarm",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 2,
                  "maxValue" : 600
                },
                "_hash" : 0.09378045215692454,
                "units" : "Minutes",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              }, {
                "name" : "lowBatteryCriticalThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for critical alarm",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.3977852589212394,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "lowBatteryMajorThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for major alarm",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.9885317089867498,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "0c0d18e9-2be3-3189-7ab3-f05eae7cbbe9",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "af27e6f5-e59b-8413-1bfa-7af5b36a4e5b" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "batteryLevel",
                "type" : "timeseries",
                "label" : "Battery level",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : true,
                  "fillLines" : true,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ {
                    "thresholdValueSource" : "entityAttribute",
                    "thresholdAttribute" : "lowBatteryMajorThreshold",
                    "thresholdEntityAlias" : "Selected device",
                    "color" : "#f8b301",
                    "lineWidth" : 2
                  }, {
                    "thresholdValueSource" : "entityAttribute",
                    "thresholdAttribute" : "lowBatteryCriticalThreshold",
                    "thresholdEntityAlias" : "Selected device",
                    "lineWidth" : 2,
                    "color" : "#ff0000"
                  } ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisTitle" : "Battery level, %"
                },
                "_hash" : 0.6540640005694329,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1800000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 0,
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "tickDecimals" : 0,
                "min" : 0,
                "max" : 100
              },
              "grid" : {
                "color" : "#f5f5f5",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "stack" : false,
              "tooltipIndividual" : false,
              "smoothLines" : true,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "fontColor" : "#545454",
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false
              }
            },
            "title" : "Battery Level History",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "af27e6f5-e59b-8413-1bfa-7af5b36a4e5b",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "815da885-0b87-8e96-99ed-d2823e545395" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "alarm",
                "type" : "timeseries",
                "label" : "Fire alarm",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : true,
                  "fillLines" : true,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisMax" : 1,
                  "axisTitle" : "Fire alarm"
                },
                "_hash" : 0.13062695385906475,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "return value === 'true' ? 1 : 0;"
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 7200000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "ticksFormatter" : "if (value > 0 && value <= 1) {\n    return 'Alarm';\n} else if (value === 0) {\n    return 'None';\n} else {\n    return '';\n}",
                "tickDecimals" : 0,
                "title" : "Fire alarm"
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "stack" : false,
              "tooltipIndividual" : false,
              "tooltipValueFormatter" : "if (value > 0 && value <= 1) {\n    return 'Alarm';\n} else if (value === 0) {\n    return 'None';\n} else {\n    return '';\n}",
              "smoothLines" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                ",position" : "bottom",
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false
              }
            },
            "title" : "Fire alarm state",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "widgetStyle" : { },
            "useDashboardTimewindow" : false,
            "actions" : {
              "headerButton" : [ ]
            },
            "displayTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "815da885-0b87-8e96-99ed-d2823e545395",
          "typeFullFqn" : "system.charts.state_chart"
        },
        "e0e9e6d4-b329-f60f-3e1c-fd2c8115389a" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "level",
                "type" : "timeseries",
                "label" : "Liquid level",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : false,
                  "fillLines" : false,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ {
                    "thresholdValueSource" : "entityAttribute",
                    "thresholdEntityAlias" : "Selected device",
                    "thresholdAttribute" : "minLiquidLevelCriticalThreshold",
                    "color" : "#e64a19"
                  }, {
                    "thresholdValueSource" : "entityAttribute",
                    "thresholdAttribute" : "minLiquidLevelMajorThreshold",
                    "thresholdEntityAlias" : "Selected device",
                    "color" : "#d4c21b"
                  } ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisMin" : 0,
                  "axisMax" : 100,
                  "axisTitle" : "Liquid Level, %"
                },
                "_hash" : 0.35527221469991277,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 18000000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 200
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "tickDecimals" : 0
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "stack" : true,
              "tooltipIndividual" : false,
              "defaultBarWidth" : 600,
              "barAlignment" : "right",
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : true,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Liquid level",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "widgetStyle" : { },
            "useDashboardTimewindow" : false,
            "actions" : { },
            "displayTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "e0e9e6d4-b329-f60f-3e1c-fd2c8115389a",
          "typeFullFqn" : "system.charts.timeseries_bars_flot"
        },
        "aaad0134-c223-346e-4c38-b9a33677a40e" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "open",
                "type" : "timeseries",
                "label" : "open",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.41421011215312653,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "return value === 'true' ? 'Open' : 'Closed';"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "markdownTextPattern" : "**State** (${open})",
              "markdownTextFunction" : "return '# Some title\\n - Entity name: ' + data[0]['entityName'];",
              "useMarkdownTextFunction" : false,
              "markdownCss" : "p {\n    padding-left: 16px;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "aaad0134-c223-346e-4c38-b9a33677a40e",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "fa9949f8-e79d-b40d-0fcd-ff6a726c8167" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "lowWeightCriticalThreshold",
                "type" : "attribute",
                "label" : "Low weight for critical alarm",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 2,
                  "maxValue" : 400,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.3859130334588563,
                "units" : "Kg",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "lowWeightMajorThreshold",
                "type" : "attribute",
                "label" : "Low weight for major alarm",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 2,
                  "maxValue" : 600,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.09378045215692454,
                "units" : "Kg",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 20;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "fa9949f8-e79d-b40d-0fcd-ff6a726c8167",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "878e5327-53b3-2753-9309-c30ed81a61b0" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "chillerHighTemperatureCriticalThreshold",
                "type" : "attribute",
                "label" : "High temperature for critical alarm",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 1,
                  "maxValue" : 100,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.3859130334588563,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 12;\n}"
              }, {
                "name" : "chillerHighTemperatureMajorThreshold",
                "type" : "attribute",
                "label" : "High temperature for major alarm",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 1,
                  "maxValue" : 100,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.09378045215692454,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "chillerLowTemperatureCriticalThreshold",
                "type" : "attribute",
                "label" : "Low temperature for critical alarm",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "slideToggleLabelPosition" : "after",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : false,
                  "customIcon" : "",
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false,
                  "minValue" : 1,
                  "maxValue" : 100
                },
                "_hash" : 0.9699892544334225,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 2;\n}"
              }, {
                "name" : "chillerLowTemperatureMajorThreshold",
                "type" : "attribute",
                "label" : "Low temperature for major alarm",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "slideToggleLabelPosition" : "after",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : false,
                  "customIcon" : "",
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false,
                  "minValue" : 1,
                  "maxValue" : 100
                },
                "_hash" : 0.602364315082784,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 4;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "878e5327-53b3-2753-9309-c30ed81a61b0",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "47d87685-da86-ef98-8c2d-bec02f3ba54a" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "freezerHighTemperatureCriticalThreshold",
                "type" : "attribute",
                "label" : "High temperature for critical alarm",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "maxValue" : 100,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false,
                  "minValue" : -50
                },
                "_hash" : 0.3859130334588563,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return -1;\n}"
              }, {
                "name" : "freezerHighTemperatureMajorThreshold",
                "type" : "attribute",
                "label" : "High temperature for major alarm",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "maxValue" : 100,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false,
                  "minValue" : -50
                },
                "_hash" : 0.09378045215692454,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return -2;\n}"
              }, {
                "name" : "freezerLowTemperatureCriticalThreshold",
                "type" : "attribute",
                "label" : "Low temperature for critical alarm",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "slideToggleLabelPosition" : "after",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : false,
                  "customIcon" : "",
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false,
                  "maxValue" : 100,
                  "minValue" : -50
                },
                "_hash" : 0.9699892544334225,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return -30;\n}"
              }, {
                "name" : "freezerLowTemperatureMajorThreshold",
                "type" : "attribute",
                "label" : "Low temperature for major alarm",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "slideToggleLabelPosition" : "after",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : false,
                  "customIcon" : "",
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false,
                  "maxValue" : 100,
                  "minValue" : -50
                },
                "_hash" : 0.602364315082784,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return -25;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "47d87685-da86-ef98-8c2d-bec02f3ba54a",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "1b588eb9-69d4-cddd-df3c-cca274464467" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "weight",
                "type" : "timeseries",
                "label" : "weight",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.6982438247518528
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "markdownTextPattern" : "**Weight** (${weight:1} Kg)",
              "markdownTextFunction" : "return '# Some title\\n - Entity name: ' + data[0]['entityName'];",
              "useMarkdownTextFunction" : false,
              "markdownCss" : "p {\n    padding-left: 16px;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "1b588eb9-69d4-cddd-df3c-cca274464467",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "3426e1e7-7cee-fc70-971d-360968878087" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "totalCapacity",
                "type" : "attribute",
                "label" : "totalCapacity",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.15564693292735376
              }, {
                "name" : "level",
                "type" : "timeseries",
                "label" : "level",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.4842808547165254
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownCss" : "p {\n    padding-left: 16px;\n}",
              "markdownTextFunction" : "var level = data[0]['level'];\nvar totalCapacity = data[0]['totalCapacity'];\nvar absoluteLevel = (totalCapacity * level / 100).toFixed(2);\nreturn '**Liquid level** (' + Number(level).toFixed(0) + '% - ' + absoluteLevel + '/'+ totalCapacity +' L)';"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "3426e1e7-7cee-fc70-971d-360968878087",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "bead78b8-fd22-2a4f-bb11-2848b3c38be8" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "7b659beb-1601-5b67-528e-0846d1a0efa6",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "displayChiller",
                "type" : "attribute",
                "label" : "Chiller",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'Chiller';",
                  "setValueFunctionBody" : "return value ? 'Chiller' : 'unset';",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMy4wMDAxIDcuNDk5OTRDMTMuMDAwMSA4LjUzNzE0IDEyLjI2NjEgOS4yNTE2IDExLjQ0NTQgOS42NDMzM0MxMS4yODA3IDkuNzIxOTEgMTEuMTE4NSA5Ljc1MDYxIDEwLjk2NTcgOS43Mzg3NEMxMC45ODgxIDkuODIyMDEgMTEuMDAwMSA5LjkwOTU3IDExLjAwMDEgOS45OTk5NEMxMS4wMDAxIDEwLjAzMDQgMTAuOTk4OCAxMC4wNjA1IDEwLjk5NjEgMTAuMDkwMkMxMS4xNTExIDEwLjAzMjIgMTEuMzIyIDkuOTk5OTMgMTEuNTAwMSA5Ljk5OTkzTDEyLjUwMDEgOS45OTk5NEwxMy41IDkuOTk5OTNDMTQuMzI4NSA5Ljk5OTkyIDE1LjAwMDMgMTAuNjk3NSAxNC42NDM1IDExLjQ0NTJDMTQuMjUxNyAxMi4yNjU4IDEzLjUzNzMgMTIuOTk5OSAxMi41MDAxIDEyLjk5OTlDMTEuNDYyOSAxMi45OTk5IDEwLjc0ODQgMTIuMjY1OCAxMC4zNTY3IDExLjQ0NTJDMTAuMjc4MSAxMS4yODA1IDEwLjI0OTQgMTEuMTE4NCAxMC4yNjEzIDEwLjk2NTVDMTAuMTc4IDEwLjk4OCAxMC4wOTA1IDEwLjk5OTkgMTAuMDAwMSAxMC45OTk5QzkuOTY5NjUgMTAuOTk5OSA5LjkzOTQ5IDEwLjk5ODYgOS45MDk3MSAxMC45OTU5QzkuOTY3NzkgMTEuMTUwOSAxMCAxMS4zMjE4IDEwIDExLjVMMTAgMTIuNDk5OUwxMCAxMy40OTk5QzEwLjAwMDEgMTQuMzI4NCA5LjMwMjQ2IDE1LjAwMDIgOC41NTQ4MiAxNC42NDMzQzcuNzM0MTMgMTQuMjUxNiA3LjAwMDA2IDEzLjUzNzEgNy4wMDAwNiAxMi40OTk5QzcuMDAwMDYgMTEuNDYyNyA3LjczNDEzIDEwLjc0ODMgOC41NTQ4MiAxMC4zNTY2QzguNzE5NDggMTAuMjc4IDguODgxNyAxMC4yNDkzIDkuMDM0NTkgMTAuMjYxMUM5LjAxMjEyIDEwLjE3NzkgOS4wMDAxMyAxMC4wOTAzIDkuMDAwMTMgOS45OTk5NEM5LjAwMDEzIDkuOTY5NSA5LjAwMTQ5IDkuOTM5MzggOS4wMDQxNiA5LjkwOTYzQzguODQ5MjEgOS45Njc2NiA4LjY3ODM3IDkuOTk5OSA4LjUwMDI5IDkuOTk5ODlMNy41MDAzMSA5Ljk5OTg4TDYuNTAwMzMgOS45OTk4OUM1LjY3MTg5IDkuOTk5OSA1LjAwMDA2IDkuMzAyMyA1LjM1NjkyIDguNTU0NjdDNS43NDg2NSA3LjczMzk3IDYuNDYzMTEgNi45OTk5MSA3LjUwMDMxIDYuOTk5OTFDOC41Mzc1IDYuOTk5OTEgOS4yNTE5NyA3LjczMzk3IDkuNjQzNyA4LjU1NDY3QzkuNzIyMjcgOC43MTkyOSA5Ljc1MDk4IDguODgxNDkgOS43MzkxMSA5LjAzNDM1QzkuODIyMzIgOS4wMTE5MSA5LjkwOTgzIDguOTk5OTQgMTAuMDAwMSA4Ljk5OTk0QzEwLjAzMDYgOC45OTk5NCAxMC4wNjA3IDkuMDAxMyAxMC4wOTA1IDkuMDAzOTdDMTAuMDMyNCA4Ljg0ODk4IDEwLjAwMDIgOC42NzgwNyAxMC4wMDAyIDguNDk5OTJMMTAuMDAwMiA3LjQ5OTk0TDEwLjAwMDIgNi40OTk5NkMxMC4wMDAxIDUuNjcxNTMgMTAuNjk3NyA0Ljk5OTY5IDExLjQ0NTQgNS4zNTY1NUMxMi4yNjYxIDUuNzQ4MjggMTMuMDAwMSA2LjQ2Mjc0IDEzLjAwMDEgNy40OTk5NFoiIGZpbGw9IiMwMDAiLz4KPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iOCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+Cg=="
                },
                "_hash" : 0.34454051580229117,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayWasteBin",
                "type" : "attribute",
                "label" : "Smart Bin",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'Smart Bin';",
                  "setValueFunctionBody" : "return value ? 'Smart Bin' : 'unset';",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNzE4NDkgMTRDNS4xNTI0MSAxNCA0LjE5Mzk0IDEyLjI4MTYgNS4wMTY4NiAxMC45NDkxTDUuMDk4MTYgMTAuODE3NUM1LjE3Nzk3IDEwLjgzMjcgNS4yNjA5NCAxMC44MzgzIDUuMzQ1NzUgMTAuODMzMkM1Ljg5NzA0IDEwLjgwMDEgNi4zMTcxMyAxMC4zMjY0IDYuMjg0MDQgOS43NzUwOUw2LjIxNzA1IDguNjU5MDZDNi4xOTgzOCA4LjM0Nzk1IDYuMDM1NzEgOC4wNjMzMyA1Ljc3NzE0IDcuODg5MzNDNS41MTg1NiA3LjcxNTMzIDUuMTkzNjMgNy42NzE4NCA0Ljg5ODQgNy43NzE3MUwzLjkzMjM3IDguMDk4NTFDMy40MDkyMSA4LjI3NTQ5IDMuMTI4NTggOC44NDMwNiAzLjMwNTU2IDkuMzY2MjJDMy4zNDIzNyA5LjQ3NTA0IDMuMzk2MDggOS41NzMzNyAzLjQ2Mjc4IDkuNjU5MjdMMy4zMTUyMyA5Ljg5ODE4QzEuNjY5MzkgMTIuNTYzMSAzLjU4NjMzIDE2IDYuNzE4NDkgMTZINy44MzQ4NUM4LjM4NzE0IDE2IDguODM0ODUgMTUuNTUyMyA4LjgzNDg1IDE1QzguODM0ODUgMTQuNDQ3OCA4LjM4NzE0IDE0IDcuODM0ODUgMTRMNi43MTg0OSAxNFoiIGZpbGw9IiMyMTIxMjEiLz4KPHBhdGggZD0iTTEzLjMxMzUgMTMuODQwOUMxNC44Nzg5IDEzLjg4NzMgMTUuODg3OSAxMi4xOTggMTUuMTA0OCAxMC44NDE4TDE0LjU0NjcgOS44NzQ5NUMxNC4yNzA1IDkuMzk2NjYgMTQuNDM0NCA4Ljc4NTA3IDE0LjkxMjcgOC41MDg5M0MxNS4zOTEgOC4yMzI3OSAxNi4wMDI2IDguMzk2NjYgMTYuMjc4NyA4Ljg3NDk1TDE2LjgzNjkgOS44NDE3NUMxOC40MDMgMTIuNTU0MyAxNi4zODQ5IDE1LjkzMjkgMTMuMjU0MiAxNS44NEwxMi45NzM1IDE1LjgzMTdDMTIuOTMyNCAxNS45MzI0IDEyLjg3NDEgMTYuMDI4MSAxMi43OTgzIDE2LjExNDNDMTIuNDMzNyAxNi41MjkyIDExLjgwMTkgMTYuNTY5OSAxMS4zODcgMTYuMjA1NEwxMC42MjEgMTUuNTMyMkMxMC4zODY5IDE1LjMyNjQgMTAuMjYyMSAxNS4wMjMzIDEwLjI4MzUgMTQuNzEyM0MxMC4zMDQ5IDE0LjQwMTQgMTAuNDcgMTQuMTE4MiAxMC43MzAxIDEzLjk0NjVMMTEuNjYzMiAxMy4zMzA1QzEyLjEyNCAxMy4wMjYyIDEyLjc0NDQgMTMuMTUzMSAxMy4wNDg3IDEzLjYxNEMxMy4wOTU1IDEzLjY4NDkgMTMuMTMyMSAxMy43NTk2IDEzLjE1ODggMTMuODM2M0wxMy4zMTM1IDEzLjg0MDlaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0xMS42Njk2IDUuMjEwMDJDMTAuOTI3MiAzLjgzMTEzIDguOTU5NjggMy44MDE5NSA4LjE3NjY0IDUuMTU4MjFMNy42MTg0NiA2LjEyNTAxQzcuMzQyMzIgNi42MDMzIDYuNzMwNzMgNi43NjcxOCA2LjI1MjQ0IDYuNDkxMDRDNS43NzQxNCA2LjIxNDg5IDUuNjEwMjcgNS42MDMzIDUuODg2NDEgNS4xMjUwMUw2LjQ0NDU5IDQuMTU4MjFDOC4wMTA2NyAxLjQ0NTY4IDExLjk0NTYgMS41MDQwNCAxMy40MzA2IDQuMjYxODNMMTMuNTYzNyA0LjUwOTA3QzEzLjY3MTUgNC40OTQyNSAxMy43ODM1IDQuNDk2OSAxMy44OTYxIDQuNTE5NDNDMTQuNDM3NyA0LjYyNzc0IDE0Ljc4ODkgNS4xNTQ1NyAxNC42ODA2IDUuNjk2MTNMMTQuNDgwNiA2LjY5NjEzQzE0LjQxOTUgNy4wMDE3NSAxNC4yMTkzIDcuMjYxMzkgMTMuOTM5MyA3LjM5ODMzQzEzLjY1OTQgNy41MzUyNiAxMy4zMzE1IDcuNTMzODIgMTMuMDUyOCA3LjM5NDQ0TDEyLjA1MjggNi44OTQ0NEMxMS41NTg4IDYuNjQ3NDUgMTEuMzU4NiA2LjA0Njc4IDExLjYwNTYgNS41NTI4QzExLjY0MzYgNS40NzY4MSAxMS42ODk5IDUuNDA3NzcgMTEuNzQzIDUuMzQ2MjRMMTEuNjY5NiA1LjIxMDAyWiIgZmlsbD0iIzIxMjEyMSIvPgo8L3N2Zz4K"
                },
                "_hash" : 0.49298504090043105,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayLiquidLevelSensor",
                "type" : "attribute",
                "label" : "Liquid Level Sensor",
                "color" : "#9c27b0",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0LjYzNjMgMC40NTMyMTJDMTQuODIyOCAwLjIxMDI1NyAxNS4xNzcyIDAuMjEwMjU3IDE1LjM2MzcgMC40NTMyMTNDMTUuOTQwNCAxLjIwNDQgMTcgMi43MzA1NyAxNyAzLjgwMzczQzE3IDUuMDI3MjMgMTYuMTE0MyA1Ljk5OTgyIDE1IDUuOTk5ODJDMTMuODg1NyA1Ljk5OTgyIDEzIDUuMDI3MjMgMTMgMy44MDM3M0MxMyAyLjczMDU3IDE0LjA1OTYgMS4yMDQ0IDE0LjYzNjMgMC40NTMyMTJaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik04LjMwMTcgMi43NjA3M0M4LjY3Nzg4IDIuMzM3OTggOS4zMjIxMiAyLjMzNzk4IDkuNjk4MyAyLjc2MDczQzExLjI4MDEgNC41MzgzMiAxNSA5LjA0NzkgMTUgMTIuMTQzN0MxNSAxNS40MDY0IDEyLjM0MjcgMTggOSAxOEM1LjY1NzI1IDE4IDMgMTUuNDA2NCAzIDEyLjE0MzdDMyA5LjA0NzkgNi43MTk5NCA0LjUzODMyIDguMzAxNyAyLjc2MDczWiIgZmlsbD0iIzIxMjEyMSIvPgo8L3N2Zz4K",
                  "getValueFunctionBody" : "return !value || value === 'Liquid Level Sensor';",
                  "setValueFunctionBody" : "return value ? 'Liquid Level Sensor' : 'unset';"
                },
                "_hash" : 0.7203498706691758,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayOccupancySensor",
                "type" : "attribute",
                "label" : "Occupancy Sensor",
                "color" : "#3f51b5",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcgMy41QzcgNC4zMjg0MyA2LjMyODQzIDUgNS41IDVDNC42NzE1NyA1IDQgNC4zMjg0MyA0IDMuNUM0IDIuNjcxNTcgNC42NzE1NyAyIDUuNSAyQzYuMzI4NDMgMiA3IDIuNjcxNTcgNyAzLjVaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0zIDEyQzIuNDQ3NzIgMTIgMiAxMS41NTIzIDIgMTFMMiA3Ljg4NjUyQzIgNi44NDQ2MiAyLjg0NDYyIDYgMy44ODY1MiA2QzMuOTA1MzUgNiAzLjkyNDAzIDYuMDAwNTUgMy45NDI1NSA2LjAwMTYyQzMuOTYxNTcgNi4wMDA1NSAzLjk4MDcyIDYgNCA2SDdDNy4wMTkyOCA2IDcuMDM4NDMgNi4wMDA1NSA3LjA1NzQ1IDYuMDAxNjJDNy4wNzU5NyA2LjAwMDU1IDcuMDk0NjUgNiA3LjExMzQ4IDZDOC4xNTUzOCA2IDkgNi44NDQ2MiA5IDcuODg2NTJWMTFDOSAxMS41NTIzIDguNTUyMjkgMTIgOCAxMlYxN0M4IDE3LjU1MjMgNy41NTIyOCAxOCA3IDE4QzYuNDQ3NzIgMTggNiAxNy41NTIzIDYgMTdMNiAxNEg1VjE3QzUgMTcuNTUyMyA0LjU1MjI4IDE4IDQgMThDMy40NDc3MiAxOCAzIDE3LjU1MjMgMyAxN1YxMloiIGZpbGw9IiMyMTIxMjEiLz4KPHBhdGggZD0iTTE2IDE4QzE1LjQ0NzcgMTggMTUgMTcuNTUyMyAxNSAxN1YxNEgxNFYxN0MxNCAxNy41NTIzIDEzLjU1MjMgMTggMTMgMThDMTIuNDQ3NyAxOCAxMiAxNy41NTIzIDEyIDE3VjE0SDEwLjcyMTVDMTAuMzcyNCAxNCAxMC4xMzA4IDEzLjY1MTMgMTAuMjUzMyAxMy4zMjQ0TDEyLjQ3MzMgNy40MDQ0OUMxMi43OTAxIDYuNTU5NjggMTMuNTk3NyA2IDE0LjUgNkMxNS40MDIzIDYgMTYuMjA5OSA2LjU1OTY4IDE2LjUyNjcgNy40MDQ0OUwxOC43NDY3IDEzLjMyNDRDMTguODY5MiAxMy42NTEzIDE4LjYyNzYgMTQgMTguMjc4NSAxNEgxN1YxN0MxNyAxNy41NTIzIDE2LjU1MjMgMTggMTYgMThaIiBmaWxsPSIjMjEyMTIxIi8+CjxwYXRoIGQ9Ik0xNC41IDVDMTUuMzI4NCA1IDE2IDQuMzI4NDMgMTYgMy41QzE2IDIuNjcxNTcgMTUuMzI4NCAyIDE0LjUgMkMxMy42NzE2IDIgMTMgMi42NzE1NyAxMyAzLjVDMTMgNC4zMjg0MyAxMy42NzE2IDUgMTQuNSA1WiIgZmlsbD0iIzIxMjEyMSIvPgo8L3N2Zz4K",
                  "getValueFunctionBody" : "return !value || value === 'Occupancy Sensor';",
                  "setValueFunctionBody" : "return value ? 'Occupancy Sensor' : 'unset';"
                },
                "_hash" : 0.8314009067245134,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayCamera",
                "type" : "attribute",
                "label" : "Camera",
                "color" : "#607d8b",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "slideToggleLabelPosition" : "before",
                  "useCustomIcon" : true,
                  "customIcon" : "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTIyLjg4IDkwLjc4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMjIuODggOTAuNzgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDt9PC9zdHlsZT48Zz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDYuODYsMC4wNWg0My42M2w5Ljk0LDE3LjdoMjAuNDhjMS4wOSwwLDEuOTgsMC45MiwxLjk4LDEuOTh2NjkuMDhjMCwxLjA2LTAuOTEsMS45OC0xLjk4LDEuOThIMS45OCBDMC45Miw5MC43OCwwLDg5Ljg5LDAsODguODFsMC02OS4wOGMwLTEuMDksMC44OS0xLjk4LDEuOTgtMS45OGg5LjIxVjExLjRoMTEuMzh2Ni4zNWgxMi4zNmMyLjU3LTUuMDgsNS4xNC0xMC4xNSw3LjcxLTE1LjIzIEM0NC4yLTAuNTcsNDMuMzQsMC4wNSw0Ni44NiwwLjA1TDQ2Ljg2LDAuMDV6IE0xMTAuMDcsMjYuNWMzLjI2LDAsNS45LDIuNjQsNS45LDUuOWMwLDMuMjYtMi42NCw1LjktNS45LDUuOSBjLTMuMjYsMC01LjktMi42NC01LjktNS45QzEwNC4xOCwyOS4xNCwxMDYuODIsMjYuNSwxMTAuMDcsMjYuNUwxMTAuMDcsMjYuNUwxMTAuMDcsMjYuNXogTTY2LjY0LDMzLjM3IGM5Ljg3LDAsMTcuODgsOC4wMSwxNy44OCwxNy44OGMwLDkuODctOC4wMSwxNy44OC0xNy44OCwxNy44OGMtOS44NywwLTE3Ljg4LTguMDEtMTcuODgtMTcuODggQzQ4Ljc2LDQxLjM4LDU2Ljc3LDMzLjM3LDY2LjY0LDMzLjM3TDY2LjY0LDMzLjM3eiBNNjYuNjQsMjEuNzNjMTYuMzEsMCwyOS41MywxMy4yMiwyOS41MywyOS41M2MwLDE2LjMtMTMuMjIsMjkuNTMtMjkuNTMsMjkuNTMgYy0xNi4zLDAtMjkuNTMtMTMuMjMtMjkuNTMtMjkuNTNDMzcuMTIsMzQuOTUsNTAuMzQsMjEuNzMsNjYuNjQsMjEuNzNMNjYuNjQsMjEuNzN6Ii8+PC9nPjwvc3ZnPg==",
                  "useGetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'Camera';",
                  "useSetValueFunction" : true,
                  "setValueFunctionBody" : "return value ? 'Camera' : 'unset';"
                },
                "_hash" : 0.5009542973695849,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayEnergy",
                "type" : "attribute",
                "label" : "Energy",
                "color" : "#9c27b0",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "slideToggleLabelPosition" : "before",
                  "useCustomIcon" : true,
                  "customIcon" : "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyBmaWxsPSIjMDAwMDAwIiB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTMsOWg2TDgsMjJsMy0xMEg1TDEwLDJoN1oiLz48L3N2Zz4=",
                  "useGetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'shelly3em';",
                  "useSetValueFunction" : true,
                  "setValueFunctionBody" : "return value ? 'shelly3em' : 'unset';"
                },
                "_hash" : 0.20067561902261666,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : false,
              "showResultMessage" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "row",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 1
            },
            "title" : "Filter",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : {
              "fontWeight" : "bold",
              "fontSize" : "14px"
            },
            "titleStyle" : {
              "fontSize" : "20px",
              "fontWeight" : "bold",
              "paddingBottom" : "30px"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "noDataDisplayMessage" : "",
            "widgetCss" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "bead78b8-fd22-2a4f-bb11-2848b3c38be8",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "da1b7e42-2fd1-3c11-749d-138ae827f5eb" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "temperature",
                "type" : "timeseries",
                "label" : "temperature",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.31688983913901914
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "markdownTextPattern" : "**Temperature** (${temperature:1} °C)",
              "markdownTextFunction" : "return '# Some title\\n - Entity name: ' + data[0]['entityName'];",
              "useMarkdownTextFunction" : false,
              "markdownCss" : "p {\n    padding-left: 16px;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "da1b7e42-2fd1-3c11-749d-138ae827f5eb",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "70c73540-2bb5-1398-6601-ba1c8348a240" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "temperature",
                "type" : "timeseries",
                "label" : "Temperature",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : true,
                  "fillLines" : false,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ {
                    "thresholdValueSource" : "predefinedValue",
                    "thresholdEntityAlias" : "Selected device",
                    "thresholdAttribute" : "freezerHighTemperatureCriticalThreshold",
                    "color" : "#ff4a19"
                  }, {
                    "thresholdValueSource" : "predefinedValue",
                    "thresholdEntityAlias" : "Selected device",
                    "thresholdAttribute" : "freezerHighTemperatureMajorThreshold",
                    "color" : "#d4c21b"
                  }, {
                    "thresholdValueSource" : "predefinedValue",
                    "thresholdEntityAlias" : "Selected device",
                    "color" : "#ff4a19",
                    "thresholdAttribute" : "freezerLowTemperatureCriticalThreshold"
                  }, {
                    "thresholdValueSource" : "predefinedValue",
                    "thresholdAttribute" : "freezerLowTemperatureMajorThreshold",
                    "thresholdEntityAlias" : "Selected device",
                    "color" : "#d4c21b"
                  } ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisTitle" : "Temperature, °C"
                },
                "_hash" : 0.890142518382879,
                "units" : "°C",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1800000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "shadowSize" : 0,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "tickDecimals" : 0
              },
              "grid" : {
                "color" : "#f5f5f5",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "stack" : false,
              "tooltipIndividual" : false,
              "smoothLines" : true,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false
              }
            },
            "title" : "New Timeseries Line Chart",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "displayTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "70c73540-2bb5-1398-6601-ba1c8348a240",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "678a18cf-f5c6-fed2-b6b9-8d5650460365" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "maxBinLevelCriticalThreshold",
                "type" : "attribute",
                "label" : "Maximum fullness for critical alarm",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.3859130334588563,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 90;\n}"
              }, {
                "name" : "maxBinLevelMajorThreshold",
                "type" : "attribute",
                "label" : "Maximum fullness for major alarm",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.09378045215692454,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 70;\n}"
              }, {
                "name" : "lowBatteryCriticalThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for critical alarm",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.3977852589212394,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "lowBatteryMajorThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for major alarm",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.9885317089867498,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "678a18cf-f5c6-fed2-b6b9-8d5650460365",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "c548a9b5-186e-90c3-ac57-cdac4e69127b" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "level",
                "type" : "timeseries",
                "label" : "level",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.4842808547165254
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownCss" : "p {\n    padding-left: 16px;\n}",
              "markdownTextFunction" : "var level = data[0]['level'];\nvar totalCapacity = data[0]['totalCapacity'];\nvar absoluteLevel = (totalCapacity * level / 100).toFixed(2);\nreturn '**Fullness** (' + Number(level).toFixed(0) + '% - ' + absoluteLevel + '/'+ totalCapacity +' L)';",
              "markdownTextPattern" : "**Fullness** (${level:0}%)"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "c548a9b5-186e-90c3-ac57-cdac4e69127b",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "19663ca5-590a-528c-c30a-898c528513ab" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "level",
                "type" : "timeseries",
                "label" : "Fullness",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : false,
                  "fillLines" : false,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ {
                    "thresholdValueSource" : "entityAttribute",
                    "thresholdEntityAlias" : "Selected device",
                    "thresholdAttribute" : "maxBinLevelCriticalThreshold",
                    "color" : "#e64a19"
                  }, {
                    "thresholdValueSource" : "entityAttribute",
                    "thresholdAttribute" : "maxBinLevelMajorThreshold",
                    "thresholdEntityAlias" : "Selected device",
                    "color" : "#d4c21b"
                  } ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisMin" : 0,
                  "axisMax" : 100,
                  "axisTitle" : "Fullness, %"
                },
                "_hash" : 0.35527221469991277,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 18000000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 200
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "tickDecimals" : 0,
                "min" : 0,
                "max" : 100
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "stack" : true,
              "tooltipIndividual" : false,
              "defaultBarWidth" : 600,
              "barAlignment" : "right",
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : true,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Liquid level",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "widgetStyle" : { },
            "useDashboardTimewindow" : false,
            "actions" : { },
            "displayTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "19663ca5-590a-528c-c30a-898c528513ab",
          "typeFullFqn" : "system.charts.timeseries_bars_flot"
        },
        "77d75f64-a030-0597-64fd-9ae65c5e4843" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "minLiquidLevelCriticalThreshold",
                "type" : "attribute",
                "label" : "Minimum liquid level for critical alarm",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.3859130334588563,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "minLiquidLevelMajorThreshold",
                "type" : "attribute",
                "label" : "Minimum liquid level for major alarm",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.09378045215692454,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              }, {
                "name" : "lowBatteryCriticalThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for critical alarm",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.3977852589212394,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "lowBatteryMajorThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for major alarm",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.9885317089867498,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "77d75f64-a030-0597-64fd-9ae65c5e4843",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "5364ac11-0129-8771-7bb1-67718bd3efda" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "lowBatteryCriticalThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for critical alarm",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.3977852589212394,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "lowBatteryMajorThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for major alarm",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.9885317089867498,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "5364ac11-0129-8771-7bb1-67718bd3efda",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "49056eb9-3240-4315-84e8-73ea065e4652" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "motion",
                "type" : "timeseries",
                "label" : "motion",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.41421011215312653,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "return value === 'true' ? 'Detected' : 'None';"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "markdownTextPattern" : "**Movement detection** (${motion})",
              "markdownTextFunction" : "return '# Some title\\n - Entity name: ' + data[0]['entityName'];",
              "useMarkdownTextFunction" : false,
              "markdownCss" : "p {\n    padding-left: 16px;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "49056eb9-3240-4315-84e8-73ea065e4652",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "bb3e4bc4-7f69-b8df-c554-dfdffd83a4dc" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "motion",
                "type" : "timeseries",
                "label" : "Movement detection",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : true,
                  "fillLines" : true,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisTitle" : "Movement detection",
                  "axisMax" : 1
                },
                "_hash" : 0.774509473282736,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "return value === 'true' ? 1 : 0;"
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1800000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 0,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "ticksFormatter" : "if (value > 0 && value <= 1) {\n    return 'Detected';\n} else if (value === 0) {\n    return 'None';\n} else {\n    return '';\n}",
                "tickDecimals" : 0
              },
              "grid" : {
                "color" : "#e0e0e0",
                "tickColor" : "#DDDDDD",
                "verticalLines" : false,
                "horizontalLines" : false,
                "outlineWidth" : 1
              },
              "stack" : false,
              "tooltipIndividual" : false,
              "tooltipValueFormatter" : "if (value > 0 && value <= 1) {\n    return 'Detected';\n} else if (value === 0) {\n    return 'None';\n} else {\n    return '';\n}",
              "smoothLines" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false
              }
            },
            "title" : "Door state",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "widgetStyle" : { },
            "useDashboardTimewindow" : false,
            "actions" : {
              "headerButton" : [ ]
            },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "bb3e4bc4-7f69-b8df-c554-dfdffd83a4dc",
          "typeFullFqn" : "system.charts.state_chart"
        },
        "9ab503a5-3c68-5dfb-d55a-8672bf48ada9" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "maxOccupancyTimeCriticalThreshold",
                "type" : "attribute",
                "label" : "Occupancy duration for critical alarm",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 2,
                  "maxValue" : 400,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.3859130334588563,
                "units" : "Minutes",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 60;\n}"
              }, {
                "name" : "maxOccupancyTimeMajorThreshold",
                "type" : "attribute",
                "label" : "Occupancy duration for major alarm",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 2,
                  "maxValue" : 600,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.09378045215692454,
                "units" : "Minutes",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              }, {
                "name" : "lowBatteryCriticalThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for critical alarm",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.3977852589212394,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "lowBatteryMajorThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for major alarm",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.9885317089867498,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "9ab503a5-3c68-5dfb-d55a-8672bf48ada9",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "33b97c6e-ccca-4677-2ae1-6b8c6339f036" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "occupied",
                "type" : "timeseries",
                "label" : "occupied",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.41421011215312653,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "return value === 'true' ? 'Occupied' : 'Vacant';"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "markdownTextPattern" : "**State** (${occupied})",
              "markdownTextFunction" : "return '# Some title\\n - Entity name: ' + data[0]['entityName'];",
              "useMarkdownTextFunction" : false,
              "markdownCss" : "p {\n    padding-left: 16px;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "33b97c6e-ccca-4677-2ae1-6b8c6339f036",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "96f25bbc-79bc-c367-440b-e4bb292f7656" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "occupied",
                "type" : "timeseries",
                "label" : "State",
                "color" : "#2196f3",
                "settings" : {
                  "excludeFromStacking" : false,
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "showLines" : true,
                  "fillLines" : true,
                  "showPoints" : false,
                  "showPointShape" : "circle",
                  "pointShapeFormatter" : "var size = radius * Math.sqrt(Math.PI) / 2;\nctx.moveTo(x - size, y - size);\nctx.lineTo(x + size, y + size);\nctx.moveTo(x - size, y + size);\nctx.lineTo(x + size, y - size);",
                  "showPointsLineWidth" : 5,
                  "showPointsRadius" : 3,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "thresholds" : [ ],
                  "comparisonSettings" : {
                    "showValuesForComparison" : true
                  },
                  "axisTitle" : "State",
                  "axisMax" : 1
                },
                "_hash" : 0.774509473282736,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "return value === 'true' ? 1 : 0;"
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1800000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 0,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454",
                "ticksFormatter" : "if (value > 0 && value <= 1) {\n    return 'Occupied';\n} else if (value === 0) {\n    return 'Vacant';\n} else {\n    return '';\n}",
                "tickDecimals" : 0
              },
              "grid" : {
                "color" : "#e0e0e0",
                "tickColor" : "#DDDDDD",
                "verticalLines" : false,
                "horizontalLines" : false,
                "outlineWidth" : 1
              },
              "stack" : false,
              "tooltipIndividual" : false,
              "tooltipValueFormatter" : "if (value > 0 && value <= 1) {\n    return 'Occupied';\n} else if (value === 0) {\n    return 'Vacant';\n} else {\n    return '';\n}",
              "smoothLines" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "showTooltip" : true,
              "comparisonEnabled" : false,
              "timeForComparison" : "previousInterval",
              "xaxisSecond" : {
                "axisPosition" : "top",
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : false,
              "legendConfig" : {
                "direction" : "column",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false
              }
            },
            "title" : "Door state",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "widgetStyle" : { },
            "useDashboardTimewindow" : false,
            "actions" : {
              "headerButton" : [ ]
            },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "96f25bbc-79bc-c367-440b-e4bb292f7656",
          "typeFullFqn" : "system.charts.state_chart"
        },
        "e1162517-e90f-50f4-9cc3-71ec9b3fcbab" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "lowBatteryCriticalThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for critical alarm",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.3977852589212394,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 10;\n}"
              }, {
                "name" : "lowBatteryMajorThreshold",
                "type" : "attribute",
                "label" : "Low battery threshold for major alarm",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : true,
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "_hash" : 0.9885317089867498,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if (value){\n    return value;\n} else {\n    return 30;\n}"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : true,
              "showResultMessage" : true,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Settings",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "padding-top" : "8px",
              "padding-bottom" : "24px",
              "fontSize" : "18px",
              "fontWeight" : 500
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "widgetCss" : ".tb-multiple-input > div {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.tb-multiple-input > div > fieldset {\n    flex: 1;\n}\n\n.tb-multiple-input .mat-padding {\n    padding: 0;\n}\n\n.tb-multiple-input button[type=submit] {\n    margin-right: 0 !important;\n}\n\n",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "e1162517-e90f-50f4-9cc3-71ec9b3fcbab",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "344f5c53-b6ef-3500-8ca0-1cf79cdbb44e" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "alarm",
                "type" : "timeseries",
                "label" : "alarm",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.41421011215312653,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "return value === 'true' ? 'Alarm' : 'None';"
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "markdownTextPattern" : "**Fire alarm** (${alarm})",
              "markdownTextFunction" : "return '# Some title\\n - Entity name: ' + data[0]['entityName'];",
              "useMarkdownTextFunction" : false,
              "markdownCss" : "p {\n    padding-left: 16px;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "344f5c53-b6ef-3500-8ca0-1cf79cdbb44e",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "e8e3d4be-2720-0677-2c04-ff9a5fdb2447" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "state",
                "type" : "attribute",
                "label" : "state",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8057369620518648
              }, {
                "name" : "active",
                "type" : "attribute",
                "label" : "active",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.21088975870489435
              }, {
                "name" : "type",
                "type" : "entityField",
                "label" : "Type",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.5157976480659352
              }, {
                "name" : "batteryLevel",
                "type" : "timeseries",
                "label" : "batteryLevel",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.1659349558331873
              }, {
                "name" : "temperature",
                "type" : "timeseries",
                "label" : "temperature",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.08791316519197201
              }, {
                "name" : "humidity",
                "type" : "timeseries",
                "label" : "humidity",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.7742270904275599
              }, {
                "name" : "vdd",
                "type" : "timeseries",
                "label" : "vdd",
                "color" : "#8bc34a",
                "settings" : { },
                "_hash" : 0.6517342879228747,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "var battery_level;\nvar mvolts=value;\nif (mvolts >= 3000)\n{\n\tbattery_level = 100;\n}\nelse if (mvolts > 2900)\n{\n\tbattery_level = 100 - ((3000 - mvolts) * 58) / 100;\n}\nelse if (mvolts > 2740)\n{\n\tbattery_level = 42 - ((2900 - mvolts) * 24) / 160;\n}\nelse if (mvolts > 2440)\n{\n\tbattery_level = 18 - ((2740 - mvolts) * 12) / 300;\n}\nelse if (mvolts > 2100)\n{\n\tbattery_level = 6 - ((2440 - mvolts) * 6) / 340;\n}\nelse\n{\n\tbattery_level = 0;\n}\nreturn battery_level;\n//return (((value-1750)/3700)*100).toFixed(2);"
              }, {
                "name" : "Phase_A_pf",
                "type" : "timeseries",
                "label" : "Phase_A_pf",
                "color" : "#e91e63",
                "settings" : { },
                "_hash" : 0.16252375456665535
              }, {
                "name" : "Phase_A_returned_energy",
                "type" : "timeseries",
                "label" : "Phase_A_returned_energy",
                "color" : "#ffeb3b",
                "settings" : { },
                "_hash" : 0.48633064403802706
              }, {
                "name" : "Phase_B_pf",
                "type" : "timeseries",
                "label" : "Phase_B_pf",
                "color" : "#03a9f4",
                "settings" : { },
                "_hash" : 0.00598816041628214
              }, {
                "name" : "Phase_B_returned_energy",
                "type" : "timeseries",
                "label" : "Phase_B_returned_energy",
                "color" : "#ff9800",
                "settings" : { },
                "_hash" : 0.14906148385580908
              }, {
                "name" : "Phase_C_pf",
                "type" : "timeseries",
                "label" : "Phase_C_pf",
                "color" : "#673ab7",
                "settings" : { },
                "_hash" : 0.10686793782808279
              }, {
                "name" : "Phase_C_returned_energy",
                "type" : "timeseries",
                "label" : "Phase_C_returned_energy",
                "color" : "#cddc39",
                "settings" : { },
                "_hash" : 0.5374922402740985
              }, {
                "name" : "Phase_A_Name",
                "type" : "attribute",
                "label" : "Phase_A_Name",
                "color" : "#009688",
                "settings" : { },
                "_hash" : 0.5276269350656766
              }, {
                "name" : "Phase_B_Name",
                "type" : "attribute",
                "label" : "Phase_B_Name",
                "color" : "#795548",
                "settings" : { },
                "_hash" : 0.10942364291737272
              }, {
                "name" : "Phase_C_Name",
                "type" : "attribute",
                "label" : "Phase_C_Name",
                "color" : "#00bcd4",
                "settings" : { },
                "_hash" : 0.16168328489199224
              }, {
                "name" : "setTemperature",
                "type" : "timeseries",
                "label" : "setTemperature",
                "color" : "#ff5722",
                "settings" : { },
                "_hash" : 0.47266465259558843
              }, {
                "name" : "campeggi_name",
                "type" : "attribute",
                "label" : "name",
                "color" : "#9e9e9e",
                "settings" : { },
                "_hash" : 0.23146227311536172,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "presenza",
                "type" : "timeseries",
                "label" : "presenza",
                "color" : "#9e9e9e",
                "settings" : { },
                "_hash" : 0.7463997008508236,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : false,
                "postFuncBody" : null
              }, {
                "name" : "mc",
                "type" : "timeseries",
                "label" : "mc",
                "color" : "#2962ff",
                "settings" : { },
                "_hash" : 0.24547609505937928,
                "aggregationType" : "NONE",
                "units" : "l",
                "decimals" : 2,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var darkMode = $('.tb-dashboard-page').hasClass('dark');\nvar humidityPercent=null;\nvar batteryPercent=null;\nvar batteryPercentText=null;\nvar textColorBattery, textColorHumidity, backgroundBattery, backgroundHumidity;\nif(darkMode){\n    textColorBattery = '#b6d7a8';\n    textColorHumidity = '#9fc5e8';\n    backgroundBattery = '217,234,211';\n    backgroundHumidity = '207,226,243';\n}else{\n    textColorBattery = '#6aa84f';\n    textColorHumidity = '#3d85c6';\n    backgroundBattery = '147,196,125';\n    backgroundHumidity = '111,168,220';\n}\nvar name, label, type, state, active, batteryLevel, temperature, setTemperature, humidity, Phase_A_pf, Phase_B_pf, Phase_C_pf, Phase_A_returned_energy, Phase_B_returned_energy, Phase_C_returned_energy, mc, presenza;\nif (data && data.length) {\n    name = data[0]['name'];\n    temperature = data[0]['temperature'];\n    setTemperature = data[0]['setTemperature'];\n    humidity = data[0]['humidity'];\n    type = data[0]['Type'];\n    active = data[0]['active'];\n    Phase_A_pf = data[0]['Phase_A_pf'];\n    Phase_B_pf = data[0]['Phase_B_pf'];\n    Phase_C_pf = data[0]['Phase_C_pf'];\n    Phase_A_returned_energy = data[0]['Phase_A_returned_energy'];\n    Phase_B_returned_energy = data[0]['Phase_B_returned_energy'];\n    Phase_C_returned_energy = data[0]['Phase_C_returned_energy'];\n    presenza = data[0]['presenza'];\n    mc = data[0]['mc'];\n    if(data[0]['humidity']>0){\n        humidityPercent = humidity + '%';\n        humidityPercentText = humidity.toFixed(0) + '%';\n    }\n    if(data[0]['vdd']>0){\n        batteryLevel = data[0]['vdd'];\n        batteryPercent = batteryLevel + '%';\n        batteryPercentText = batteryLevel.toFixed(0) + '%';\n    }\n    if (state === 'false') {\n        state = 'Disconnected';\n    }\n    if (state === 'active') {\n        state = 'Active';\n    }\n} else {\n    name = 'N/A';\n    type = 'N/A';\n    state = 'N/A';\n    active = 'N/A';\n    batteryLevel = null;\n    temperature = 'N/A';\n    setTemperature = null;\n    humidity = null;\n    mc = null;\n    presenza = null;\n    Phase_A_pf = null;\n    Phase_B_pf = null;\n    Phase_C_pf = null;\n    Phase_A_returned_energy = null;\n    Phase_B_returned_energy = null;\n    Phase_C_returned_energy = null;\n}\n\nvar typeSvg = getTypeSvg(type);\n    var encodedTypeSvg = encodeURIComponent(typeSvg);\n    var typeSvgUrl = 'data:image/svg+xml,' + encodedTypeSvg;\n\nvar header = '<div class=\"header\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"8px\">' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><button id=\"Indietro\" matTooltip=\"Indietro\" type=\"button\" mat-icon-button><mat-icon>arrow_back</mat-icon></button></div>' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><img style=\"vertical-align: middle;\" class=\"title-icon mat-icon\" src=\"'+ typeSvgUrl +'\"></div>' +\n                '<div fxFlex fxLayout=\"column\" fxLayoutAlign=\"center\">' +\n                   '<div class=\"subtitle\">' + name + '</div>' +\n                '</div>' +\n                (darkMode ? ('<div fxLayout=\"column\" fxLayoutAlign=\"center\"><button id=\"maintenance\" data-device-type=' + encodeURIComponent(type) + ' type=\"button\" mat-button color=\"white\"><mat-icon class=\"tb-mat-18\">warning</mat-icon><span>Manutenzione</span></button></div>' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><button id=\"settings\" data-device-type=' + encodeURIComponent(type) + ' type=\"button\" mat-button color=\"white\"><mat-icon class=\"tb-mat-18\">settings</mat-icon></button></div>') : '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><button id=\"maintenance\" data-device-type=' + encodeURIComponent(type) + ' type=\"button\" mat-button color=\"primary\"><mat-icon class=\"tb-mat-18\">warning</mat-icon><span>Manutenzione</span></button></div>' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><button id=\"settings\" data-device-type=' + encodeURIComponent(type) + ' type=\"button\" mat-button color=\"primary\"><mat-icon class=\"tb-mat-18\">settings</mat-icon></button></div>') +\n             '</div>';\n\nreturn '<div class=\"main-layout\" style=\"width: 100%; height: 100%;\" fxLayout=\"column\">' +\n          header +\n          '<div fxLayout=\"row\" class=\"params\">' +\n              '<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Tipo Dispositivo: </div>' +\n                '<div class=\"param\">'+ type +'</div>' +\n              '</div>' +\n              (temperature ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Temperatura: </div>' +\n                '<div class=\"param\">'+ temperature +' °C</div>' +\n              '</div>') : '') +\n              (setTemperature ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Temperatura Impostata: </div>' +\n                '<div class=\"param\">'+ setTemperature +' °C</div>' +\n              '</div>') : '') +\n              (Phase_A_pf ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">PF ${Phase_A_Name}: </div>' +\n                '<div class=\"param\">'+ Phase_A_pf +'</div>' +\n              '</div>') : '') +\n              (Phase_B_pf ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">PF ${Phase_B_Name}: </div>' +\n                '<div class=\"param\">'+ Phase_B_pf +'</div>' +\n              '</div>') : '') +\n              (Phase_C_pf ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">PF ${Phase_C_Name}: </div>' +\n                '<div class=\"param\">'+ Phase_C_pf +'</div>' +\n              '</div>') : '') +\n              (Phase_A_returned_energy ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Dispersione Fase A: </div>' +\n                '<div class=\"param\">'+ Phase_A_returned_energy +' </div>' +\n              '</div>') : '') +\n              (Phase_B_returned_energy ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Dispersione Fase B: </div>' +\n                '<div class=\"param\">'+ Phase_B_returned_energy +' </div>' +\n              '</div>') : '') +\n              (Phase_C_returned_energy ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Dispersione Fase C: </div>' +\n                '<div class=\"param\">'+ Phase_C_returned_energy +' </div>' +\n              '</div>') : '') +\n              (presenza ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Presenza: </div>' +\n                '<div class=\"param\">'+ getPresenza(presenza) +'</div>' +\n              '</div>') : '') +\n              (mc ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Litri: </div>' +\n                '<div class=\"param\">'+ mc.toFixed(2) +' l</div>' +\n              '</div>') : '') +\n              (humidity ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Umidità: </div>' +\n                '<div style=\"height:24px;width:80%;background:linear-gradient(to right, rgba('+backgroundHumidity+', 0.16) '+humidityPercent+', rgba('+backgroundHumidity+', 0.08) '+humidityPercent+'); border-radius: 5px;\"><span style=\"padding-left: 4px; font-weight: 500; font-size:13px; color: '+textColorHumidity+';\">'+humidityPercentText+'</span></div>' +\n                '</div>') : '') +\n              (batteryLevel ? ('<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Batteria: </div>' +\n                '<div style=\"height:24px;width:80%;background:linear-gradient(to right, rgba('+backgroundBattery+', 0.16) '+batteryPercent+', rgba('+backgroundBattery+', 0.08) '+batteryPercent+'); border-radius: 5px;\"><span style=\"padding-left: 4px; font-weight: 500; font-size:13px; color: '+textColorBattery+';\">'+batteryPercentText+'</span></div>' +\n                '</div>') : '') +\n              '<div fxFlex class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Stato sensore: </div>' +\n                '<div class=\"param\">'+ getStateHtml(active) +'</div>' +\n              '</div>' +\n          '</div>' +\n       '<div>';\n       \n\nfunction getPresenza(params){\n    switch (params) {\n        case 'true':\n            return '<span style=\"color:red\">Occupato</span>';\n        case 'false':\n            return '<span style=\"color:green\">Libero</span>';\n        default:\n            return params;\n    }\n}\n\nfunction getTypeSvg(type) {\n    var typeSvg;\n    switch (type) {\n        case 'AA Sensor':\n            if(darkMode){\n                typeSvg = '<svg fill=\"white\" viewBox=\"0 0 320 512\" height=\"18px\" width=\"18px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M176 322.9l.0002-50.88c0-8.75-7.25-16-16-16s-15.1 7.25-15.1 16L144 322.9c-18.62 6.625-32 24.25-32 45.13c0 26.5 21.5 48 48 48s48-21.5 48-48C208 347.1 194.6 329.5 176 322.9zM272 278.5V112c0-61.87-50.12-112-111.1-112S48 50.13 48 112v166.5c-19.75 24.75-32 55.5-32 89.5c0 79.5 64.5 143.1 144 143.1S304 447.5 304 368C304 334 291.8 303.1 272 278.5zM160 448c-44.13 0-80-35.87-80-79.1c0-25.5 12.25-48.88 32-63.75v-192.3c0-26.5 21.5-48 48-48s48 21.5 48 48v192.3c19.75 14.75 32 38.25 32 63.75C240 412.1 204.1 448 160 448z\"/></svg>';\n            }else{\n                typeSvg = '<svg fill=\"#212121\" viewBox=\"0 0 320 512\" height=\"18px\" width=\"18px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M176 322.9l.0002-50.88c0-8.75-7.25-16-16-16s-15.1 7.25-15.1 16L144 322.9c-18.62 6.625-32 24.25-32 45.13c0 26.5 21.5 48 48 48s48-21.5 48-48C208 347.1 194.6 329.5 176 322.9zM272 278.5V112c0-61.87-50.12-112-111.1-112S48 50.13 48 112v166.5c-19.75 24.75-32 55.5-32 89.5c0 79.5 64.5 143.1 144 143.1S304 447.5 304 368C304 334 291.8 303.1 272 278.5zM160 448c-44.13 0-80-35.87-80-79.1c0-25.5 12.25-48.88 32-63.75v-192.3c0-26.5 21.5-48 48-48s48 21.5 48 48v192.3c19.75 14.75 32 38.25 32 63.75C240 412.1 204.1 448 160 448z\"/></svg>';\n            }\n            break;\n        case 'Freezer':            \n            typeSvg = '<rect x=\"9\" y=\"2\" width=\"2\" height=\"16\" rx=\"1\" fill=\"#212121\"/>' +\n                      '<path d=\"M12.5 3.5L10 6L7.5 3.5M12.5 16.5L10 14L7.5 16.5\" stroke=\"#212121\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>' +\n                      '<path d=\"M16.8792 8.91509L13.4641 8.00002L14.3792 4.58496M5.62082 15.4151L6.53588 12L3.12082 11.085\" stroke=\"#212121\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>' +\n                      '<path d=\"M5.62085 4.58491L6.53591 7.99998L3.12085 8.91504M16.8792 11.0849L13.4641 12L14.3792 15.415\" stroke=\"#212121\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>' +\n                      '<rect x=\"16.4282\" y=\"5.13379\" width=\"2\" height=\"16\" rx=\"1\" transform=\"rotate(60 16.4282 5.13379)\" fill=\"#212121\"/>' +\n                      '<rect x=\"2.57178\" y=\"6.86621\" width=\"2\" height=\"16\" rx=\"1\" transform=\"rotate(-60 2.57178 6.86621)\" fill=\"#212121\"/>';\n            break;\n        case 'Chiller':            \n            typeSvg = '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.0001 7.49994C13.0001 8.53714 12.2661 9.2516 11.4454 9.64333C11.2807 9.72191 11.1185 9.75061 10.9657 9.73874C10.9881 9.82201 ' +\n                      '11.0001 9.90957 11.0001 9.99994C11.0001 10.0304 10.9988 10.0605 10.9961 10.0902C11.1511 10.0322 11.322 9.99993 11.5001 9.99993L12.5001 9.99994L13.5 9.99993C14.3285 9.99992 15.0003 ' +\n                      '10.6975 14.6435 11.4452C14.2517 12.2658 13.5373 12.9999 12.5001 12.9999C11.4629 12.9999 10.7484 12.2658 10.3567 11.4452C10.2781 11.2805 10.2494 11.1184 10.2613 10.9655C10.178 10.988 ' +\n                      '10.0905 10.9999 10.0001 10.9999C9.96965 10.9999 9.93949 10.9986 9.90971 10.9959C9.96779 11.1509 10 11.3218 10 11.5L10 12.4999L10 13.4999C10.0001 14.3284 9.30246 15.0002 8.55482 ' +\n                      '14.6433C7.73413 14.2516 7.00006 13.5371 7.00006 12.4999C7.00006 11.4627 7.73413 10.7483 8.55482 10.3566C8.71948 10.278 8.8817 10.2493 9.03459 10.2611C9.01212 10.1779 9.00013 10.0903 ' +\n                      '9.00013 9.99994C9.00013 9.9695 9.00149 9.93938 9.00416 9.90963C8.84921 9.96766 8.67837 9.9999 8.50029 9.99989L7.50031 9.99988L6.50033 9.99989C5.67189 9.9999 5.00006 9.3023 5.35692 ' +\n                      '8.55467C5.74865 7.73397 6.46311 6.99991 7.50031 6.99991C8.5375 6.99991 9.25197 7.73397 9.6437 8.55467C9.72227 8.71929 9.75098 8.88149 9.73911 9.03435C9.82232 9.01191 9.90983 8.99994 ' +\n                      '10.0001 8.99994C10.0306 8.99994 10.0607 9.0013 10.0905 9.00397C10.0324 8.84898 10.0002 8.67807 10.0002 8.49992L10.0002 7.49994L10.0002 6.49996C10.0001 5.67153 10.6977 4.99969 11.4454 ' +\n                      '5.35655C12.2661 5.74828 13.0001 6.46274 13.0001 7.49994Z\" fill=\"#212121\"/>' +\n                      '<circle cx=\"10\" cy=\"10\" r=\"8\" stroke=\"#212121\" stroke-width=\"2\"/>';\n            break;                      \n        case 'Smart Bin':\n            typeSvg = '<path d=\"M6.71849 14C5.15241 14 4.19394 12.2816 5.01686 10.9491L5.09816 10.8175C5.17797 10.8327 5.26094 10.8383 5.34575 10.8332C5.89704 10.8001 6.31713 10.3264 6.28404 9.77509L6.21705 8.65906C6.19838 8.34795 6.03571 8.06333 5.77714 7.88933C5.51856 7.71533 5.19363 7.67184 4.8984 7.77171L3.93237 8.09851C3.40921 8.27549 3.12858 8.84306 3.30556 9.36622C3.34237 9.47504 3.39608 9.57337 3.46278 9.65927L3.31523 9.89818C1.66939 12.5631 3.58633 16 6.71849 16H7.83485C8.38714 16 8.83485 15.5523 8.83485 15C8.83485 14.4478 8.38714 14 7.83485 14L6.71849 14Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M13.3135 13.8409C14.8789 13.8873 15.8879 12.198 15.1048 10.8418L14.5467 9.87495C14.2705 9.39666 14.4344 8.78507 14.9127 8.50893C15.391 8.23279 16.0026 8.39666 16.2787 8.87495L16.8369 9.84175C18.403 12.5543 16.3849 15.9329 13.2542 15.84L12.9735 15.8317C12.9324 15.9324 12.8741 16.0281 12.7983 16.1143C12.4337 16.5292 11.8019 16.5699 11.387 16.2054L10.621 15.5322C10.3869 15.3264 10.2621 15.0233 10.2835 14.7123C10.3049 14.4014 10.47 14.1182 10.7301 13.9465L11.6632 13.3305C12.124 13.0262 12.7444 13.1531 13.0487 13.614C13.0955 13.6849 13.1321 13.7596 13.1588 13.8363L13.3135 13.8409Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M11.6696 5.21002C10.9272 3.83113 8.95968 3.80195 8.17664 5.15821L7.61846 6.12501C7.34232 6.6033 6.73073 6.76718 6.25244 6.49104C5.77414 6.21489 5.61027 5.6033 5.88641 5.12501L6.44459 4.15821C8.01067 1.44568 11.9456 1.50404 13.4306 4.26183L13.5637 4.50907C13.6715 4.49425 13.7835 4.4969 13.8961 4.51943C14.4377 4.62774 14.7889 5.15457 14.6806 5.69613L14.4806 6.69613C14.4195 7.00175 14.2193 7.26139 13.9393 7.39833C13.6594 7.53526 13.3315 7.53382 13.0528 7.39444L12.0528 6.89444C11.5588 6.64745 11.3586 6.04678 11.6056 5.5528C11.6436 5.47681 11.6899 5.40777 11.743 5.34624L11.6696 5.21002Z\" fill=\"#212121\"/>';\n            break;          \n        case 'Door Sensor':\n            typeSvg = '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 4H6V16H14V4ZM8 12C8.55228 12 9 11.5523 9 11C9 10.4477 8.55228 10 8 10C7.44772 10 7 10.4477 7 11C7 11.5523 7.44772 12 8 12Z\" fill=\"#212121\"/>' +\n                      '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16 17V3C16 2.44772 15.5523 2 15 2H5C4.44772 2 4 2.44772 4 3V17H3.5C3.22386 17 3 17.2239 3 17.5C3 17.7761 3.22386 18 3.5 18H16.5C16.7761 18 17 17.7761 17 17.5C17 17.2239 16.7761 17 16.5 17H16ZM15 3H5L5 17H15V3Z\" fill=\"#212121\"/>';\n            break;\n        case 'Liquid Level Sensor':\n            typeSvg = '<path d=\"M14.6363 0.453212C14.8228 0.210257 15.1772 0.210257 15.3637 0.453213C15.9404 1.2044 17 2.73057 17 3.80373C17 5.02723 16.1143 5.99982 15 5.99982C13.8857 5.99982 13 5.02723 13 3.80373C13 2.73057 14.0596 1.2044 14.6363 0.453212Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M8.3017 2.76073C8.67788 2.33798 9.32212 2.33798 9.6983 2.76073C11.2801 4.53832 15 9.0479 15 12.1437C15 15.4064 12.3427 18 9 18C5.65725 18 3 15.4064 3 12.1437C3 9.0479 6.71994 4.53832 8.3017 2.76073Z\" fill=\"#212121\"/>';\n            break;\n        case 'Motion Sensor':\n            typeSvg = '<path d=\"M2.5 5C2.22386 5 2 5.22386 2 5.5C2 5.77614 2.22386 6 2.5 6H4C4 6.55228 4.44772 7 5 7H15C15.5523 7 16 6.55228 16 6H17.5C17.7761 6 18 5.77614 18 5.5C18 5.22386 17.7761 5 17.5 5H2.5Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M12.0001 12C12.5524 12 13.0001 11.5523 13.0001 11C13.0001 10.4477 12.5524 10 12.0001 10C11.4478 10 11.0001 10.4477 11.0001 11C11.0001 11.5523 11.4478 12 12.0001 12Z\" fill=\"#212121\"/>' +\n                      '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.0001 16C14.0804 16 17.4472 12.9453 17.9384 8.99801C18.0066 8.44996 17.5524 8 17.0001 8H3.00009C2.4478 8 1.99353 8.44996 2.06173 8.99801C2.55295 12.9453 5.91978 16 10.0001 16ZM12.0001 13C13.1047 13 14.0001 12.1046 14.0001 11C14.0001 9.89543 13.1047 9 12.0001 9C10.8955 9 10.0001 9.89543 10.0001 11C10.0001 12.1046 10.8955 13 12.0001 13Z\" fill=\"#212121\"/>';\n            break;\n        case 'Occupancy Sensor':\n            typeSvg = '<path d=\"M7 3.5C7 4.32843 6.32843 5 5.5 5C4.67157 5 4 4.32843 4 3.5C4 2.67157 4.67157 2 5.5 2C6.32843 2 7 2.67157 7 3.5Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M3 12C2.44772 12 2 11.5523 2 11L2 7.88652C2 6.84462 2.84462 6 3.88652 6C3.90535 6 3.92403 6.00055 3.94255 6.00162C3.96157 6.00055 3.98072 6 4 6H7C7.01928 6 7.03843 6.00055 7.05745 6.00162C7.07597 6.00055 7.09465 6 7.11348 6C8.15538 6 9 6.84462 9 7.88652V11C9 11.5523 8.55229 12 8 12V17C8 17.5523 7.55228 18 7 18C6.44772 18 6 17.5523 6 17L6 14H5V17C5 17.5523 4.55228 18 4 18C3.44772 18 3 17.5523 3 17V12Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M16 18C15.4477 18 15 17.5523 15 17V14H14V17C14 17.5523 13.5523 18 13 18C12.4477 18 12 17.5523 12 17V14H10.7215C10.3724 14 10.1308 13.6513 10.2533 13.3244L12.4733 7.40449C12.7901 6.55968 13.5977 6 14.5 6C15.4023 6 16.2099 6.55968 16.5267 7.40449L18.7467 13.3244C18.8692 13.6513 18.6276 14 18.2785 14H17V17C17 17.5523 16.5523 18 16 18Z\" fill=\"#212121\"/>' +\n                      '<path d=\"M14.5 5C15.3284 5 16 4.32843 16 3.5C16 2.67157 15.3284 2 14.5 2C13.6716 2 13 2.67157 13 3.5C13 4.32843 13.6716 5 14.5 5Z\" fill=\"#212121\"/>';\n            break;\n        case 'Smoke Sensor':\n            typeSvg = '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.64491 2.08319C9.48444 1.9888 9.28482 1.99138 9.12685 2.08988C8.96887 2.18839 8.87871 2.3665 8.89285 2.55213C8.98169 3.71876 8.78795 4.5943 8.45363 5.30483C8.11607 6.02225 7.62209 6.60008 7.06387 7.157C6.88401 7.33644 6.69008 7.52013 6.49214 7.70763C6.10197 8.07721 5.69618 8.46158 5.35189 8.85718C4.81113 9.47853 4.35082 10.1982 4.15741 11.131C3.35478 15.0023 6.43952 18.1649 10.361 17.9822C10.41 17.9806 10.4592 17.9779 10.5088 17.9741L10.55 17.9708L10.5673 17.9695C10.6635 17.9622 10.7585 17.9532 10.8523 17.9427C10.897 17.9427 10.9422 17.9409 10.9878 17.9375C11.1369 17.9261 11.2735 17.9002 11.3976 17.8614C12.9028 17.5787 14.0571 16.8581 14.836 15.8302C15.7453 14.6303 16.1036 13.0646 15.9781 11.4151C15.7275 8.1215 13.5473 4.37866 9.64491 2.08319ZM12.1372 15.5326C12.1487 15.5269 12.1601 15.521 12.1714 15.5152C12.2227 15.2706 12.2393 15.0003 12.2172 14.7101C12.1353 13.6344 11.5243 12.3752 10.3912 11.4298C10.3443 11.6743 10.2711 11.8979 10.1767 12.1045C9.97248 12.5515 9.68116 12.8915 9.40451 13.1748C9.2918 13.2902 9.1897 13.3891 9.09461 13.4812C8.93666 13.6341 8.79804 13.7684 8.66241 13.9284C8.46694 14.1591 8.33595 14.3839 8.28119 14.6575C8.20904 15.018 8.23357 15.3634 8.33595 15.6725C8.69526 15.8186 9.08844 15.9185 9.50948 15.9633C9.62655 15.764 9.79981 15.6036 9.97777 15.4389C10.3505 15.0938 10.7439 14.7297 10.6844 13.949C11.3929 14.3558 11.8813 14.938 12.1372 15.5326ZM13.2143 14.6343L13.2159 14.6563L13.2421 14.6222C13.7907 13.8983 14.0816 12.8503 13.9839 11.5668C13.8301 9.5445 12.7138 7.15459 10.6097 5.25541C10.5143 5.57021 10.3981 5.86993 10.2634 6.15628C9.78098 7.18157 9.09869 7.9521 8.47652 8.57282C8.20885 8.83986 7.97694 9.05847 7.76612 9.25719C7.43058 9.57348 7.14846 9.83941 6.86065 10.1701C6.45742 10.6334 6.21678 11.0502 6.11585 11.537C5.83546 12.8894 6.29313 14.1616 7.23945 14.9971C7.24423 14.8222 7.26422 14.6432 7.30064 14.4613C7.39921 13.9687 7.63564 13.5933 7.89951 13.2819C8.06367 13.0882 8.26661 12.8908 8.44919 12.7131C8.53584 12.6288 8.61792 12.549 8.68907 12.4761C8.93347 12.2258 9.13295 11.9826 9.26713 11.689C9.39844 11.4016 9.47964 11.0379 9.44124 10.5337C9.42702 10.347 9.51835 10.168 9.67788 10.0698C9.83741 9.97174 10.0384 9.97101 10.1986 10.068C12.0451 11.1851 13.0906 13.0082 13.2143 14.6343Z\" fill=\"#212121\"/>';\n            break;\n        case 'Camera':\n            if(darkMode){\n                typeSvg = '<svg viewBox=\"0 0 20 20\" fill=\"white\" height=\"18px\" width=\"18px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/></svg>';\n            }else{\n                typeSvg = '<svg viewBox=\"0 0 20 20\" fill=\"black\" height=\"18px\" width=\"18px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/></svg>';\n            }\n            break;\n        case 'AA Energy':\n            if(darkMode){\n                typeSvg = '<path d=\"M13,9h6L8,22l3-10H5L10,2h7Z\" fill=\"white\"/>';\n            }else{\n                typeSvg = '<path d=\"M13,9h6L8,22l3-10H5L10,2h7Z\" fill=\"black\"/>';\n            }\n            break;\n        case 'Presenza':\n            if(darkMode){\n                typeSvg = '<svg id=\"Layer_1\" fill=\"white\" height=\"18px\" width=\"18px\" style=\"enable-background:new 0 0 128 128;\" version=\"1.1\" viewBox=\"0 0 128 128\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"M32.15,34.53c-7.17,0-13-5.83-13-13s5.83-13,13-13s13,5.83,13,13S39.32,34.53,32.15,34.53z M32.15,14.53    c-3.86,0-7,3.14-7,7s3.14,7,7,7s7-3.14,7-7S36.01,14.53,32.15,14.53z\"/></g><g><path d=\"M47.96,127c-3.93,0-7.37-2.52-8.57-6.26c-4.87-15.23-7.54-28.16-7.65-28.7c-0.52-2.55,0.08-5.2,1.66-7.27    c0.18-0.24,4.22-5.48,10.85-10.72c-1.49-3.33-3.71-7.94-6.35-12.46c-0.06,0.13-0.13,0.26-0.19,0.39l-2.9,6.17    c-1.48,3.14-4.67,5.17-8.15,5.17c-1.26,0-2.49-0.26-3.65-0.78l-16.66-7.4c-2.24-1-3.95-2.82-4.79-5.12    c-0.85-2.3-0.73-4.79,0.34-7.01c2.09-4.34,7.47-6.23,11.99-4.22l8.43,3.75c3.98-7.38,10.38-13.1,18.22-16.24    c7.49-3,15.87-3.37,23.6-1.05c8.09,2.49,15.23,7.65,20.11,14.54l5.3,7.48c1.39,1.97,1.93,4.35,1.52,6.72    c-0.41,2.37-1.72,4.44-3.68,5.82c-1.8,1.27-3.99,1.83-6.17,1.59c-1.65-0.18-2.84-1.66-2.66-3.31c0.18-1.65,1.67-2.83,3.31-2.66    c0.73,0.08,1.46-0.11,2.06-0.53c0.65-0.46,1.09-1.15,1.23-1.94s-0.04-1.58-0.51-2.24l-5.29-7.48C75.24,47.45,69.22,43.09,62.41,41    c-6.41-1.92-13.39-1.61-19.63,0.88c-7.03,2.81-12.68,8.14-15.91,14.99l-0.41,0.86c-0.7,1.48-2.44,2.12-3.93,1.46l-11.06-4.92    c-1.59-0.71-3.46-0.11-4.15,1.34c-0.36,0.74-0.4,1.57-0.11,2.34c0.28,0.77,0.85,1.38,1.6,1.71l16.66,7.4    c1.46,0.65,3.26-0.04,3.93-1.46l2.9-6.17c0.89-1.89,2.05-3.68,3.44-5.31c0.61-0.72,1.53-1.1,2.47-1.05    c0.94,0.06,1.8,0.56,2.32,1.35c4.4,6.69,7.97,14.25,10.19,19.41c0.55,1.29,0.14,2.78-0.99,3.61    c-7.08,5.17-11.37,10.75-11.55,10.98c-0.53,0.69-0.73,1.57-0.55,2.42c0.11,0.53,2.71,13.15,7.49,28.08    c0.4,1.25,1.55,2.09,2.86,2.09c0.43,0,0.86-0.1,1.27-0.28c1.34-0.62,2-2.32,1.51-3.88c-3.29-10.34-5.55-19.67-6.61-24.31    c-0.22-0.96,0.05-1.96,0.71-2.69c2.55-2.78,6.71-6.77,12.06-9.99c1.42-0.85,3.26-0.39,4.12,1.03C61.88,82.3,61.42,84.14,60,85    c-4.17,2.5-7.57,5.62-9.65,7.76c1.14,4.9,3.22,13.18,6.12,22.26c1.42,4.47-0.61,9.27-4.72,11.15C50.53,126.72,49.26,127,47.96,127    z\"/></g><g><path d=\"M84.98,127c-2.35,0-4.71-0.92-6.47-2.74c-2.49-2.58-15.11-15.91-18.63-25.37c-0.45-1.21-0.83-2.74-1.15-4.68    c-0.27-1.63,0.83-3.18,2.46-3.46c1.63-0.27,3.18,0.83,3.46,2.46c0.32,1.92,0.65,3.01,0.86,3.59c2.57,6.92,12.09,17.89,17.31,23.29    c1.15,1.19,3.05,1.22,4.24,0.07c1.19-1.15,1.22-3.05,0.07-4.24c-3.67-3.8-13.7-15.01-16-21.21c-1.05-2.81-1.58-12.21-1.66-17.48    c0-0.18-0.02-0.36-0.06-0.54c-0.1-0.52-2.6-12.8-9.08-24.69c-0.79-1.45-0.26-3.28,1.2-4.07c1.45-0.79,3.28-0.26,4.07,1.2    c6.91,12.69,9.58,25.84,9.69,26.4c0.1,0.53,0.16,1.07,0.17,1.61c0.12,6.97,0.8,14.18,1.29,15.49c1.46,3.94,8.77,13,14.69,19.13    c3.45,3.57,3.35,9.27-0.21,12.72C89.5,126.16,87.24,127,84.98,127z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M88,23h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S89.66,23,88,23z\"/></g><g><path d=\"M124,23h-21c-1.66,0-3-1.34-3-3s1.34-3,3-3h21c1.66,0,3,1.34,3,3S125.66,23,124,23z\"/></g></g></svg>';\n            }else{\n                typeSvg = '<svg id=\"Layer_1\" fill=\"black\" height=\"18px\" width=\"18px\" style=\"enable-background:new 0 0 128 128;\" version=\"1.1\" viewBox=\"0 0 128 128\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"M32.15,34.53c-7.17,0-13-5.83-13-13s5.83-13,13-13s13,5.83,13,13S39.32,34.53,32.15,34.53z M32.15,14.53    c-3.86,0-7,3.14-7,7s3.14,7,7,7s7-3.14,7-7S36.01,14.53,32.15,14.53z\"/></g><g><path d=\"M47.96,127c-3.93,0-7.37-2.52-8.57-6.26c-4.87-15.23-7.54-28.16-7.65-28.7c-0.52-2.55,0.08-5.2,1.66-7.27    c0.18-0.24,4.22-5.48,10.85-10.72c-1.49-3.33-3.71-7.94-6.35-12.46c-0.06,0.13-0.13,0.26-0.19,0.39l-2.9,6.17    c-1.48,3.14-4.67,5.17-8.15,5.17c-1.26,0-2.49-0.26-3.65-0.78l-16.66-7.4c-2.24-1-3.95-2.82-4.79-5.12    c-0.85-2.3-0.73-4.79,0.34-7.01c2.09-4.34,7.47-6.23,11.99-4.22l8.43,3.75c3.98-7.38,10.38-13.1,18.22-16.24    c7.49-3,15.87-3.37,23.6-1.05c8.09,2.49,15.23,7.65,20.11,14.54l5.3,7.48c1.39,1.97,1.93,4.35,1.52,6.72    c-0.41,2.37-1.72,4.44-3.68,5.82c-1.8,1.27-3.99,1.83-6.17,1.59c-1.65-0.18-2.84-1.66-2.66-3.31c0.18-1.65,1.67-2.83,3.31-2.66    c0.73,0.08,1.46-0.11,2.06-0.53c0.65-0.46,1.09-1.15,1.23-1.94s-0.04-1.58-0.51-2.24l-5.29-7.48C75.24,47.45,69.22,43.09,62.41,41    c-6.41-1.92-13.39-1.61-19.63,0.88c-7.03,2.81-12.68,8.14-15.91,14.99l-0.41,0.86c-0.7,1.48-2.44,2.12-3.93,1.46l-11.06-4.92    c-1.59-0.71-3.46-0.11-4.15,1.34c-0.36,0.74-0.4,1.57-0.11,2.34c0.28,0.77,0.85,1.38,1.6,1.71l16.66,7.4    c1.46,0.65,3.26-0.04,3.93-1.46l2.9-6.17c0.89-1.89,2.05-3.68,3.44-5.31c0.61-0.72,1.53-1.1,2.47-1.05    c0.94,0.06,1.8,0.56,2.32,1.35c4.4,6.69,7.97,14.25,10.19,19.41c0.55,1.29,0.14,2.78-0.99,3.61    c-7.08,5.17-11.37,10.75-11.55,10.98c-0.53,0.69-0.73,1.57-0.55,2.42c0.11,0.53,2.71,13.15,7.49,28.08    c0.4,1.25,1.55,2.09,2.86,2.09c0.43,0,0.86-0.1,1.27-0.28c1.34-0.62,2-2.32,1.51-3.88c-3.29-10.34-5.55-19.67-6.61-24.31    c-0.22-0.96,0.05-1.96,0.71-2.69c2.55-2.78,6.71-6.77,12.06-9.99c1.42-0.85,3.26-0.39,4.12,1.03C61.88,82.3,61.42,84.14,60,85    c-4.17,2.5-7.57,5.62-9.65,7.76c1.14,4.9,3.22,13.18,6.12,22.26c1.42,4.47-0.61,9.27-4.72,11.15C50.53,126.72,49.26,127,47.96,127    z\"/></g><g><path d=\"M84.98,127c-2.35,0-4.71-0.92-6.47-2.74c-2.49-2.58-15.11-15.91-18.63-25.37c-0.45-1.21-0.83-2.74-1.15-4.68    c-0.27-1.63,0.83-3.18,2.46-3.46c1.63-0.27,3.18,0.83,3.46,2.46c0.32,1.92,0.65,3.01,0.86,3.59c2.57,6.92,12.09,17.89,17.31,23.29    c1.15,1.19,3.05,1.22,4.24,0.07c1.19-1.15,1.22-3.05,0.07-4.24c-3.67-3.8-13.7-15.01-16-21.21c-1.05-2.81-1.58-12.21-1.66-17.48    c0-0.18-0.02-0.36-0.06-0.54c-0.1-0.52-2.6-12.8-9.08-24.69c-0.79-1.45-0.26-3.28,1.2-4.07c1.45-0.79,3.28-0.26,4.07,1.2    c6.91,12.69,9.58,25.84,9.69,26.4c0.1,0.53,0.16,1.07,0.17,1.61c0.12,6.97,0.8,14.18,1.29,15.49c1.46,3.94,8.77,13,14.69,19.13    c3.45,3.57,3.35,9.27-0.21,12.72C89.5,126.16,87.24,127,84.98,127z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M118,43h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S119.66,43,118,43z\"/></g><g><path d=\"M88,23h-5c-1.66,0-3-1.34-3-3s1.34-3,3-3h5c1.66,0,3,1.34,3,3S89.66,23,88,23z\"/></g><g><path d=\"M124,23h-21c-1.66,0-3-1.34-3-3s1.34-3,3-3h21c1.66,0,3,1.34,3,3S125.66,23,124,23z\"/></g></g></svg>';\n            }\n            break;\n        case 'Acqua':\n            if(darkMode){\n                typeSvg = '<svg viewBox=\"0 0 24 24\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g data-name=\"Layer 2\" id=\"Layer_2\"><path d=\"M12.65,2.24,12,1.68l-.65.56C11,2.5,4,8.6,4,14a8,8,0,0,0,16,0C20,8.6,13,2.5,12.65,2.24Zm1.58,16.23-.89-1.79A3,3,0,0,0,15,14h2A5,5,0,0,1,14.23,18.47Z\"/></g></svg>';\n            }else{\n                typeSvg = '<svg viewBox=\"0 0 24 24\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g data-name=\"Layer 2\" id=\"Layer_2\"><path d=\"M12.65,2.24,12,1.68l-.65.56C11,2.5,4,8.6,4,14a8,8,0,0,0,16,0C20,8.6,13,2.5,12.65,2.24Zm1.58,16.23-.89-1.79A3,3,0,0,0,15,14h2A5,5,0,0,1,14.23,18.47Z\"/></g></svg>';\n            }\n            break;\n        default:\n            typeSvg = '<circle cx=\"10\" cy=\"10\" r=\"10\" fill=\"#AAAAAA\"/>';\n    }\n    \n    return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' + \n           typeSvg +\n           '</svg>';\n} \n\n\nfunction getStateHtml(state) {\n    var stateSvg = getStateSvg(state);\n    var encodedStateSvg = encodeURIComponent(stateSvg);\n    var stateSvgUrl = 'data:image/svg+xml,' + encodedStateSvg;\n    var stateLabel = getStateLabel(state);\n    return '<span>'+\n           '<img style=\"vertical-align: middle;\" class=\"mat-icon\" src=\"'+ stateSvgUrl +'\">' +\n           '<span style=\"vertical-align: middle; padding-left: 8px;\">'+ stateLabel +'</span>' +\n    '</span>';\n}\n\nfunction getBatteryLevelHtml(batteryLevel) {\n    var batteryLevelNumber = Number(batteryLevel);\n    var batteryLevelSvg = getBatteryLevelSvg(batteryLevelNumber);\n    var encodedBatteryLevelSvg = encodeURIComponent(batteryLevelSvg);\n    var batteryLevelSvgUrl = 'data:image/svg+xml,' + encodedBatteryLevelSvg;\n    return '<div>' +\n              '<img class=\"mat-icon\" src=\"'+ batteryLevelSvgUrl +'\">' +\n              '<span style=\"padding-left: 8px; padding-right: 8px;\">' + batteryLevelNumber.toFixed(0) + '%</span>' +\n              '<button id=\"battery-level\" matTooltip=\"Battery Level History\" type=\"button\" mat-flat-button color=\"primary\"><mat-icon>bar_chart</mat-icon></button>' +\n            '</div>';\n}\n\nfunction getStateSvg(state) {\n    switch (state) {\n        case 'critical':\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#E64A19\"/>' +\n                   '</svg>';\n        case 'major':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#D5C21B\"/>' +\n                   '</svg>';\n        case 'true':\n        case 'normal':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#1F8B4D\"/>' +\n                   '</svg>';\n        case 'false':\n        case 'disconnected':\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<g clip-path=\"url(#clip0_2839_52564)\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#CAC1D2\"/>' +\n                   '<path d=\"M1.92896 16.728L16.0711 2.58589L17.4853 4.00011L3.34317 18.1422L1.92896 16.728Z\" fill=\"#CAC1D2\"/>' +\n                   '<path d=\"M2.10692 16.3171C1.81393 16.0241 1.81393 15.5491 2.10692 15.2561L15.1852 2.17788C15.4781 1.88489 15.9532 1.88489 16.2462 2.17788C16.5392 2.47088 16.5392 2.94591 16.2462 3.2389L3.16794 16.3171C2.87495 16.6101 2.39991 16.6101 2.10692 16.3171Z\" fill=\"white\"/>' +\n                   '</g>' +\n                   '<defs>' +\n                   '<clipPath id=\"clip0_2839_52564\">' +\n                   '<rect width=\"20\" height=\"20\" fill=\"white\"/>' +\n                   '</clipPath>' +\n                   '</defs>' +\n                   '</svg>';\n        default:\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#AAAAAA\"/>' +\n                   '</svg>';\n    }\n}\n\nfunction getBatteryLevelSvg(batteryLevel) {\n    var battryLevelSvg;\n    if (batteryLevel <= 5) {\n        battryLevelSvg = '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3H5C4.44772 3 4 3.44772 4 4V17C4 17.5523 4.44772 18 5 18H15C15.5523 18 16 17.5523 16 17V4C16 3.44772 15.5523 3 15 3H13V2C13 1.44772 12.5523 1 12 1H8C7.44772 1 7 1.44772 7 2V3ZM8 4H5V17H15V4H12V2H8V4Z\" fill=\"#E64A19\"/>';\n    } else if (batteryLevel <= 35) {\n        battryLevelSvg = '<path d=\"M14 14H6V16H14V14Z\" fill=\"#E64A19\"/>' +\n                         '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5 3H7V2C7 1.44772 7.44772 1 8 1H12C12.5523 1 13 1.44772 13 2V3H15C15.5523 3 16 3.44772 16 4V17C16 17.5523 15.5523 18 15 18H5C4.44772 18 4 17.5523 4 17V4C4 3.44772 4.44772 3 5 3ZM5 4H8V2H12V4H15V17H5V4Z\" fill=\"#E64A19\"/>';\n    } else if (batteryLevel <= 65) {\n        battryLevelSvg = '<path d=\"M6 14H14V16H6V14Z\" fill=\"#D5C21B\"/>' +\n                         '<path d=\"M14 11H6V13H14V11Z\" fill=\"#D5C21B\"/>' +\n                         '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3H5C4.44772 3 4 3.44772 4 4V17C4 17.5523 4.44772 18 5 18H15C15.5523 18 16 17.5523 16 17V4C16 3.44772 15.5523 3 15 3H13V2C13 1.44772 12.5523 1 12 1H8C7.44772 1 7 1.44772 7 2V3ZM8 4H5V17H15V4H12V2H8V4Z\" fill=\"#D5C21B\"/>';\n    } else if (batteryLevel <= 95) {\n        battryLevelSvg = '<path d=\"M14 14H6V16H14V14Z\" fill=\"#1F8B4D\"/>' +\n                         '<path d=\"M6 11H14V13H6V11Z\" fill=\"#1F8B4D\"/>' +\n                         '<path d=\"M14 8H6V10H14V8Z\" fill=\"#1F8B4D\"/>' +\n                         '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5 3H7V2C7 1.44772 7.44772 1 8 1H12C12.5523 1 13 1.44772 13 2V3H15C15.5523 3 16 3.44772 16 4V17C16 17.5523 15.5523 18 15 18H5C4.44772 18 4 17.5523 4 17V4C4 3.44772 4.44772 3 5 3ZM5 4H8V2H12V4H15V17H5V4Z\" fill=\"#1F8B4D\"/>';\n    } else {\n        battryLevelSvg = '<path d=\"M6 14H14V16H6V14Z\" fill=\"#1F8B4D\"/>' +\n                         '<path d=\"M14 11H6V13H14V11Z\" fill=\"#1F8B4D\"/>' +\n                         '<path d=\"M6 8H14V10H6V8Z\" fill=\"#1F8B4D\"/>' +\n                         '<path d=\"M14 5H6V7H14V5Z\" fill=\"#1F8B4D\"/>' +\n                         '<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3H5C4.44772 3 4 3.44772 4 4V17C4 17.5523 4.44772 18 5 18H15C15.5523 18 16 17.5523 16 17V4C16 3.44772 15.5523 3 15 3H13V2C13 1.44772 12.5523 1 12 1H8C7.44772 1 7 1.44772 7 2V3ZM8 4H5V17H15V4H12V2H8V4Z\" fill=\"#1F8B4D\"/>';\n    }\n    return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n              battryLevelSvg +\n            '</svg>';\n}\n\nfunction getStateLabel(state) {\n    switch(state) {\n        case 'critical':\n            return 'Critico';\n        case 'major':\n            return 'Alto';\n        case 'normal':\n            return 'Normale';\n        case 'true':\n            return 'Attivo';\n        case 'false':\n        case 'disconnected':\n            return 'Disconnesso';\n        default:\n            return state;\n    }\n}\n\nfunction showBatteryLevel(deviceType) {\n    switch(deviceType) {\n        case 'Smart Shelf':\n            return false;\n        case 'Door Sensor':\n            return true;\n        case 'Smoke Sensor':\n            return true;\n        case 'Chiller':\n            return false;\n        case 'Freezer':\n            return false;\n        case 'Liquid Level Sensor':\n            return true;\n        case 'Smart Bin':\n            return true;\n        case 'Motion Sensor':\n            return true;\n        case 'Occupancy Sensor':\n            return true;\n        default:\n            return false;\n    }\n}   \n",
              "applyDefaultMarkdownStyle" : true,
              "markdownCss" : ".main-layout .header {\n    height: 60px;\n} \n\n.main-layout .header .mat-icon.title-icon {\n    width: 40px;\n    height: 40px;\n}\n\n.main-layout .header .title {\n    font-size: 28px;\n    font-weight: 500;\n    color: #28232D;\n}\n\n.main-layout .header .subtitle {\n    font-size: 20px;\n    font-weight: bold;\n    color: #757575;\n}\n\n.tb-markdown-view .params {\n    background-color: #FAFAFA;\n    border-radius: 4px;\n    padding: 16px;\n    margin-bottom: 20px;\n}\n\n.tb-markdown-view .param-title {\n    font-size: 12px;\n    font-weight: normal;\n    color: #757575;\n}\n\n.tb-markdown-view .param {\n    font-size: 12px;\n    font-weight: 500;\n    color: #212121;\n    line-height: 24px;\n    height: 24px;\n}\n\n.tb-markdown-view .param #battery-level {\n    width: 24px;\n    height: 24px;\n    line-height: 24px;\n    padding: 0 2px;\n    min-width: 28px;\n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "Indietro",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var params = widgetContext.stateController.getStateParams();\nparams['selectedDevice'] = null;\nwidgetContext.stateController.updateState(null, params);",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "37e5e007-da10-e64c-be1e-899094481e42"
              }, {
                "name" : "settings",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "const targetElement = $($event.target).closest('#settings', widgetContext.$container[0]);\n\nvar type = decodeURIComponent($(targetElement).attr('data-device-type'));\n\nvar stateId = getSettingsState(type);\n\nvar params = {\n    selectedDevice: {\n        entityId: entityId,\n        entityName: entityName,\n        entityLabel: entityLabel,\n    },\n    targetEntityParamName: 'selectedDevice'\n};\n\nwidgetContext.actionsApi.openDashboardStateInPopover($event, stateId, params, true, 'bottomRight', true, '400px', getSettingsHeight(type));\n\nfunction getSettingsState(type) {\n    switch (type) {\n        case 'Acqua':\n            return 'acqua_settings';\n        case 'AA Sensor':\n            return 'aa_sensor_settings';\n        case 'AA Energy':            \n            return 'energy_settings';\n        case 'Caldaia':            \n            return 'caldaia_settings';\n        case 'Chiller':            \n            return 'chiller_settings';                      \n        case 'Smart Bin':\n            return 'smart_bin_settings';          \n        case 'Door Sensor':\n            return 'door_settings';\n        case 'Liquid Level Sensor':\n            return 'liquid_sensor_settings';\n        case 'Motion Sensor':\n            return 'motion_sensor_settings';\n        case 'Occupancy Sensor':\n            return 'occupancy_sensor_settings';\n        case 'Smoke Sensor':\n            return 'smoke_sensor_settings';\n        default:\n            return 'unknown_settings';\n    }\n}\n\nfunction getSettingsHeight(type) {\n    switch (type) {\n        case 'Acqua':\n            return '280px';\n        case 'AA Sensor':\n            return '600px';\n        case 'AA Energy':            \n            return '600px';\n        case 'shelly3em':            \n            return '500px';\n        case 'Caldaia':            \n            return '200px';\n        case 'Smart Shelf':\n            return '280px';\n        case 'Freezer':            \n            return '420px';\n        case 'Chiller':            \n            return '420px';                  \n        case 'Smart Bin':\n            return '420px';                  \n        case 'Door Sensor':\n            return '420px';\n        case 'Liquid Level Sensor':\n            return '420px';\n        case 'Motion Sensor':\n            return '280px';\n        case 'Occupancy Sensor':\n            return '420px';\n        case 'Smoke Sensor':\n            return '280px';\n        default:\n            return '35vh';\n    }\n}\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "076da598-f2dc-6fda-6744-db268a4c6df7"
              }, {
                "name" : "battery-level",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "battery_level_details",
                "setEntityId" : true,
                "stateEntityParamName" : "selectedDevice",
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "bottomRight",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "500px",
                "popoverHeight" : "300px",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "44417062-4a4f-0479-0042-93952e15436a"
              }, {
                "name" : "maintenance",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "guasti_manutenzioni",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "dialogTitle" : "",
                "dialogHideDashboardToolbar" : true,
                "dialogWidth" : 80,
                "dialogHeight" : 90,
                "openInSeparateDialog" : true,
                "openInPopover" : false,
                "id" : "ff678bf7-26ed-5941-526b-8f4622a24050"
              } ]
            },
            "useDashboardTimewindow" : true,
            "margin" : "0px",
            "pageSize" : 1024,
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "e8e3d4be-2720-0677-2c04-ff9a5fdb2447",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "aa7ff32f-7ec6-0a0a-4f83-8903765633e1" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "type",
                "type" : "entityField",
                "label" : "Type",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.5157976480659352
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var type,entityType;\nif (data && data.length) {\n    type = data[0]['Type'];\n    entityType=data[0]['entityType'];\n} else {\n    type = 'N/A';\n    entityType = 'N/A';\n}\n\nvar detailsStateName = getDetailsStateName(type,entityType);\n\nreturn '<div style=\"width: 100%; height: 100%;\" fxLayout=\"column\">' + \n           '<tb-dashboard-state fxFlex [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"' + detailsStateName + '\"></tb-dashboard-state>' +\n       '</div>';\n\nfunction getDetailsStateName(deviceType,entityType) {\n    if(entityType==\"ASSET\"){\n        switch(deviceType) {\n            case 'AA Energy':\n                return 'energy_sensor_details';\n            case 'Presenza':\n                return 'presenza_details';\n            case 'Acqua':\n                return 'acqua_details';\n            default:\n                return 'unknown_details';\n        }\n    }else{\n        switch(deviceType) {\n        case 'Energy':\n            return 'energy_multiple_sensor_details';\n        case 'AA Sensor':\n            return 'aa_sensor_details';\n        case 'Acqua':\n            return 'acqua_details';\n        case 'AA Energy':\n            return 'energy_multiple_sensor_details';\n        case 'Camera':\n            return 'camera_sensor_details';\n        case 'Presenza':\n            return 'presenza_details';\n        default:\n            return 'unknown_details';\n        }\n    }\n}      ",
              "applyDefaultMarkdownStyle" : true
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "go-back",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var params = widgetContext.stateController.getStateParams();\nparams['selectedDevice'] = null;\nwidgetContext.stateController.updateState(null, params);",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "37e5e007-da10-e64c-be1e-899094481e42"
              }, {
                "name" : "settings",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "const targetElement = $($event.target).closest('#settings', widgetContext.$container[0]);\n\nvar type = decodeURIComponent($(targetElement).attr('data-device-type'));\n\nvar stateId = getSettingsState(type);\n\nvar params = {\n    selectedDevice: {\n        entityId: entityId,\n        entityName: entityName,\n        entityLabel: entityLabel,\n    },\n    targetEntityParamName: 'selectedDevice'\n};\n\nwidgetContext.actionsApi.openDashboardStateInPopover($event, stateId, params, true, 'bottomRight', true, '400px', getSettingsHeight(type));\n\nfunction getSettingsState(type) {\n    switch (type) {\n        case 'Smart Shelf':\n            return 'smart_shelf_settings';\n        case 'Freezer':            \n            return 'freezer_settings';\n        case 'Chiller':            \n            return 'chiller_settings';                      \n        case 'Smart Bin':\n            return 'smart_bin_settings';          \n        case 'Door Sensor':\n            return 'door_settings';\n        case 'Liquid Level Sensor':\n            return 'liquid_sensor_settings';\n        case 'Motion Sensor':\n            return 'motion_sensor_settings';\n        case 'Occupancy Sensor':\n            return 'occupancy_sensor_settings';\n        case 'Smoke Sensor':\n            return 'smoke_sensor_settings';\n        default:\n            return 'unknown_settings';\n    }\n}\n\nfunction getSettingsHeight(type) {\n    switch (type) {\n        case 'Smart Shelf':\n            return '280px';\n        case 'Freezer':            \n            return '420px';\n        case 'Chiller':            \n            return '420px';                  \n        case 'Smart Bin':\n            return '420px';                  \n        case 'Door Sensor':\n            return '420px';\n        case 'Liquid Level Sensor':\n            return '420px';\n        case 'Motion Sensor':\n            return '280px';\n        case 'Occupancy Sensor':\n            return '420px';\n        case 'Smoke Sensor':\n            return '280px';\n        default:\n            return '35vh';\n    }\n}\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "076da598-f2dc-6fda-6744-db268a4c6df7"
              }, {
                "name" : "battery-level",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "battery_level_details",
                "setEntityId" : true,
                "stateEntityParamName" : "selectedDevice",
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "bottomRight",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "25vw",
                "popoverHeight" : "25vh",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "44417062-4a4f-0479-0042-93952e15436a"
              } ]
            },
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "aa7ff32f-7ec6-0a0a-4f83-8903765633e1",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "8805b23e-efea-86a7-d754-9fdfe37acbaa" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "55f23be2-d63e-ce45-b3f5-d05604647f2a",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "criticalAlarmsCount",
                "type" : "timeseries",
                "label" : "criticalAlarmsCount",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.031424315886006804
              }, {
                "name" : "majorAlarmsCount",
                "type" : "timeseries",
                "label" : "majorAlarmsCount",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.323899218375304
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#ffffff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var criticalCount = data[0]['criticalAlarmsCount'];\nvar majorCount = data[0]['majorAlarmsCount'];\n\nvar criticalClass = criticalCount && Number(criticalCount) > 0 ? 'critical' : 'inactive';\n\nvar majorClass = majorCount && Number(majorCount) > 0 ? 'major' : 'inactive';\n\nreturn '<div style=\"width: 100%; height: 100%; padding: 0;\" fxLayoutGap=\"16px\" fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutAlign.gt-md=\"center center\">'+\n       '<div id=\"all-alarms\" class=\"alarm-badge '+ criticalClass +'\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i><span class=\"alarm-count\">'+ criticalCount +'</span> Critical</div>' +\n       '<div id=\"all-alarms\" class=\"alarm-badge '+ majorClass +'\"><i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i><span class=\"alarm-count\">'+ majorCount +'</span> Major</div>' +\n       '<div>';",
              "applyDefaultMarkdownStyle" : true,
              "markdownCss" : ".alarm-badge {\n    cursor: pointer;\n    border-radius: 22px;\n    padding: 8px 20px;\n    color: #fff;\n    font-size: 18px;\n    transition: background-color 0.5s;\n}\n\n.alarm-badge.critical {\n    background-color: #E64A19;\n}\n\n.alarm-badge.major {\n    background-color: #D4C21B;\n}\n\n.alarm-badge.critical:hover {\n    background-color: #a13d1e;\n}\n\n.alarm-badge.major:hover {\n    background-color: #b7a715;\n}\n\n.alarm-badge.inactive {\n    pointer-events: none;\n    color: #CAC1D2;\n    background-color: rgba(202, 193, 210, 0.05);\n    border: 1px solid rgba(202, 193, 210, 0.15);\n}\n\n.alarm-badge i.fa {\n    padding-right: 8px;\n}\n\n.alarm-badge .alarm-count {\n    font-weight: 700;    \n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "all-alarms",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "alarm_page",
                "setEntityId" : false,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "2255454c-8c83-dfae-2e0b-8d0df6db6a70"
              } ]
            },
            "pageSize" : 1024,
            "useDashboardTimewindow" : true,
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "8805b23e-efea-86a7-d754-9fdfe37acbaa",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "b8f0acc2-6e90-13a7-c7bb-6f67fddc27ea" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "7b659beb-1601-5b67-528e-0846d1a0efa6",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "displayNormalSupermarket",
                "type" : "attribute",
                "label" : "Normal",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'normal';",
                  "setValueFunctionBody" : "return value ? 'normal' : 'unset';",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iNiIgZmlsbD0iIzFGOEI0RCIvPgo8L3N2Zz4K"
                },
                "_hash" : 0.39082762251115444,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayMajorSupermarket",
                "type" : "attribute",
                "label" : "Major",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'major';",
                  "setValueFunctionBody" : "return value ? 'major' : 'unset';",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iNiIgZmlsbD0iI0Q1QzIxQiIvPgo8L3N2Zz4K"
                },
                "_hash" : 0.34454051580229117,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "displayCriticalSupermarket",
                "type" : "attribute",
                "label" : "Critical",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "slideToggleLabelPosition" : "before",
                  "selectOptions" : [ ],
                  "step" : 1,
                  "required" : false,
                  "requiredErrorMessage" : "",
                  "minValueErrorMessage" : "",
                  "maxValueErrorMessage" : "",
                  "invalidDateErrorMessage" : "",
                  "isEditable" : "editable",
                  "dataKeyHidden" : false,
                  "useCustomIcon" : true,
                  "useGetValueFunction" : true,
                  "useSetValueFunction" : true,
                  "getValueFunctionBody" : "return !value || value === 'critical';",
                  "setValueFunctionBody" : "return value ? 'critical' : 'unset';",
                  "customIcon" : "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTAiIGN5PSIxMCIgcj0iNiIgZmlsbD0iI0U2NEExOSIvPgo8L3N2Zz4K"
                },
                "_hash" : 0.5184545311042434,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#ffffff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showActionButtons" : false,
              "showResultMessage" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "row",
              "updateAllValues" : false,
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 3
            },
            "title" : "State Filter",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : {
              "fontWeight" : "bold",
              "fontSize" : "14px"
            },
            "titleStyle" : {
              "fontSize" : "20px",
              "fontWeight" : "bold",
              "paddingBottom" : "30px"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "noDataDisplayMessage" : "",
            "widgetCss" : "",
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "b8f0acc2-6e90-13a7-c7bb-6f67fddc27ea",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "3480ed9c-c50d-2f23-b1a2-6ec752f4e7ea" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "55f23be2-d63e-ce45-b3f5-d05604647f2a",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "Name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.7206638188424095
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div class=\"market-layout\" style=\"width: 100%; height: 100%; padding: 0;\" fxLayout=\"column\">\n    <div class=\"alarm-badges-layout\">\n        <tb-dashboard-state class=\"alarm-badges\" [ctx]=\"ctx\" stateId=\"all_alarm_badges\"></tb-dashboard-state>\n    </div>\n    <div fxLayout=\"column\" style=\"width: 100%; height: 60px;\">\n        <h5 class=\"market-title\">Campeggio</h5>\n        <mat-divider style=\"margin-top: 5px; margin-bottom: 18px;\"></mat-divider>\n    </div>\n    <div fxFlex fxLayout=\"column\" style=\"position: relative;\">\n        <tb-dashboard-state fxFlex [ctx]=\"ctx\" stateId=\"mappa\"></tb-dashboard-state>\n    </div>\n</div>",
              "applyDefaultMarkdownStyle" : true,
              "markdownCss" : ".tb-markdown-view .tb-progress-cover, .tb-markdown-view .mat-drawer-container {\n    background-color: #fff;\n}\n\n.tb-markdown-view div, .tb-markdown-view p {\n    line-height: normal;\n}\n\n.tb-markdown-view > div {\n    padding: 0;\n}\n\n.market-layout {\n    position: relative;\n}\n\n.market-title {\n    font-size: 26px;\n    padding-bottom: 16px;\n    padding-left: 10px;\n    padding-top: 5px;\n}\n\n.state-filter-title {\n    padding-bottom: 15px;\n    padding-left: 10px;\n}\n\n.market-layout .alarm-badges-layout {\n    position: absolute;\n    height: 50px;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    display: flex;\n    justify-content: center;\n    pointer-events: none;\n}\n\n.market-layout .alarm-badges-layout .alarm-badges {\n    height: 50px;\n    width: 420px;\n    pointer-events: all;\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : ".tb-widget-container .tb-widget .tb-multiple-input {\n    background-color: #FAFAFA;\n    border-radius: 4px;\n}\n\n.tb-widget-container .tb-widget .tb-multiple-input .input-field {\n    padding-right: 30px;\n}\n\n.tb-widget-container .tb-widget .tb-multiple-input mat-slide-toggle {\n    margin-top: 15px !important;\n    margin-bottom: 0 !important;\n}\n\n.tb-widget-container .tb-widget .tb-multiple-input .mat-slide-toggle-content {\n    width: 120px;\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle-bar {\n    width: 42px;\n    height: 24px;\n    border-radius: 16px;\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle-thumb-container {\n    top: 2px;\n    left: 2px;\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container {\n    transform: translate3d(18px, 0, 0);\n}\n\n\n.tb-widget-container .tb-widget .mat-slide-toggle-thumb {\n    background-color: #fafafa;\n}\n\n.tb-widget-container .tb-widget .mat-slide-toggle.mat-checked .mat-slide-toggle-bar {\n    background-color: #F2994A;\n}\n",
            "noDataDisplayMessage" : "",
            "pageSize" : 1024,
            "useDashboardTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "3480ed9c-c50d-2f23-b1a2-6ec752f4e7ea",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "6e0676c2-49cd-846e-9c94-80c6b2c0218c" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "entitiesTitle" : "Bungalow",
              "enableSearch" : true,
              "enableSelectColumnDisplay" : true,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "showCellActionsMenu" : true,
              "reserveSpaceForHiddenAction" : "true",
              "displayEntityName" : false,
              "displayEntityLabel" : false,
              "displayEntityType" : false,
              "displayPagination" : false,
              "defaultSortOrder" : "name",
              "useRowStyleFunction" : false
            },
            "title" : "Bungalow",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "24px",
              "fontWeight" : 700,
              "padding" : "5px 10px 5px 10px",
              "height" : "60px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "783dd5f0-d34d-946d-a82f-95d3a6eaadd1",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Nome",
                "color" : "#2196f3",
                "settings" : {
                  "columnWidth" : "20%",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.46096251592014714,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "aggregationType" : null
              }, {
                "name" : "stato",
                "type" : "attribute",
                "label" : "Stato",
                "color" : "#ffc107",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var state = value;\nvar active = entity.active;\nif (active === 'false') {\n    state = 'disconnected';\n}\n\nvar stateSvg = getStateSvg(state);\nvar encodedStateSvg = encodeURIComponent(stateSvg);\nvar stateSvgUrl = 'data:image/svg+xml,' + encodedStateSvg;\nvar stateLabel = getStateLabel(state);\n\nreturn '<span>'+\n           '<img style=\"vertical-align: middle;\" class=\"mat-icon\" src=\"'+ stateSvgUrl +'\">' +\n           '<span style=\"vertical-align: middle; padding-left: 8px;\">'+ stateLabel +'</span>' +\n       '</span>';\n            \nfunction getStateSvg(state) {\n    switch (state) {\n        case 'inagibile':\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#E64A19\"/>' +\n                   '</svg>';\n        case 'manutenzione':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#D5C21B\"/>' +\n                   '</svg>';\n        case 'normale':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#1F8B4D\"/>' +\n                   '</svg>';\n        default:\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#AAAAAA\"/>' +\n                   '</svg>';\n    }\n}\n\nfunction getStateLabel(state) {\n    switch(state) {\n        case 'manutenzione':\n            return 'Manutenzione';\n        case 'inagibile':\n            return 'Inagibile';\n        case 'normale':\n            return 'Normale';\n        default:\n            return state;\n    }\n}\n",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.006431299368144128,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "presenza",
                "type" : "timeseries",
                "label" : "Presenza",
                "color" : "#f44336",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var state = value;\n\nvar stateSvg = getStateSvg(state);\nvar encodedStateSvg = encodeURIComponent(stateSvg);\nvar stateSvgUrl = 'data:image/svg+xml,' + encodedStateSvg;\nvar stateLabel = getStateLabel(state);\n\nreturn '<span>'+\n           '<img style=\"vertical-align: middle;\" class=\"mat-icon\" src=\"'+ stateSvgUrl +'\">' +\n           '<span style=\"vertical-align: middle; padding-left: 8px;\">'+ stateLabel +'</span>' +\n       '</span>';\n            \nfunction getStateSvg(state) {\n    switch (state) {\n        case 'true':\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#E64A19\"/>' +\n                   '</svg>';\n        case 'false':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#1F8B4D\"/>' +\n                   '</svg>';\n        default:\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#AAAAAA\"/>' +\n                   '</svg>';\n    }\n}\n\nfunction getStateLabel(state) {\n    switch(state) {\n        case 'false':\n            return 'Libero';\n        case 'true':\n            return 'Occupato';\n        default:\n            return state;\n    }\n}\n",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.41555310541809387,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : false,
                "postFuncBody" : null
              }, {
                "name" : "note",
                "type" : "attribute",
                "label" : "Note",
                "color" : "#ffc107",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.5439377495268714,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "aggregationType" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "div.tb-widget .tb-widget-title {\n    max-height: 100px !important;\n}",
            "noDataDisplayMessage" : "",
            "actions" : {
              "rowClick" : [ {
                "name" : "Apri Dettagli",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "dettagli_bungalow",
                "setEntityId" : true,
                "stateEntityParamName" : "bungalow_selezionato",
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "27b78a0c-3e2d-8d90-72dd-10f9f80351b5"
              } ],
              "actionCellButton" : [ {
                "name" : "Impostazioni Bungalow",
                "icon" : "settings",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "bungalow_settings",
                "setEntityId" : true,
                "stateEntityParamName" : "bungalow_selezionato",
                "openRightLayout" : false,
                "dialogTitle" : "",
                "dialogHideDashboardToolbar" : true,
                "dialogWidth" : 40,
                "dialogHeight" : 90,
                "openInSeparateDialog" : true,
                "openInPopover" : false,
                "id" : "5f3f6154-68b7-a757-cb3e-bf09edc8bb65"
              }, {
                "name" : "Apri Dettagli",
                "icon" : "arrow_forward",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "dettagli_bungalow",
                "setEntityId" : true,
                "stateEntityParamName" : "bungalow_selezionato",
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "9e3b9891-b984-4475-345e-b738850e1fda"
              } ]
            },
            "titleIcon" : "devices_other",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "28px",
            "displayTimewindow" : true,
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "6e0676c2-49cd-846e-9c94-80c6b2c0218c",
          "typeFullFqn" : "system.cards.entities_table"
        },
        "e6cefd55-e905-d7ce-8f86-08635fbe2679" : {
          "type" : "alarm",
          "sizeX" : 10.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "alarmsTitle" : "Allarmi",
              "enableSelection" : true,
              "enableSearch" : true,
              "enableSelectColumnDisplay" : true,
              "enableFilter" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : false,
              "showCellActionsMenu" : true,
              "reserveSpaceForHiddenAction" : "true",
              "displayDetails" : false,
              "allowAcknowledgment" : true,
              "allowClear" : true,
              "allowAssign" : true,
              "displayActivity" : true,
              "displayPagination" : false,
              "defaultSortOrder" : "-startTime",
              "useRowStyleFunction" : false
            },
            "title" : "Alarms",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "24px",
              "fontWeight" : 700,
              "padding" : "5px 10px 5px 10px",
              "height" : "60px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "alarmSource" : {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "783dd5f0-d34d-946d-a82f-95d3a6eaadd1",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "startTime",
                "type" : "alarm",
                "label" : "Data e Ora",
                "color" : "#9c27b0",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : "",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.18228508234861218,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "originatorLabel",
                "type" : "alarm",
                "label" : "Nome",
                "color" : "#4caf50",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.2780007688856758,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "type",
                "type" : "alarm",
                "label" : "Tipo",
                "color" : "#f44336",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "if(value==\"Temperatura Alta\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13,15.28V5.5a1,1,0,0,0-2,0v9.78A2,2,0,0,0,10,17a2,2,0,0,0,4,0A2,2,0,0,0,13,15.28ZM16.5,13V5.5a4.5,4.5,0,0,0-9,0V13a6,6,0,0,0,3.21,9.83A7,7,0,0,0,12,23,6,6,0,0,0,16.5,13Zm-2,7.07a4,4,0,0,1-6.42-2.2,4,4,0,0,1,1.1-3.76,1,1,0,0,0,.3-.71V5.5a2.5,2.5,0,0,1,5,0v7.94a1,1,0,0,0,.3.71,4,4,0,0,1-.28,6Z\" fill=\"#6563ff\"/></svg>';\n}else if(value==\"Umidità Bassa\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" data-name=\"Layer 1\" id=\"Layer_1\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\"><defs><style>.cls-1{fill:#0baeff;}</style></defs><title/><path class=\"cls-1\" d=\"M49,38a17.5,17.5,0,0,1-35,0C14,22.7,28.22,8.48,31.5,8.48S49,22.7,49,38Z\"/></svg>';\n}else if(value==\"Picco sonoro alto\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.43,4.1a1,1,0,0,0-1,.12L6.65,8H3A1,1,0,0,0,2,9v6a1,1,0,0,0,1,1H6.65l4.73,3.78A1,1,0,0,0,12,20a.91.91,0,0,0,.43-.1A1,1,0,0,0,13,19V5A1,1,0,0,0,12.43,4.1ZM11,16.92l-3.38-2.7A1,1,0,0,0,7,14H4V10H7a1,1,0,0,0,.62-.22L11,7.08ZM19.66,6.34a1,1,0,0,0-1.42,1.42,6,6,0,0,1-.38,8.84,1,1,0,0,0,.64,1.76,1,1,0,0,0,.64-.23,8,8,0,0,0,.52-11.79ZM16.83,9.17a1,1,0,1,0-1.42,1.42A2,2,0,0,1,16,12a2,2,0,0,1-.71,1.53,1,1,0,0,0-.13,1.41,1,1,0,0,0,1.41.12A4,4,0,0,0,18,12,4.06,4.06,0,0,0,16.83,9.17Z\" fill=\"#6563ff\"/></svg>';\n}else if(value==\"Luminosità Bassa\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" data-name=\"Layer 1\" id=\"Layer_1\" viewBox=\"0 0 500 500\" xmlns=\"http://www.w3.org/2000/svg\"><defs><style>.cls-1{fill:#ffc43d;}.cls-2{fill:#faae17;}.cls-3{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:20px;}.cls-4{fill:#727373;}.cls-5{fill:#606161;}</style></defs><title/><path class=\"cls-1\" d=\"M370.44,222.29a120.44,120.44,0,1,0-229.76,50.59l58.4,127.88H300.92l58.4-127.88A120,120,0,0,0,370.44,222.29Z\"/><path class=\"cls-2\" d=\"M250,101.85a120.44,120.44,0,0,0-16.1,1.2,120.37,120.37,0,0,1,93.22,169.83l-58.4,127.88h32.2l58.4-127.88A120.48,120.48,0,0,0,250,101.85Z\"/><line class=\"cls-3\" x1=\"250\" x2=\"250\" y1=\"10.88\" y2=\"50.42\"/><line class=\"cls-3\" x1=\"398.45\" x2=\"370.72\" y1=\"73.67\" y2=\"101.85\"/><line class=\"cls-3\" x1=\"456.14\" x2=\"416.61\" y1=\"223.18\" y2=\"223.18\"/><line class=\"cls-3\" x1=\"101.55\" x2=\"129.28\" y1=\"73.67\" y2=\"101.85\"/><line class=\"cls-3\" x1=\"43.86\" x2=\"83.39\" y1=\"223.18\" y2=\"223.18\"/><path class=\"cls-3\" d=\"M370.44,222.29a120.44,120.44,0,1,0-229.76,50.59l58.4,127.88H300.92l58.4-127.88A120,120,0,0,0,370.44,222.29Z\"/><path class=\"cls-4\" d=\"M199,400.76H301a0,0,0,0,1,0,0v37.39a51,51,0,0,1-51,51h0a51,51,0,0,1-51-51V400.76A0,0,0,0,1,199,400.76Z\"/><path class=\"cls-5\" d=\"M268.77,400.76v37.39a51,51,0,0,1-34.87,48.33,50.78,50.78,0,0,0,16.1,2.64h0a51,51,0,0,0,51-51V400.76Z\"/><path class=\"cls-3\" d=\"M199,400.76H301a0,0,0,0,1,0,0v37.39a51,51,0,0,1-51,51h0a51,51,0,0,1-51-51V400.76A0,0,0,0,1,199,400.76Z\"/><line class=\"cls-3\" x1=\"186.39\" x2=\"313.61\" y1=\"436.13\" y2=\"436.13\"/><line class=\"cls-3\" x1=\"186.39\" x2=\"313.61\" y1=\"400.76\" y2=\"400.76\"/></svg>';\n}else if(value==\"Co2 Alta\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"CO2\"><path d=\"M163.2432,364.1158h72.8312A19.9256,19.9256,0,0,1,256,384.0414v2.2715a19.9255,19.9255,0,0,1-19.9255,19.9255H163.2432a19.9256,19.9256,0,0,1-19.9256-19.9256v-2.2715A19.9255,19.9255,0,0,1,163.2432,364.1158Z\"/><path d=\"M264.002,168.1473a18.4748,18.4748,0,0,0-18.4537,18.4541v20.6025a18.4539,18.4539,0,1,0,36.9078,0V186.6014A18.4748,18.4748,0,0,0,264.002,168.1473Z\"/><path d=\"M408.5258,255.4978a3.7841,3.7841,0,0,1-3.1125-5.9224,91.9393,91.9393,0,0,0,15.6361-51.4343v0A92.3794,92.3794,0,0,0,328.67,105.7614H160.8309a92.38,92.38,0,0,0-92.3794,92.38v0a92.38,92.38,0,0,0,92.38,92.38h66.4562a7.8377,7.8377,0,0,1,7.6919,6.4319l.0307.1617a7.7976,7.7976,0,0,1-7.6932,9.2146H216.3707a23.3266,23.3266,0,1,0,0,46.6531h56.76a23.3265,23.3265,0,0,0,23.3265-23.3266v0l0-.1319a3.987,3.987,0,0,1,3.9762-3.98H408.5256a35.0229,35.0229,0,0,0,35.0229-35.0228v0A35.0226,35.0226,0,0,0,408.5258,255.4978ZM210.4492,232.7889a35.8464,35.8464,0,0,1-27.5478,12.8691h-5.0689a35.9605,35.9605,0,0,1-35.92-35.92V184.0662a35.96,35.96,0,0,1,35.92-35.9189h5.0689a35.6786,35.6786,0,0,1,25.3994,10.5215,10,10,0,1,1-14.1436,14.1406,15.81,15.81,0,0,0-11.2558-4.6621h-5.0689a15.9377,15.9377,0,0,0-15.92,15.9189v25.6719a15.9379,15.9379,0,0,0,15.92,15.92h5.0689a15.8953,15.8953,0,0,0,12.2138-5.709,10,10,0,0,1,15.334,12.84Zm92.0069-25.585a38.4539,38.4539,0,1,1-76.9078,0V186.6014a38.4539,38.4539,0,1,1,76.9078,0Zm56.6308,55.585a10,10,0,0,1,0,20H326.1875a10,10,0,0,1-7.7461-16.3242l28.3-34.6592q.1949-.2388.4043-.4658a7.3,7.3,0,0,0-5.3584-12.2578h-2.0586a7.3086,7.3086,0,0,0-7.3008,7.3v2.2031a10,10,0,1,1-20,0v-2.2031a27.3315,27.3315,0,0,1,27.3008-27.3h2.0586A27.3006,27.3006,0,0,1,362.06,244.6668l-14.7969,18.1221Z\"/></g></svg>';\n}else if(value==\"PM2.5 Alto\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M118.528 389.12c0 48.896 39.8336 89.6 87.6032 89.6S293.7856 437.8112 293.7856 389.12c7.9872-57.0368-39.8336-89.6-87.6544-89.6S118.528 340.0192 118.528 389.12z m833.024-208.4864C919.7056 180.4288 896 204.8 896 229.3248c7.9872 24.4224 31.8464 48.8448 55.7568 48.8448 31.8976 0 55.808-24.4224 55.808-48.8448s-24.1152-48.896-56.0128-48.896z m-243.1488 40.3456c47.8208 0 87.6544-40.96 87.6544-89.6s-39.8336-89.6-87.6544-89.6-87.6032 40.96-87.6032 89.6c-7.9872 48.64 31.8464 89.3952 87.6032 89.3952z m-365.056 24.4224c39.8336 0 79.6672-32.5632 79.6672-73.3184s-31.8976-73.5232-79.6672-73.5232c-39.8336 0-79.6672 32.6144-79.6672 73.3184s31.8464 73.3184 79.6672 73.3184zM738.2016 455.68c0 40.96 31.8976 73.3184 79.6672 73.3184 39.8336 0 79.6672-32.6144 79.6672-73.3184s-31.8464-73.3184-79.6672-73.3184C778.24 382.2592 738.2016 414.72 738.2016 455.68z m-197.7856-6.7072c39.8336 0 63.744-32.5632 63.744-65.1776s-31.8464-65.1264-63.744-65.1264c-39.8336 0-63.744 32.5632-63.744 65.1264s31.8976 65.0752 63.744 65.0752z m393.1648 139.3664c-8.5504 0-17.152 0-21.4016 4.352-171.52 122.4704-325.9392 35.0208-330.1888 30.72C260.4032 421.9904 46.08 636.3136 46.08 636.3136a22.8864 22.8864 0 0 0-8.5504 17.5104A33.1264 33.1264 0 0 0 46.08 671.3344c8.6016 13.1072 25.6 8.7552 38.6048 0 4.3008-8.7552 180.0704-179.2 463.104-4.352 4.3008 4.352 72.9088 43.7248 171.52 43.7248 64.3072 0 145.7664-17.5104 227.2768-74.3936a32.9728 32.9728 0 0 0 4.2496-39.3216 21.9648 21.9648 0 0 0-17.2544-8.7552zM88.0128 180.0704a64.4608 64.4608 0 0 0 63.744-65.1264A64.4608 64.4608 0 0 0 88.064 49.664 64.512 64.512 0 0 0 24.32 114.8416a64.4096 64.4096 0 0 0 63.6928 65.2288z m60.0064 589.568H75.776v209.92h49.5616v-69.5296h24.064c43.4688 0 81.408-22.0672 81.408-72.0384 0-51.968-37.376-68.352-82.7904-68.352zM146.8928 870.4h-21.5552v-60.928h20.224c23.808 0 37.0688 7.3216 37.0688 28.5184S171.008 870.4 146.8928 870.4z m229.3248-10.24c-3.8912 12.1344-7.2192 25.6-11.3664 38.4H363.52c-3.84-13.0048-7.168-26.2656-11.3152-38.4l-32.6656-90.6752H266.24v209.92h44.032V907.776a707.2768 707.2768 0 0 0-6.3488-72.9088h1.1264l16.5888 50.2784 27.9552 76.8h27.136l27.6992-76.8 17.152-50.2784h1.1264a707.2768 707.2768 0 0 0-6.3488 72.9088v71.9872h45.1072v-209.92H407.7568zM568.32 940.2368c31.5904-32.4608 62.0032-72.2944 62.0032-108.4416 0-40.1408-27.648-66.0992-67.5328-66.0992-29.3376 0-48.1792 10.7008-68.4032 32.4608l26.88 27.136c9.6768-10.752 20.48-20.48 34.8672-20.48 16.3328 0 26.88 10.24 26.88 29.696 0 30.72-34.6112 68.608-86.1184 116.3776v28.7744h142.8992v-42.3424h-37.9904a282.1632 282.1632 0 0 0-33.4848 2.9184z m134.2976-18.944a31.2832 31.2832 0 1 0 29.3376 31.0784 29.6448 29.6448 0 0 0-29.5936-31.0784z m137.6256-78.4896a50.7904 50.7904 0 0 0-21.2992 4.2496l3.0208-35.84h73.3696v-41.7792h-115.712l-5.12 103.936 21.5552 14.3872c12.2368-7.8848 17.7664-10.24 29.0816-10.24 17.7664 0 30.208 11.3152 30.208 32.4608s-12.4416 32.768-32.4096 32.768c-16.3328 0-30.72-8.7552-42.3424-20.0192l-22.8352 31.8976a97.28 97.28 0 0 0 71.9872 29.1328c39.5776 0 74.496-27.392 74.496-74.5984 0-45.4656-29.3888-66.3552-64.256-66.3552z\" fill=\"#232632\" /></svg>';\n}else if(value==\"PM10 Alto\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M118.528 387.5328c0 48.896 39.8336 89.6512 87.6032 89.6512s87.6544-40.96 87.6544-89.6512c7.9872-57.0368-39.8336-89.6-87.6544-89.6s-87.6032 40.704-87.6032 89.6zM951.6032 179.2c-31.8976 0-55.808 24.4736-55.808 48.896 7.9872 24.4224 31.8976 48.896 55.808 48.896 31.8464 0 55.7568-24.4736 55.7568-48.896S983.4496 179.2 951.6032 179.2z m-243.2 40.3456c47.8208 0 87.6544-40.96 87.6544-89.6s-39.8336-89.6-87.6544-89.6-87.6544 40.96-87.6544 89.6c-7.936 48.7424 31.8976 89.4464 87.6544 89.4464z m-365.1072 24.32c39.8848 0 79.6672-32.6144 79.6672-73.3184S391.1168 97.28 343.296 97.28c-39.8336 0-79.6672 32.5632-79.6672 73.3184s31.8976 73.2672 79.6672 73.2672z m394.9056 210.3296c0 40.96 31.8976 73.3184 79.6672 73.3184 39.8336 0 79.6672-32.6144 79.6672-73.3184s-31.8464-73.3184-79.6672-73.3184c-39.6288 0-79.6672 32.5632-79.6672 73.3184z m-197.7856-6.656c39.8336 0 63.744-32.8192 63.744-65.1776S572.3136 317.44 540.416 317.44c-39.8336 0-63.744 32.3072-63.744 64.9216s31.8976 65.1776 63.744 65.1776z m393.1648 139.3152c-8.5504 0-17.152 0-21.4016 4.4032-171.52 122.4704-325.888 34.9696-330.1888 30.72C260.4032 420.6592 46.08 634.88 46.08 634.88a22.784 22.784 0 0 0-8.5504 17.5104A33.1776 33.1776 0 0 0 46.08 669.952c8.6016 13.1584 25.6 8.7552 38.6048 0 4.3008-8.7552 180.0704-179.2 463.104-4.352 4.3008 4.352 72.9088 43.7248 171.52 43.7248 64.3072 0 145.7664-17.4592 227.2256-74.3424a32.9728 32.9728 0 0 0 4.3008-39.3728 22.1696 22.1696 0 0 0-17.2544-8.7552zM88.0128 178.688a64.4096 64.4096 0 0 0 63.744-65.1264A64.512 64.512 0 0 0 88.064 48.2816 64.4608 64.4608 0 0 0 24.32 113.4592 64.4096 64.4096 0 0 0 88.0128 178.688z m126.0544 589.568H141.7728v209.92h49.6128v-69.5296h24.064c43.4688 0 81.408-22.016 81.408-72.0384 0.1024-51.968-37.376-68.352-82.7904-68.352z m-1.0752 100.5568h-21.6064v-60.7232h20.224c23.808 0 37.0688 7.3728 37.0688 28.5184s-11.6224 32.2048-35.6864 32.2048z m229.2736-9.8816c-3.8912 12.1344-7.2192 25.6-11.3664 38.4h-1.3824c-3.8912-12.9536-7.2192-26.2656-11.3664-38.4l-32.6656-90.6752H332.032v209.92h44.288V906.24a706.2528 706.2528 0 0 0-6.3488-72.8576h1.1264l16.5888 50.2784 27.9552 76.8h27.136l27.6992-76.8 17.152-50.2784h1.1264A706.2528 706.2528 0 0 0 482.4064 906.24v72.192H527.36v-209.92H473.8048zM665.6 768.256h-36.3008a136.8576 136.8576 0 0 1-51.2 18.944v31.0784h37.9392v119.4496h-43.7248v40.704h130.0992v-40.704H665.6z m138.24-3.9424c-43.4176 0-72.8064 35.584-72.8064 107.8784s29.3888 110.1824 72.8064 110.1824 73.1136-37.8368 73.1136-110.1824-29.5936-107.8784-73.1136-107.8784z m0 179.2c-14.6432 0-26.2656-13.568-26.2656-71.2192s11.6224-69.1712 26.2656-69.1712 26.624 11.8784 26.624 69.1712-11.9296 71.1168-26.624 71.1168z\" fill=\"#232632\" /></svg>';\n}else if(value==\"Tvoc Alto\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 80 80\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 80 80\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"    M55,59H25c-2.209,0-4-1.791-4-4V25c0-2.209,1.791-4,4-4h30c2.209,0,4,1.791,4,4v30C59,57.209,57.209,59,55,59z\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><circle cx=\"40\" cy=\"40\" fill=\"none\" r=\"13\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><g><path d=\"     M42.892,37.108l0.079-0.013c3.292-0.549,5.705-3.397,5.705-6.734v0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M40,35.911l0.046-0.065c1.94-2.716,1.632-6.436-0.728-8.796l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M37.108,37.108l-0.013-0.079c-0.549-3.292-3.397-5.705-6.734-5.705h0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M35.911,40l-0.065-0.046c-2.716-1.94-6.436-1.632-8.796,0.728l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M37.108,42.892l-0.079,0.013c-3.292,0.549-5.705,3.397-5.705,6.734v0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M40,44.089l-0.046,0.065c-1.94,2.716-1.632,6.436,0.728,8.796l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M42.892,42.892l0.013,0.079c0.549,3.292,3.397,5.705,6.734,5.705h0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><path d=\"     M44.089,40l0.065,0.046c2.716,1.94,6.436,1.632,8.796-0.728l0,0\" fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\"/><ellipse cx=\"40\" cy=\"40\" fill=\"none\" rx=\"4.089\" ry=\"4.089\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -16.5685 40)\"/></g></g><g><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"74\" x2=\"71\" y1=\"42\" y2=\"42\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"65\" x2=\"58\" y1=\"36\" y2=\"36\"/><circle cx=\"71\" cy=\"36\" r=\"2\"/><circle cx=\"65\" cy=\"42\" r=\"2\"/><circle cx=\"74\" cy=\"48\" r=\"2\"/><circle cx=\"75\" cy=\"30\" r=\"2\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"55\" x2=\"69\" y1=\"30\" y2=\"30\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"68\" x2=\"57\" y1=\"48\" y2=\"48\"/></g><g><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"15\" x2=\"5\" y1=\"37\" y2=\"37\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"15\" x2=\"10\" y1=\"49\" y2=\"49\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"19\" x2=\"8\" y1=\"31\" y2=\"31\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"19\" x2=\"15\" y1=\"43\" y2=\"43\"/><line fill=\"none\" stroke=\"#000000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"4\" x1=\"9\" x2=\"6\" y1=\"43\" y2=\"43\"/></g></g></svg> ';\n}else if(value==\"Formaldeide Alta\"){\n    return '<svg class=\"svg-icon\" style=\"width: 40px; height: 40px;vertical-align: middle;fill: currentColor;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M835.9424 390.7072a170.7008 170.7008 0 0 0-163.84 125.696l-53.2992-5.12A185.7024 185.7024 0 0 0 434.7392 343.04a181.6576 181.6576 0 0 0-27.0336 1.9968l-15.36-42.5472a125.1328 125.1328 0 1 0-61.44 16.1792 124.1088 124.1088 0 0 0 20.48-1.2288l14.1312 39.5264a188.7744 188.7744 0 0 0-97.28 256.256l-28.672 16.5376A124.7744 124.7744 0 0 0 148.48 589.8752a126.8736 126.8736 0 0 0 0 253.696A126.1056 126.1056 0 0 0 273.6128 716.8a128.256 128.256 0 0 0-10.24-49.9712L291.84 650.24a184.0128 184.0128 0 0 0 142.7456 67.7888 186.5728 186.5728 0 0 0 183.552-162.6112l47.7184 4.7616v2.56a169.984 169.984 0 1 0 169.984-171.9296z m-566.2208-199.68a61.44 61.44 0 1 1 61.44 62.0544 62.3104 62.3104 0 0 1-61.44-62.0032z m-122.88 590.1824a62.1056 62.1056 0 0 1 0-124.16 62.1056 62.1056 0 0 1 0 124.16z m291.84-139.52a108.8 108.8 0 1 1 107.52-108.8 107.9296 107.9296 0 0 1-107.2128 108.8512z m399.36 15.36a93.2864 93.2864 0 1 1 92.16-93.2864 92.7744 92.7744 0 0 1-91.904 93.3888z\" fill=\"#232632\" /></svg>';\n}else if(value==\"High Energy Consumption\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 32 32\" version=\"1.1\" viewBox=\"0 0 32 32\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Energy20\"/><g id=\"Energy19\"/><g id=\"Energy18\"/><g id=\"Energy17\"/><g id=\"Energy16\"/><g id=\"Energy15\"/><g id=\"Energy14\"/><g id=\"Energy13\"/><g id=\"Energy12\"/><g id=\"Energy11\"/><g id=\"Energy10\"/><g id=\"Energy09\"/><g id=\"Energy08\"/><g id=\"Energy07\"/><g id=\"Energy06\"/><g id=\"Energy05\"/><g id=\"Energy04\"/><g id=\"Energy03\"/><g id=\"Energy02\"/><g id=\"Energy01\"><g><path d=\"M26.87,12.49l-10,18C16.69,30.81,16.36,31,16,31c-0.08,0-0.17-0.01-0.25-0.03C15.31,30.85,15,30.46,15,30    V19H6c-0.34,0-0.65-0.17-0.84-0.45c-0.18-0.28-0.21-0.64-0.08-0.95l7-16C12.24,1.24,12.6,1,13,1h6c0.33,0,0.64,0.16,0.83,0.44    c0.18,0.27,0.22,0.62,0.1,0.93L16.48,11H26c0.35,0,0.68,0.19,0.86,0.49C27.04,11.8,27.05,12.18,26.87,12.49z\" fill=\"red\"/></g></g></svg>';\n}else if(value==\"Major Energy Consumption\"){\n    return '<?xml version=\"1.0\" ?><svg style=\"height:40px;width:40px;\" enable-background=\"new 0 0 32 32\" version=\"1.1\" viewBox=\"0 0 32 32\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"Energy20\"/><g id=\"Energy19\"/><g id=\"Energy18\"/><g id=\"Energy17\"/><g id=\"Energy16\"/><g id=\"Energy15\"/><g id=\"Energy14\"/><g id=\"Energy13\"/><g id=\"Energy12\"/><g id=\"Energy11\"/><g id=\"Energy10\"/><g id=\"Energy09\"/><g id=\"Energy08\"/><g id=\"Energy07\"/><g id=\"Energy06\"/><g id=\"Energy05\"/><g id=\"Energy04\"/><g id=\"Energy03\"/><g id=\"Energy02\"/><g id=\"Energy01\"><g><path d=\"M26.87,12.49l-10,18C16.69,30.81,16.36,31,16,31c-0.08,0-0.17-0.01-0.25-0.03C15.31,30.85,15,30.46,15,30    V19H6c-0.34,0-0.65-0.17-0.84-0.45c-0.18-0.28-0.21-0.64-0.08-0.95l7-16C12.24,1.24,12.6,1,13,1h6c0.33,0,0.64,0.16,0.83,0.44    c0.18,0.27,0.22,0.62,0.1,0.93L16.48,11H26c0.35,0,0.68,0.19,0.86,0.49C27.04,11.8,27.05,12.18,26.87,12.49z\" fill=\"#FFB841\"/></g></g></svg>';\n}",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.7323586880398418,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "severity",
                "type" : "alarm",
                "label" : "Criticità",
                "color" : "#ffc107",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false
                },
                "_hash" : 0.09927019860088193,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "details.data",
                "type" : "alarm",
                "label" : "Dettagli",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.2000651777851692,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "name",
                "type" : "attribute",
                "label" : "Sede",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.6994328548976854,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            },
            "alarmsPollingInterval" : 5,
            "showTitleIcon" : false,
            "titleIcon" : "notifications",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "28px",
            "titleTooltip" : "",
            "widgetStyle" : { },
            "displayTimewindow" : true,
            "actions" : {
              "rowClick" : [ {
                "name" : "Tst",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "device_card_details",
                "setEntityId" : true,
                "stateEntityParamName" : "selectedDevice",
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "2d2e157a-aee8-5d67-00d9-a1d89af658cc"
              } ],
              "headerButton" : [ {
                "name" : "Tutti gli allarmi",
                "icon" : "notifications",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "alarm_page",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "56ea643e-53e4-5a5b-d4ab-7d6288a562d7"
              } ]
            },
            "datasources" : [ ],
            "enableDataExport" : true,
            "widgetCss" : "div.tb-widget .tb-widget-title {\n    max-height: 100px !important;\n}\n",
            "noDataDisplayMessage" : "",
            "alarmFilterConfig" : {
              "statusList" : [ "ACTIVE" ],
              "severityList" : [ ],
              "typeList" : [ ],
              "searchPropagatedAlarms" : true
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "e6cefd55-e905-d7ce-8f86-08635fbe2679",
          "typeFullFqn" : "system.alarm_widgets.alarms_table"
        },
        "83db9667-56f8-2432-6e7a-13458d4b0761" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "address",
                "type" : "attribute",
                "label" : "address",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.216283526581728
              }, {
                "name" : "stato",
                "type" : "attribute",
                "label" : "stato",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8057369620518648,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "type",
                "type" : "entityField",
                "label" : "Type",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.5157976480659352
              }, {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.5536348872030306
              }, {
                "name" : "presenza",
                "type" : "timeseries",
                "label" : "presenza",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.7920040639230699,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : false,
                "postFuncBody" : null
              }, {
                "name" : "note",
                "type" : "attribute",
                "label" : "note",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.21441310534181413
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var darkMode = $('.tb-dashboard-page').hasClass('dark');\nvar name, note, presenza, stato;\nif (data && data.length) {\n    name = data[0]['Name'];\n    note = data[0]['note'];\n    presenza = data[0]['presenza'];\n    stato = data[0]['stato'];\n} else {\n    name = 'N/A';\n    presenza = 'N/A';\n    note = 'N/A';\n    stato = 'N/A';\n}\nif(darkMode==true){\n    var typeSvg = '<svg viewBox=\"0 0 640 512\" fill=\"white\" height=\"20px\" width=\"20px\" x=\"5\" y=\"5\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M640 240v240c0 17.67-14.33 32-32 32H32c-17.67 0-32-14.33-32-32L0 144c0-26.51 21.49-48 48-48H64V24.01c0-13.25 10.75-23.1 24-23.1S112 10.75 112 24.01v72h64V24.01c0-13.25 10.75-23.1 24-23.1S224 10.75 224 24.01v71.1h64V48.01c0-26.51 21.49-48 48-48l96 .0049c26.51 0 48 21.49 48 48v143.1h112C618.5 192 640 213.5 640 240zM128 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM128 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM128 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364zM256 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM256 268c0-6.625-5.375-12-12-12h-40C197.4 256 192 261.4 192 268v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM256 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364zM416 76.01c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V76.01zM416 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM416 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM576 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM576 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364z\"/></svg>';\n}else{\n    var typeSvg = '<svg viewBox=\"0 0 640 512\" fill=\"black\" height=\"20px\" width=\"20px\" x=\"5\" y=\"5\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M640 240v240c0 17.67-14.33 32-32 32H32c-17.67 0-32-14.33-32-32L0 144c0-26.51 21.49-48 48-48H64V24.01c0-13.25 10.75-23.1 24-23.1S112 10.75 112 24.01v72h64V24.01c0-13.25 10.75-23.1 24-23.1S224 10.75 224 24.01v71.1h64V48.01c0-26.51 21.49-48 48-48l96 .0049c26.51 0 48 21.49 48 48v143.1h112C618.5 192 640 213.5 640 240zM128 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM128 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM128 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364zM256 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM256 268c0-6.625-5.375-12-12-12h-40C197.4 256 192 261.4 192 268v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM256 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364zM416 76.01c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V76.01zM416 172c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V172zM416 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.38-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM576 268c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V268zM576 364c0-6.625-5.375-12-12-12h-40c-6.625 0-12 5.375-12 12v40c0 6.625 5.375 12 12 12h40c6.625 0 12-5.375 12-12V364z\"/></svg>';\n}\n\nvar encodedTypeSvg = encodeURIComponent(typeSvg);\nvar typeSvgUrl = 'data:image/svg+xml,' + encodedTypeSvg;\n\nvar header = '<div class=\"header\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"8px\">' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><button id=\"Indietro\" matTooltip=\"Indietro\" type=\"button\" mat-icon-button><mat-icon>arrow_back</mat-icon></button></div>' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><img style=\"vertical-align: middle;\" class=\"title-icon mat-icon\" src=\"'+ typeSvgUrl +'\"></div>' +\n                '<div fxFlex fxLayout=\"column\" fxLayoutAlign=\"center\">' +\n                   '<div class=\"title\">' + name + '</div>' +\n                '</div>' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"start\"></div>' +\n             '</div>';\n             \nreturn '<div class=\"main-layout\" style=\"width: 100%; height: 100%;\" fxLayout=\"column\">' +\n          header +\n          '<div fxLayout=\"row\" class=\"params\">' +\n              '<div fxFlex=\"80\" class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Note: </div>' +\n                '<div class=\"param\">'+ note +'</div>' +\n              '</div>' +\n              '<div fxFlex=\"15\" class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Presenza: </div>' +\n                '<div class=\"param\">'+ getStateHtml(presenza) +'</div>' +\n              '</div>' +\n              '<div fxFlex=\"15\" class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Stato: </div>' +\n                '<div class=\"param\">'+ getStateHtml(stato) +'</div>' +\n              '</div>' +\n          '</div>' +\n       '<div>';\n\n\nfunction getStateHtml(params) {\n    var stateSvg = getStateSvg(params);\n    var encodedStateSvg = encodeURIComponent(stateSvg);\n    var stateSvgUrl = 'data:image/svg+xml,' + encodedStateSvg;\n    var stateLabel = getStateLabel(params);\n    return '<span>'+\n           '<img style=\"vertical-align: middle;\" class=\"mat-icon\" src=\"'+ stateSvgUrl +'\">' +\n           '<span style=\"vertical-align: middle; padding-left: 8px;\">'+ stateLabel +'</span>' +\n    '</span>';\n}\n\nfunction getStateSvg(params) {\n    switch (params) {\n        case 'inagibile':\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#E64A19\"/>' +\n                   '</svg>';\n        case 'manutenzione':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#D5C21B\"/>' +\n                   '</svg>';\n        case 'normale':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#1F8B4D\"/>' +\n                   '</svg>';\n        case 'true':            \n           return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#E64A19\"/>' +\n                   '</svg>';\n        case 'false':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#1F8B4D\"/>' +\n                   '</svg>';\n        default:\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#AAAAAA\"/>' +\n                   '</svg>';\n    }\n}\n\nfunction getStateLabel(params) {\n    switch(params) {\n        case 'inagibile':\n            return 'Inagibile';\n        case 'manutenzione':\n            return 'Manutenzione';\n        case 'normale':\n            return 'Normale';\n        case 'true':\n            return 'Occupato';\n        case 'false':\n            return 'Libero';\n        default:\n            return params;\n    }\n}\n",
              "applyDefaultMarkdownStyle" : true,
              "markdownCss" : ".main-layout .header {\n    height: 60px;\n} \n\n.main-layout .header .mat-icon.title-icon {\n    width: 40px;\n    height: 40px;\n}\n\n.main-layout .header .title {\n    font-size: 18px;\n    font-weight: 500;\n    color: #28232D;\n}\n\n.main-layout .header .subtitle {\n    font-size: 13px;\n    font-weight: normal;\n    color: #757575;\n}\n\n.tb-markdown-view .params {\n    background-color: #FAFAFA;\n    border-radius: 4px;\n    padding: 16px;\n    margin-bottom: 20px;\n}\n\n.tb-markdown-view .param-title {\n    font-size: 12px;\n    font-weight: normal;\n    color: #757575;\n}\n\n.tb-markdown-view .param {\n    font-size: 12px;\n    font-weight: 500;\n    color: #212121;\n    line-height: 24px;\n    height: 24px;\n}\n\n.tb-markdown-view .param #battery-level {\n    width: 24px;\n    height: 24px;\n    line-height: 24px;\n    padding: 0 2px;\n    min-width: 28px;\n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "Indietro",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var stateIndex = widgetContext.stateController.getStateIndex();\nwhile (stateIndex > 0) {\n    stateIndex -= 1;\n    backToPrevState(stateIndex);\n}\nopenDashboardState('devices');\n\nfunction backToPrevState(stateIndex) {\n    widgetContext.stateController.navigatePrevState(stateIndex);\n}\n\nfunction openDashboardState(statedId) {\n    var params = widgetContext.stateController.getStateParams();\n    params['selectedSupermarket'] = null;\n    widgetContext.stateController.updateState(null, params);\n}\n\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "37e5e007-da10-e64c-be1e-899094481e42"
              }, {
                "name" : "details",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var params = JSON.parse(JSON.stringify(widgetContext.stateController.getStateParams()));\nparams['selectedSupermarket'] = {\n        entityId: entityId,\n        entityName: entityName,\n        entityLabel: entityLabel,\n};\nparams['targetEntityParamName'] = 'selectedSupermarket';\nparams['selectedDevice'] = null;\n\nwidgetContext.stateController.openState('supermarket_details', params);\t",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "984f40ea-3647-03d7-b77b-aa0ad394803b"
              } ]
            },
            "margin" : "0px",
            "pageSize" : 1024,
            "useDashboardTimewindow" : true,
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "83db9667-56f8-2432-6e7a-13458d4b0761",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "fb4876e4-5cbd-e84c-85b7-78fa687cc4a3" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "address",
                "type" : "attribute",
                "label" : "address",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.6308167891061558
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "markdownTextPattern" : "### Markdown/HTML card\n - **Current entity**: ${entityName}.\n - **Current value**: ${Random}.",
              "markdownTextFunction" : "var criticalAlarmsCount;\nvar majorAlarmsCount;\nif (data && data.length) {\n    criticalAlarmsCount = data[0]['criticalAlarmsCount'];\n    majorAlarmsCount = data[0]['majorAlarmsCount'];\n} else {\n    criticalAlarmsCount = 'N/A';\n    majorAlarmsCount = 'N/A';\n}\n\nreturn '<div><tb-dashboard-state style=\"width: 100%; height: 90px;\" [ctx]=\"ctx\" stateId=\"alarm_badges\"></tb-dashboard-state></div>';\n",
              "useMarkdownTextFunction" : true
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "go-back",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var params = widgetContext.stateController.getStateParams();\nparams['selectedDevice'] = null;\nwidgetContext.stateController.updateState(null, params);",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "37e5e007-da10-e64c-be1e-899094481e42"
              }, {
                "name" : "settings",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "const targetElement = $($event.target).closest('#settings', widgetContext.$container[0]);\n\nvar type = decodeURIComponent($(targetElement).attr('data-device-type'));\n\nvar stateId = getSettingsState(type);\n\nvar params = {\n    selectedDevice: {\n        entityId: entityId,\n        entityName: entityName,\n        entityLabel: entityLabel,\n    },\n    targetEntityParamName: 'selectedDevice'\n};\n\nwidgetContext.actionsApi.openDashboardStateInPopover($event, stateId, params, true, 'bottomRight', true, '400px', getSettingsHeight(type));\n\nfunction getSettingsState(type) {\n    switch (type) {\n        case 'Smart Shelf':\n            return 'smart_shelf_settings';\n        case 'Freezer':            \n            return 'freezer_settings';\n        case 'Chiller':            \n            return 'chiller_settings';                      \n        case 'Smart Bin':\n            return 'smart_bin_settings';          \n        case 'Door Sensor':\n            return 'door_settings';\n        case 'Liquid Level Sensor':\n            return 'liquid_sensor_settings';\n        case 'Motion Sensor':\n            return 'motion_sensor_settings';\n        case 'Occupancy Sensor':\n            return 'occupancy_sensor_settings';\n        case 'Smoke Sensor':\n            return 'smoke_sensor_settings';\n        default:\n            return 'unknown_settings';\n    }\n}\n\nfunction getSettingsHeight(type) {\n    switch (type) {\n        case 'Smart Shelf':\n            return '280px';\n        case 'Freezer':            \n            return '420px';\n        case 'Chiller':            \n            return '420px';                  \n        case 'Smart Bin':\n            return '420px';                  \n        case 'Door Sensor':\n            return '420px';\n        case 'Liquid Level Sensor':\n            return '420px';\n        case 'Motion Sensor':\n            return '280px';\n        case 'Occupancy Sensor':\n            return '420px';\n        case 'Smoke Sensor':\n            return '280px';\n        default:\n            return '35vh';\n    }\n}\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "076da598-f2dc-6fda-6744-db268a4c6df7"
              }, {
                "name" : "battery-level",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "battery_level_details",
                "setEntityId" : true,
                "stateEntityParamName" : "selectedDevice",
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "bottomRight",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "25vw",
                "popoverHeight" : "25vh",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "44417062-4a4f-0479-0042-93952e15436a"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "fb4876e4-5cbd-e84c-85b7-78fa687cc4a3",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "456c8910-fa7b-c1d8-f15b-abc4ad711654" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "4px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "return '<div class=\"main-layout\" style=\"width: 100%; height: 100%;\" fxLayout=\"column\">' +\n        '<tb-dashboard-state fxFlex [ctx]=\"ctx\" stateId=\"lista_bungalow\"></tb-dashboard-state>' +\n          '<mat-divider style=\"margin-top: 10px; margin-bottom: 10px;\"></mat-divider>' +\n          '<tb-dashboard-state fxFlex [ctx]=\"ctx\" stateId=\"alarm_all\"></tb-dashboard-state>' +\n       '</div>';",
              "applyDefaultMarkdownStyle" : true,
              "markdownCss" : ".tb-markdown-view .tb-progress-cover, .tb-markdown-view .mat-drawer-container {\n    background-color: #fff;\n}\n.tb-markdown-view div, .tb-markdown-view p {\n    line-height: normal;\n}\n\n.tb-markdown-view > div {\n    padding: 0;\n}\n\n.tb-markdown-view table {\n    border: none;\n    border-radius: 0px;\n    overflow: auto;\n}\n\n.tb-markdown-view .mat-toolbar.mat-primary div {\n    color: var(--tb-primary-contrast-500);\n}\n\n.tb-markdown-view .tb-widget-container > .tb-widget {\n    border-radius: 0px;\n}\n\n.tb-markdown-view .tb-widget-container > .tb-widget .tb-table-widget mat-toolbar {\n    height: 65px;\n    max-height: 65px;\n}\n\n\n.tb-markdown-view .tb-widget-container > .tb-widget.tb-has-timewindow .tb-table-widget mat-toolbar {\n    height: 100px;\n    max-height: 100px;\n}\n\n.main-layout .header {\n    height: 60px;\n    margin: 4px;\n} \n\n.main-layout .header .mat-icon.title-icon {\n    width: 40px;\n    height: 40px;\n}\n\n.main-layout .header .title {\n    font-size: 18px;\n    font-weight: 500;\n    color: #28232D;\n}\n\n.main-layout .header .subtitle {\n    font-size: 13px;\n    font-weight: normal;\n    color: #757575;\n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : ".tb-widget-title {\n    align-items: stretch !important;\n    flex: 1;\n}\n\n.tb-widget-actions {\n    position: absolute;\n    top: 0;\n    right: 0;\n}\n\n.tb-widget-title tb-timewindow .tb-timewindow {\n    border: 1px solid rgba(0, 0, 0, 0.12);\n    border-radius: 4px;\n    padding: 8px 8px;\n    position: relative;\n}\n\n.tb-widget-title tb-timewindow .tb-timewindow span {\n    flex: 1;\n    line-height: 32px;\n}\n\n.tb-widget-title tb-timewindow .tb-timewindow::after {\n    font-family: \"Material Icons\";\n    content: 'expand_more';\n    position: absolute;\n    font-size: 24px;\n    top: 12px;\n    right: 12px;\n    z-index: -1;\n}",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "go-back",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var params = widgetContext.stateController.getStateParams();\nparams['sede_selezionata'] = null;\nwidgetContext.stateController.updateState(null, params);",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "116515c2-d9bd-80b6-7a34-97373a802806"
              } ],
              "headerButton" : [ {
                "name" : "Dark",
                "icon" : "nightlight",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "$('.tb-dashboard-page').toggleClass('dark');",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "f170ba66-5e1d-353d-ad27-9bd42836c7b3"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "456c8910-fa7b-c1d8-f15b-abc4ad711654",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "d680c934-edcf-4cf0-7073-cc1fb4530391" : {
          "type" : "alarm",
          "sizeX" : 10.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 1,
              "history" : {
                "historyType" : 0,
                "timewindowMs" : 2592000000,
                "interval" : 1000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1640171736303,
                  "endTimeMs" : 1640258136303
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "4px",
            "settings" : {
              "enableSelection" : true,
              "enableSearch" : true,
              "displayDetails" : false,
              "allowAcknowledgment" : true,
              "allowClear" : true,
              "displayPagination" : false,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "-createdTime",
              "enableSelectColumnDisplay" : true,
              "enableStickyAction" : false,
              "enableFilter" : false,
              "enableStickyHeader" : true,
              "reserveSpaceForHiddenAction" : "true",
              "useRowStyleFunction" : false,
              "alarmsTitle" : "Critical Alarms"
            },
            "title" : "New Alarms table",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "alarmSource" : {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "55f23be2-d63e-ce45-b3f5-d05604647f2a",
              "filterId" : "3a46fadd-6a79-1f15-1c39-f7f0a30ab5f8",
              "dataKeys" : [ {
                "name" : "createdTime",
                "type" : "alarm",
                "label" : "Created time",
                "color" : "#2196f3",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.021092237451093787
              }, {
                "name" : "originator",
                "type" : "alarm",
                "label" : "Originator",
                "color" : "#4caf50",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.2780007688856758
              }, {
                "name" : "type",
                "type" : "alarm",
                "label" : "Type",
                "color" : "#f44336",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.7323586880398418
              }, {
                "name" : "severity",
                "type" : "alarm",
                "label" : "Severity",
                "color" : "#ffc107",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false
                },
                "_hash" : 0.09927019860088193
              }, {
                "name" : "details.data",
                "type" : "alarm",
                "label" : "details.data",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.03965456534262213
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            },
            "alarmsPollingInterval" : 5,
            "showTitleIcon" : false,
            "titleIcon" : "more_horiz",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "widgetStyle" : { },
            "displayTimewindow" : true,
            "actions" : { },
            "datasources" : [ ],
            "enableDataExport" : true,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "alarmFilterConfig" : {
              "statusList" : [ "ACTIVE" ],
              "severityList" : [ "CRITICAL", "MAJOR", "MINOR", "WARNING", "INDETERMINATE" ],
              "typeList" : [ ],
              "searchPropagatedAlarms" : true
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "d680c934-edcf-4cf0-7073-cc1fb4530391",
          "typeFullFqn" : "system.alarm_widgets.alarms_table"
        },
        "106a5add-e710-6fea-e975-a7f9b61e2802" : {
          "type" : "alarm",
          "sizeX" : 10.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "hideInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 1,
              "history" : {
                "historyType" : 0,
                "timewindowMs" : 2592000000,
                "interval" : 1000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1640171736303,
                  "endTimeMs" : 1640258136303
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "4px",
            "settings" : {
              "enableSelection" : true,
              "enableSearch" : true,
              "displayDetails" : false,
              "allowAcknowledgment" : true,
              "allowClear" : true,
              "displayPagination" : false,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "-createdTime",
              "enableSelectColumnDisplay" : true,
              "enableStickyAction" : false,
              "enableFilter" : false,
              "enableStickyHeader" : true,
              "reserveSpaceForHiddenAction" : "true",
              "useRowStyleFunction" : false,
              "alarmsTitle" : "Major Alarms"
            },
            "title" : "New Alarms table",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "alarmSource" : {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "55f23be2-d63e-ce45-b3f5-d05604647f2a",
              "filterId" : "3a46fadd-6a79-1f15-1c39-f7f0a30ab5f8",
              "dataKeys" : [ {
                "name" : "createdTime",
                "type" : "alarm",
                "label" : "Created time",
                "color" : "#2196f3",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.021092237451093787
              }, {
                "name" : "originator",
                "type" : "alarm",
                "label" : "Originator",
                "color" : "#4caf50",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.2780007688856758
              }, {
                "name" : "type",
                "type" : "alarm",
                "label" : "Type",
                "color" : "#f44336",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.7323586880398418
              }, {
                "name" : "severity",
                "type" : "alarm",
                "label" : "Severity",
                "color" : "#ffc107",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false
                },
                "_hash" : 0.09927019860088193
              }, {
                "name" : "details.data",
                "type" : "alarm",
                "label" : "details.data",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.9582083831478077
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            },
            "alarmsPollingInterval" : 5,
            "showTitleIcon" : false,
            "titleIcon" : "more_horiz",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "widgetStyle" : { },
            "displayTimewindow" : true,
            "actions" : { },
            "datasources" : [ ],
            "enableDataExport" : true,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "alarmFilterConfig" : {
              "statusList" : [ "ACTIVE" ],
              "severityList" : [ "MAJOR" ],
              "typeList" : [ ],
              "searchPropagatedAlarms" : true
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "106a5add-e710-6fea-e975-a7f9b61e2802",
          "typeFullFqn" : "system.alarm_widgets.alarms_table"
        },
        "99b7872c-82b9-3f8d-4006-76fb55f8a6fc" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "person",
                "type" : "timeseries",
                "label" : "Persone",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.5845987290609518,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#ff5722",
            "color" : "rgba(255, 255, 255, 0.87)",
            "padding" : "16px",
            "settings" : {
              "labelPosition" : "top"
            },
            "title" : "New Simple card",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "units" : "",
            "decimals" : 0,
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : { },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "99b7872c-82b9-3f8d-4006-76fb55f8a6fc",
          "typeFullFqn" : "system.cards.simple_card"
        },
        "89af94c6-68b4-0492-1fe0-4e87826aa749" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "cdf692dd-915b-cdc8-7b51-fc8980c44135",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "open",
                "type" : "timeseries",
                "label" : "Porta ${Name}",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.3806657427940805,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if(value==\"true\"){\n    return 1;\n}else{\n    return 0;\n}\n//return value;"
              } ],
              "latestDataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.5332844646165689
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 86400000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 300000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "grid" : {
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1,
                "color" : "#545454",
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : null,
                "max" : null,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 0,
                "ticksFormatter" : ""
              },
              "shadowSize" : 4,
              "smoothLines" : false,
              "comparisonEnabled" : false,
              "xaxisSecond" : {
                "axisPosition" : "top",
                "title" : null,
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "column",
                "position" : "left",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : true,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Stato Porte",
            "dropShadow" : false,
            "enableFullscreen" : true,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "89af94c6-68b4-0492-1fe0-4e87826aa749",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "18d9d2ce-046a-4a49-1247-23bba7546784" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "eb3c1bbe-ff4e-ed17-5fe1-e2698828258d",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "Phase_A_power",
                "type" : "timeseries",
                "label" : "Fase A",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.20672354403560833,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_B_power",
                "type" : "timeseries",
                "label" : "Fase B",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.44577325807834023,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_C_power",
                "type" : "timeseries",
                "label" : "Fase C",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.5564871768005251,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.5332844646165689
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 86400000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 600000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "legend" : {
                "show" : true,
                "position" : "nw",
                "backgroundColor" : "#f0f0f0",
                "backgroundOpacity" : 0.85,
                "labelBoxBorderColor" : "rgba(1, 1, 1, 0.45)"
              },
              "decimals" : 1,
              "stack" : false,
              "tooltipIndividual" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "column",
                "position" : "right",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : true,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Stato Corrente",
            "dropShadow" : false,
            "enableFullscreen" : true,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "18d9d2ce-046a-4a49-1247-23bba7546784",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "9677e95d-1ef9-b905-fba0-6f5d4942589c" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.7023140916622059
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div align=\"center\">\n    <img src=\"https://cam.aangstrom.it/api/${Name}?bbox=1\" hight=\"100%\" width=\"100%\" />\n</div>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "9677e95d-1ef9-b905-fba0-6f5d4942589c",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "1ef13794-c711-4e4b-69da-20346f040948" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "address",
                "type" : "attribute",
                "label" : "address",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.216283526581728
              }, {
                "name" : "state",
                "type" : "attribute",
                "label" : "state",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8057369620518648
              }, {
                "name" : "type",
                "type" : "entityField",
                "label" : "Type",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.5157976480659352
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var name, address, state;\nif (data && data.length) {\n    name = data[0]['entityName'];\n    address = data[0]['address'];\n    state = data[0]['state'];\n} else {\n    name = 'N/A';\n    address = 'N/A';\n    state = 'N/A';\n}\n\nvar typeSvg = '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                '<path d=\"m13.636 10.8c0.59978 0 1.1276-0.32788 1.3995-0.82369l2.8629-5.1901c0.29589-0.5278-0.087968-1.1836-0.69574-1.1836h-11.836l-0.75172-1.5994h-2.615v1.5994h1.5994l2.8789' + \n                ' 6.0697-1.0796 1.9513c-0.58378 1.0716 0.18393 2.3751 1.3995 2.3751h9.5964v-1.5994h-9.5964l0.87967-1.5994zm-7.5092-5.5979h9.7164l-2.2072 3.9985h-5.6139zm0.67175 9.5964c-0.87967' + \n                ' 0-1.5914 0.71973-1.5914 1.5994s0.71174 1.5994 1.5914 1.5994 1.5994-0.71973 1.5994-1.5994-0.71973-1.5994-1.5994-1.5994zm7.997 0c-0.87967 0-1.5914 0.71973-1.5914 1.5994s0.71174' + \n                ' 1.5994 1.5914 1.5994 1.5994-0.71973 1.5994-1.5994-0.71973-1.5994-1.5994-1.5994z\" stroke-width=\".7997\" fill=\"#212121\"/>' + \n              '</svg>';\nvar encodedTypeSvg = encodeURIComponent(typeSvg);\nvar typeSvgUrl = 'data:image/svg+xml,' + encodedTypeSvg;\n\nvar header = '<div class=\"header\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\" fxLayoutGap=\"8px\">' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><button id=\"go-back\" matTooltip=\"Go back\" type=\"button\" mat-icon-button><mat-icon>arrow_back</mat-icon></button></div>' +\n                '<div fxLayout=\"column\" fxLayoutAlign=\"center\"><img style=\"vertical-align: middle;\" class=\"title-icon mat-icon\" src=\"'+ typeSvgUrl +'\"></div>' +\n                '<div fxFlex fxLayout=\"column\" fxLayoutAlign=\"center\">' +\n                   '<div class=\"title\">' + name + '</div>' +\n                '</div>' + '<tb-dashboard-state class=\"alarm-badges\" *ngIf=\"ctx.stateController.getStateParams().selectedSupermarket\" [ctx]=\"ctx\" [syncParentStateParams]=\"true\" stateId=\"alarm_badges_without_report\"></tb-dashboard-state>'+\n             '</div>';\n             \nreturn '<div class=\"main-layout\" style=\"width: 100%; height: 100%;\" fxLayout=\"column\">' +\n          header +\n          '<div fxLayout=\"row\" class=\"params\">' +\n              '<div fxFlex=\"70\" class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">Address: </div>' +\n                '<div class=\"param\">'+ address +'</div>' +\n              '</div>' +\n              '<div fxFlex=\"30\" class=\"param-cell\" fxLayout=\"column\" fxLayoutGap=\"8px\">' +\n                '<div class=\"param-title\">State: </div>' +\n                '<div class=\"param\">'+ getStateHtml(state) +'</div>' +\n              '</div>' +\n          '</div>' +\n       '<div>';\n\n\nfunction getStateHtml(state) {\n    var stateSvg = getStateSvg(state);\n    var encodedStateSvg = encodeURIComponent(stateSvg);\n    var stateSvgUrl = 'data:image/svg+xml,' + encodedStateSvg;\n    var stateLabel = getStateLabel(state);\n    return '<span>'+\n           '<img style=\"vertical-align: middle;\" class=\"mat-icon\" src=\"'+ stateSvgUrl +'\">' +\n           '<span style=\"vertical-align: middle; padding-left: 8px;\">'+ stateLabel +'</span>' +\n    '</span>';\n}\n\nfunction getStateSvg(state) {\n    switch (state) {\n        case 'critical':\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#E64A19\"/>' +\n                   '</svg>';\n        case 'major':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#D5C21B\"/>' +\n                   '</svg>';\n        case 'normal':            \n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#1F8B4D\"/>' +\n                   '</svg>';\n        default:\n            return '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">' +\n                   '<circle cx=\"10\" cy=\"10\" r=\"6\" fill=\"#AAAAAA\"/>' +\n                   '</svg>';\n    }\n}\n\nfunction getStateLabel(state) {\n    switch(state) {\n        case 'critical':\n            return 'Critical';\n        case 'major':\n            return 'Major';\n        case 'normal':\n            return 'Normal';\n        default:\n            return state;\n    }\n}\n",
              "markdownCss" : ".main-layout .header {\n    height: 60px;\n} \n\n.main-layout .header .mat-icon.title-icon {\n    width: 40px;\n    height: 40px;\n}\n\n.main-layout .header .title {\n    font-size: 18px;\n    font-weight: 500;\n    color: #28232D;\n}\n\n.main-layout .header .subtitle {\n    font-size: 13px;\n    font-weight: normal;\n    color: #757575;\n}\n\n.tb-markdown-view .params {\n    background-color: #FAFAFA;\n    border-radius: 4px;\n    padding: 10px;\n    margin-bottom: 10px;\n}\n\n.tb-markdown-view .param-title {\n    font-size: 12px;\n    font-weight: normal;\n    color: #757575;\n}\n\n.tb-markdown-view .param {\n    font-size: 12px;\n    font-weight: 500;\n    color: #212121;\n    line-height: 24px;\n    height: 24px;\n}\n\n.tb-markdown-view .param #battery-level {\n    width: 24px;\n    height: 24px;\n    line-height: 24px;\n    padding: 0 2px;\n    min-width: 28px;\n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "go-back",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "let stateIndex = widgetContext.stateController.getStateIndex();\r\nif (stateIndex > 0) {\r\n    stateIndex -= 1;\r\n    backToPrevState(stateIndex);\r\n}\r\n\r\nfunction backToPrevState(stateIndex) {\r\n    widgetContext.stateController.navigatePrevState(stateIndex);\r\n}\r\n",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "37e5e007-da10-e64c-be1e-899094481e42"
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "1ef13794-c711-4e4b-69da-20346f040948",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "853cdc33-f398-25b0-c019-74194deda533" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "criticalAlarmsCount",
                "type" : "timeseries",
                "label" : "criticalAlarmsCount",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.031424315886006804
              }, {
                "name" : "majorAlarmsCount",
                "type" : "timeseries",
                "label" : "majorAlarmsCount",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.323899218375304
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#ffffff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var criticalCount = data[0]['criticalAlarmsCount'];\nvar majorCount = data[0]['majorAlarmsCount'];\n\nvar criticalClass = criticalCount && Number(criticalCount) > 0 ? 'critical' : 'inactive';\n\nvar majorClass = majorCount && Number(majorCount) > 0 ? 'major' : 'inactive';\n\nreturn '<div style=\"width: 100%; height: 100%; padding: 0;\" fxLayoutGap=\"10px\" fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutAlign.gt-md=\"center center\">'+\n       '<div id=\"critical-alarms\" class=\"alarm-badge '+ criticalClass +'\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i><span class=\"alarm-count\">'+ criticalCount +'</span> Critical</div>' +\n       '<div id=\"major-alarms\" class=\"alarm-badge '+ majorClass +'\"><i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i><span class=\"alarm-count\">'+ majorCount +'</span> Major</div>' +\n       '<div>';",
              "markdownCss" : ".alarm-badge {\n    cursor: pointer;\n    border-radius: 22px;\n    padding: 8px 20px;\n    color: #fff;\n    font-size: 18px;\n    transition: background-color 0.5s;\n}\n\n.alarm-badge.critical {\n    background-color: #E64A19;\n}\n\n.alarm-badge.major {\n    background-color: #D4C21B;\n}\n.alarm-badge.report {\n    background-color: #06b6d4;\n}\n.alarm-badge.report:hover {\n    background-color: #0891b2;\n}\n\n.alarm-badge.critical:hover {\n    background-color: #a13d1e;\n}\n\n.alarm-badge.major:hover {\n    background-color: #b7a715;\n}\n\n.alarm-badge.inactive {\n    pointer-events: none;\n    color: #CAC1D2;\n    background-color: rgba(202, 193, 210, 0.05);\n    border: 1px solid rgba(202, 193, 210, 0.15);\n}\n\n.alarm-badge i.fa {\n    padding-right: 8px;\n}\n\n.alarm-badge .alarm-count {\n    font-weight: 700;    \n}\n"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "actions" : {
              "elementClick" : [ {
                "name" : "critical-alarms",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "market_critical_alarms",
                "setEntityId" : false,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "bottom",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "800px",
                "popoverHeight" : "600px",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "2255454c-8c83-dfae-2e0b-8d0df6db6a70"
              }, {
                "name" : "major-alarms",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "market_major_alarms",
                "setEntityId" : false,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "bottom",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "800px",
                "popoverHeight" : "600px",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "e52ae76c-959f-f84e-c6b7-3e49c242e70e"
              }, {
                "name" : "report",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "report",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "4e965c55-e832-6e96-2636-7cc5fd976c90"
              } ]
            },
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "853cdc33-f398-25b0-c019-74194deda533",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "538c1d40-8026-7c64-5d14-e178926a8622" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "power",
                "type" : "timeseries",
                "label" : "Potenza",
                "color" : "#8bc34a",
                "settings" : { },
                "_hash" : 0.12804351187447227,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              },
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 3600000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 8000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "enableSelection" : true,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "grid" : {
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1,
                "color" : "#545454",
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : null,
                "max" : null,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 0,
                "ticksFormatter" : ""
              },
              "shadowSize" : 4,
              "smoothLines" : false,
              "comparisonEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : true,
                "showTotal" : true,
                "showLatest" : false
              },
              "customLegendEnabled" : false
            },
            "title" : "Stato Corrente",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true,
            "units" : "W"
          },
          "row" : 0,
          "col" : 0,
          "id" : "538c1d40-8026-7c64-5d14-e178926a8622",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "4c060d3e-c22b-0df0-6f5d-41a16e03bda6" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "temperature",
                "type" : "timeseries",
                "label" : "Temperatura",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8356206308473006,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              },
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 86400000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 300000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "legend" : {
                "show" : true,
                "position" : "nw",
                "backgroundColor" : "#f0f0f0",
                "backgroundOpacity" : 0.85,
                "labelBoxBorderColor" : "rgba(1, 1, 1, 0.45)"
              },
              "decimals" : 1,
              "stack" : false,
              "tooltipIndividual" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Grafico",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "4c060d3e-c22b-0df0-6f5d-41a16e03bda6",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "a790e784-793c-a2a3-a87f-92d50e4183ac" : {
          "type" : "latest",
          "sizeX" : 11,
          "sizeY" : 16,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "label",
                "type" : "entityField",
                "label" : "Nome sensore",
                "color" : "#aa00ff",
                "settings" : { },
                "_hash" : 0.1685165400028874,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "EmailEnabled",
                "type" : "attribute",
                "label" : "Abilita invio mail",
                "color" : "#795548",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "EmailEnabled",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.5525634641787676,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Email",
                "type" : "attribute",
                "label" : "Indirizzo email",
                "color" : "#00bcd4",
                "settings" : { },
                "_hash" : 0.6801098506259771,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "TeamsEnabled",
                "type" : "attribute",
                "label" : "TeamsEnabled",
                "color" : "#ff5722",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "TeamsUrl",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.9729417464355963,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "TeamsUrl",
                "type" : "attribute",
                "label" : "TeamsUrl",
                "color" : "#9e9e9e",
                "settings" : { },
                "_hash" : 0.12908630162887857
              }, {
                "name" : "batteryAlarmFlag",
                "type" : "attribute",
                "label" : "Abilita soglia Batteria",
                "color" : "#cddc39",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "batteryAlarmThreshold",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.2685880551523465,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "batteryAlarmThreshold",
                "type" : "attribute",
                "label" : "Soglia Batteria",
                "color" : "#009688",
                "settings" : { },
                "_hash" : 0.7408268525860016,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "temperatureAlarmFlag",
                "type" : "attribute",
                "label" : "Abilita soglie Temperatura",
                "color" : "#2196f3",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "temperatureAlarmThreshold",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.14515297098960733,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "temperatureAlarmThreshold",
                "type" : "attribute",
                "label" : "Soglia 1, °C (Gravità: Critica)",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.079571550252999,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "temperatureAlarmThresholdMedium",
                "type" : "attribute",
                "label" : "Soglia 2, °C (Gravità: Media)",
                "color" : "#f44336",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "temperatureAlarmThreshold",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.33897766122454787,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "temperatureAlarmThresholdLow",
                "type" : "attribute",
                "label" : "Soglia 3, °C (Gravità: Bassa)",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "temperatureAlarmThreshold",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.7443815451517306,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "humidityAlarmFlag",
                "type" : "attribute",
                "label" : "Abilita soglie Umidità",
                "color" : "#3f51b5",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "humidityAlarmThreshold",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.5238305725203223,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "humidityAlarmThreshold",
                "type" : "attribute",
                "label" : "Soglia 1, % (Gravità: Critica)",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.25333590115709903,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "humidityAlarmThresholdMedium",
                "type" : "attribute",
                "label" : "Soglia 2, % (Gravità: Media)",
                "color" : "#9c27b0",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "humidityAlarmThreshold",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.7745723052800844,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "humidityAlarmThresholdLow",
                "type" : "attribute",
                "label" : "Soglia 3, % (Gravità: Bassa)",
                "color" : "#8bc34a",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "humidityAlarmThreshold",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.9375434473956432,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "co2AlarmFlag",
                "type" : "attribute",
                "label" : "Abilita soglie CO2",
                "color" : "#ffeb3b",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "co2AlarmThreshold",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.4940386003371151,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "co2AlarmThreshold",
                "type" : "attribute",
                "label" : "Soglia 1, % (Gravità: Critica)",
                "color" : "#03a9f4",
                "settings" : { },
                "_hash" : 0.5525217380090091,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "co2AlarmThresholdMedium",
                "type" : "attribute",
                "label" : "Soglia 2, % (Gravità: Media)",
                "color" : "#ff9800",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "co2AlarmThreshold",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.1352977902710748,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "co2AlarmThresholdLow",
                "type" : "attribute",
                "label" : "Soglia 3, % (Gravità: Bassa)",
                "color" : "#673ab7",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "co2AlarmThreshold",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.11205720670895913,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "soundAlarmFlag",
                "type" : "attribute",
                "label" : "Abilita soglia rumore alto",
                "color" : "#2962ff",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "soundAlarmThreshold",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.05749839930216716,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "soundAlarmThreshold",
                "type" : "attribute",
                "label" : "Soglia 1, db (Gravità: Critica)",
                "color" : "#00c853",
                "settings" : { },
                "_hash" : 0.8059801037527436,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "soundAlarmThresholdMedium",
                "type" : "attribute",
                "label" : "Soglia 2, % (Gravità: Media)",
                "color" : "#d50000",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "soundAlarmThreshold",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.7673320592305062,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "soundAlarmThresholdLow",
                "type" : "attribute",
                "label" : "Soglia 3, % (Gravità: Bassa)",
                "color" : "#ffab00",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "soundAlarmThreshold",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.8391125155818839,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "widgetTitle" : "Soglie Allarmi",
              "showResultMessage" : false,
              "showActionButtons" : true,
              "updateAllValues" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2,
              "columnGap" : 10,
              "rowGap" : 5
            },
            "title" : "Soglie allarmi",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "18px",
              "fontWeight" : 600,
              "padding" : "5px 10px 5px 5px",
              "textTransform" : "capitalize"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleIcon" : null,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "displayTimewindow" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "Nessun sensore presente",
            "margin" : "0px"
          },
          "id" : "a790e784-793c-a2a3-a87f-92d50e4183ac",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "e7636d5f-4bd0-b0b3-637c-86977b6bedac" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "label",
                "type" : "entityField",
                "label" : "Nome Sensore",
                "color" : "#ffeb3b",
                "settings" : { },
                "_hash" : 0.398233505118019,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_A_Name",
                "type" : "attribute",
                "label" : "Nome Fase A",
                "color" : "#3f51b5",
                "settings" : { },
                "_hash" : 0.8775241961172449,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_B_Name",
                "type" : "attribute",
                "label" : "Nome Fase B",
                "color" : "#e91e63",
                "settings" : { },
                "_hash" : 0.778951854680034,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_C_Name",
                "type" : "attribute",
                "label" : "Nome Fase C",
                "color" : "#ffeb3b",
                "settings" : { },
                "_hash" : 0.976039155418555,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_A_threshold",
                "type" : "attribute",
                "label" : "Abilita soglia fase A",
                "color" : "#607d8b",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "Phase_A_Critical",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.4258742033002507,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_A_Critical",
                "type" : "attribute",
                "label" : "Soglia Critica fase A",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.9805857684807593,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_B_threshold",
                "type" : "attribute",
                "label" : "Abilita soglia fase B",
                "color" : "#9c27b0",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "Phase_B_Critical",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.6720448030891815,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_B_Critical",
                "type" : "attribute",
                "label" : "Soglia Critica fase B",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.47816087026973864,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_C_threshold",
                "type" : "attribute",
                "label" : "Abilita soglia fase C",
                "color" : "#8bc34a",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "booleanSwitch",
                  "required" : false,
                  "isEditable" : "editable",
                  "disabledOnDataKey" : "Phase_C_threshold",
                  "slideToggleLabelPosition" : "after",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.11014904080985688,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_C_Critical",
                "type" : "attribute",
                "label" : "Soglia Critica fase C",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.8202354091151349,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showResultMessage" : false,
              "showActionButtons" : true,
              "updateAllValues" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "New Update Multiple Attributes",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "margin" : "0px",
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "e7636d5f-4bd0-b0b3-637c-86977b6bedac",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "4026e9c0-baeb-0985-a388-4c4e2bc263a4" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "humidity",
                "type" : "timeseries",
                "label" : "Umidità",
                "color" : "#8BC34A",
                "settings" : { },
                "_hash" : 0.4235779663804764,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              },
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 86400000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 300000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "legend" : {
                "show" : true,
                "position" : "nw",
                "backgroundColor" : "#f0f0f0",
                "backgroundOpacity" : 0.85,
                "labelBoxBorderColor" : "rgba(1, 1, 1, 0.45)"
              },
              "decimals" : 1,
              "stack" : false,
              "tooltipIndividual" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Grafico",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "4026e9c0-baeb-0985-a388-4c4e2bc263a4",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "b8104f9f-a9db-c268-7ed2-10df1ea9513c" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "F1",
                "type" : "timeseries",
                "label" : "F1",
                "color" : "#ffeb3b",
                "settings" : { },
                "_hash" : 0.4877656951515372,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "F2",
                "type" : "timeseries",
                "label" : "F2",
                "color" : "#03a9f4",
                "settings" : { },
                "_hash" : 0.4162833649368609
              }, {
                "name" : "F3",
                "type" : "timeseries",
                "label" : "F3",
                "color" : "#ff9800",
                "settings" : { },
                "_hash" : 0.8233807196032152
              }, {
                "name" : "F23",
                "type" : "timeseries",
                "label" : "F23",
                "color" : "#673ab7",
                "settings" : { },
                "_hash" : 0.5503591544631212
              }, {
                "name" : "F1cost",
                "type" : "timeseries",
                "label" : "F1cost",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.9243936124625618
              }, {
                "name" : "F2cost",
                "type" : "timeseries",
                "label" : "F2cost",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.3699464072174079
              }, {
                "name" : "F3cost",
                "type" : "timeseries",
                "label" : "F3cost",
                "color" : "#8bc34a",
                "settings" : { },
                "_hash" : 0.2006359702454119
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              },
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 3600000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 8000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "enableSelection" : true,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "grid" : {
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1,
                "color" : "#545454",
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : null,
                "max" : null,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 0,
                "ticksFormatter" : ""
              },
              "shadowSize" : 4,
              "smoothLines" : false,
              "comparisonEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : true,
                "showTotal" : true,
                "showLatest" : false
              },
              "customLegendEnabled" : false
            },
            "title" : "Stato Corrente",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "b8104f9f-a9db-c268-7ed2-10df1ea9513c",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "a2338a02-4db2-aa6a-b57e-1414f2fb2b6b" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "temperature",
                "type" : "timeseries",
                "label" : "Temperatura",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8356206308473006,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "setTemperature",
                "type" : "timeseries",
                "label" : "Temperatura Impostata",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.9555473955027456,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 3600000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 300000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "grid" : {
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1,
                "color" : "#545454",
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : null,
                "max" : null,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 1,
                "ticksFormatter" : ""
              },
              "shadowSize" : 4,
              "smoothLines" : false,
              "comparisonEnabled" : false,
              "xaxisSecond" : {
                "axisPosition" : "top",
                "title" : null,
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Grafico",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1020,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true,
            "units" : "° C",
            "decimals" : 1
          },
          "row" : 0,
          "col" : 0,
          "id" : "a2338a02-4db2-aa6a-b57e-1414f2fb2b6b",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "5ba6e3de-25f5-36f8-670e-651c3ab7a736" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "status",
                "type" : "timeseries",
                "label" : "Stato",
                "color" : "#2196f3",
                "settings" : {
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "excludeFromStacking" : false,
                  "showLines" : true,
                  "lineWidth" : 1,
                  "fillLines" : true,
                  "showPoints" : false,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "comparisonSettings" : {
                    "showValuesForComparison" : true,
                    "comparisonValuesLabel" : "",
                    "color" : ""
                  },
                  "thresholds" : [ ]
                },
                "_hash" : 0.5389315620341646,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : false,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 3600000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 300000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "tooltipValueFormatter" : "var t = value*100;\nreturn 'Accesa il '+t+'% del tempo.'",
              "grid" : {
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1,
                "color" : "#545454",
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : 0,
                "max" : 1,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 0,
                "ticksFormatter" : "if (value > 0) {\r\n  return 'Acceso';\r\n} else {\r\n  return 'Spento';\r\n}"
              },
              "shadowSize" : 4,
              "smoothLines" : false,
              "comparisonEnabled" : false,
              "xaxisSecond" : {
                "axisPosition" : "top",
                "title" : null,
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Grafico",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "5ba6e3de-25f5-36f8-670e-651c3ab7a736",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "e0ea95bd-bf40-ac4d-e588-9f9a7e8b7b6f" : {
          "type" : "latest",
          "sizeX" : 11,
          "sizeY" : 16,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "attribute",
                "label" : "Nome sensore",
                "color" : "#e91e63",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "editable",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.19353574854107936,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "setNewTemperature",
                "type" : "attribute",
                "label" : "Imposta la temperatura desiderata",
                "color" : "#4caf50",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "integer",
                  "required" : false,
                  "isEditable" : "editable",
                  "step" : 1,
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.7437631424011575,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "widgetTitle" : "Soglie Allarmi",
              "showResultMessage" : true,
              "showActionButtons" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2
            },
            "title" : "Soglie allarmi",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "18px",
              "fontWeight" : 600,
              "padding" : "5px 10px 5px 5px",
              "textTransform" : "capitalize"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleIcon" : null,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "displayTimewindow" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "Nessun sensore presente",
            "margin" : "0px"
          },
          "id" : "e0ea95bd-bf40-ac4d-e588-9f9a7e8b7b6f",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "b3d89468-f2c3-d220-1056-701b58cb065d" : {
          "type" : "static",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"my-div\" align=\"center\" onload=\"LoadOnce\">\r\n  <img src=\"https://cam.aangstrom.it/api/banco_salumi?bbox=1\" hight=\"90%\" width=\"100%\" /></div>\r\n<script>\r\n\r\nfunction LoadOnce() \r\n{ \r\nwindow.location.reload(); \r\n} \r\n\r\n\t</script>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"
            },
            "title" : "New HTML Card",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "b3d89468-f2c3-d220-1056-701b58cb065d",
          "typeFullFqn" : "system.cards.html_card"
        },
        "bcad8ebf-761b-de4c-b254-9f5e8f818791" : {
          "type" : "static",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<!--<div align=\"center\">\n    <img src=\"https://cam.aangstrom.it/api/barriera_cassa?h=1080&amp;fps=30\" height=\"100%\" width=\"100%\" />\n</div>-->\n<iframe src=\"https://cam.aangstrom.it/api/barriera_cassa?h=480\" height=\"100%\" width=\"100%\"></iframe>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"
            },
            "title" : "New HTML Card",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "bcad8ebf-761b-de4c-b254-9f5e8f818791",
          "typeFullFqn" : "system.cards.html_card"
        },
        "bc0e336e-103b-97b4-d169-2dcb7a3a046f" : {
          "type" : "static",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div align=\"center\">\n    <img src=\"https://cam.aangstrom.it/api/mobilee-cam?h=720\" hight=\"100%\" width=\"100%\" />\n</div>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"
            },
            "title" : "New HTML Card",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "bc0e336e-103b-97b4-d169-2dcb7a3a046f",
          "typeFullFqn" : "system.cards.html_card"
        },
        "b1e8e69e-58ed-7a59-2625-6f50cc1a3585" : {
          "type" : "static",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div align=\"center\">\n    <img src=\"https://cam.aangstrom.it/api/test-2-6?bbox=1\" hight=\"100%\" width=\"100%\" />\n</div>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"
            },
            "title" : "New HTML Card",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "b1e8e69e-58ed-7a59-2625-6f50cc1a3585",
          "typeFullFqn" : "system.cards.html_card"
        },
        "45332919-9627-b5bd-0a83-cd440d1dcdc0" : {
          "type" : "static",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div align=\"center\">\n    <img src=\"https://cam.aangstrom.it/api/test-2-7?bbox=1\" hight=\"100%\" width=\"100%\"/>\n</div>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}"
            },
            "title" : "New HTML Card",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "45332919-9627-b5bd-0a83-cd440d1dcdc0",
          "typeFullFqn" : "system.cards.html_card"
        },
        "df2f0412-4139-3105-179c-d79a0238611e" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Guasto</h1>\n    <i class=\"fa fa-cogs\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    \n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#facc15;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Nuova Segnalazione</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Guasto</span><br>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Oggetto</mat-label>\n                <input matInput formControlName=\"oggetto\" required>\n            </mat-form-field>\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\n                  <mat-label>Data inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\n                  <mat-hint>GG/MM/AAAA</mat-hint>\n                </mat-form-field>\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\n                  <mat-label>Ora inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\n                </mat-form-field>\n            </section>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Durata</mat-label>\n                <input matInput formControlName=\"durata\" required>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Note</mat-label>\n              <textarea matInput formControlName=\"note\"></textarea>\n            </mat-form-field>\n            <!--<mat-form-field appearance=\"fill\">\n                <mat-label>Registrato dall'utente</mat-label>\n                <input matInput formControlName=\"user\" required>\n            </mat-form-field>-->\n        </div>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancella\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Invia\n        </button>\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nvar user = widgetContext.currentUser.sub;\nconsole.log(user);\nlet segnalazione = \"Guasto\";\n\nopenAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     oggetto: [null, [vm.validators.required]],\n     eventDate:[null, [vm.validators.required]],\n     eventTime:[null, [vm.validators.required]],\n     durata:[null, [vm.validators.required]],\n     note: [\"\"]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        formData.eventDate.setHours(formData.eventTime.getHours());\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\n        vm.addEntityFormGroup.markAsPristine();\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n        // console.log(\"data: \",data)\n            // widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error);\n        });\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b1cb8f72-0cc1-654a-dc07-80ab5ffa429b"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "margin" : "0px"
          },
          "row" : 0,
          "col" : 0,
          "id" : "df2f0412-4139-3105-179c-d79a0238611e",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "0c74056e-c9c9-0724-dbf0-dc987bfa5e5e" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Fermo Generico</h1>\n    <i class=\"fa fa-pause\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#84cc16;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Nuova Segnalazione</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\r\n    </mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Fermo Generico</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Oggetto</mat-label>\r\n                <input matInput formControlName=\"oggetto\" required>\r\n            </mat-form-field>\r\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\r\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\r\n                  <mat-label>Data inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\r\n                  <mat-hint>GG/MM/AAAA</mat-hint>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\r\n                  <mat-label>Ora inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\r\n                </mat-form-field>\r\n            </section>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Durata</mat-label>\r\n                <input matInput formControlName=\"durata\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Note</mat-label>\r\n              <textarea matInput formControlName=\"note\"></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Registrato dall'utente</mat-label>\r\n                <input matInput formControlName=\"user\" required>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\n\r\nlet segnalazione = \"Fermo Generico\";\r\n    openAddEntityDialog();\r\n\r\nfunction openAddEntityDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\r\n}\r\n\r\nfunction AddEntityDialogController(instance) {\r\n    let vm = instance;\r\n    vm.addEntityFormGroup = vm.fb.group({\r\n     oggetto: [null, [vm.validators.required]],\r\n     eventDate:[null, [vm.validators.required]],\r\n     eventTime:[null, [vm.validators.required]],\r\n     durata:[null, [vm.validators.required]],\r\n     user: [null, [vm.validators.required]],\r\n     note: [\"\"]\r\n    });\r\n\r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    vm.save = function() {\r\n        var formData=vm.addEntityFormGroup.value;\r\n        formData.eventDate.setHours(formData.eventTime.getHours());\r\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\r\n        vm.addEntityFormGroup.markAsPristine();\r\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\r\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\r\n        {\r\n        // console.log(\"data: \",data)\r\n            // widgetContext.updateAliases();\r\n            vm.dialogRef.close(null);\r\n        },function(error){\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n}\r\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c4dbda5b-4661-cda0-011a-57143dab10d4"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "0c74056e-c9c9-0724-dbf0-dc987bfa5e5e",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "a9491cbe-0511-9b5f-64f1-8443051b7c93" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Manutenzione</h1>\n    <i class=\"fa fa-life-ring\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:blue;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Nuova Segnalazione</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\r\n    </mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Manutenzione</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Oggetto</mat-label>\r\n                <input matInput formControlName=\"oggetto\" required>\r\n            </mat-form-field>\r\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\r\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\r\n                  <mat-label>Data inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\r\n                  <mat-hint>GG/MM/AAAA</mat-hint>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\r\n                  <mat-label>Ora inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\r\n                </mat-form-field>\r\n            </section>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Durata</mat-label>\r\n                <input matInput formControlName=\"durata\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Note</mat-label>\r\n              <textarea matInput formControlName=\"note\"></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Registrato dall'utente</mat-label>\r\n                <input matInput formControlName=\"user\" required>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\n\r\nlet segnalazione = \"Manutenzione\";\r\n    openAddEntityDialog();\r\n\r\nfunction openAddEntityDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\r\n}\r\n\r\nfunction AddEntityDialogController(instance) {\r\n    let vm = instance;\r\n    vm.addEntityFormGroup = vm.fb.group({\r\n     oggetto: [null, [vm.validators.required]],\r\n     eventDate:[null, [vm.validators.required]],\r\n     eventTime:[null, [vm.validators.required]],\r\n     durata:[null, [vm.validators.required]],\r\n     user: [null, [vm.validators.required]],\r\n     note: [\"\"]\r\n    });\r\n\r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    vm.save = function() {\r\n        var formData=vm.addEntityFormGroup.value;\r\n        formData.eventDate.setHours(formData.eventTime.getHours());\r\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\r\n        vm.addEntityFormGroup.markAsPristine();\r\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\r\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\r\n        {\r\n        // console.log(\"data: \",data)\r\n            // widgetContext.updateAliases();\r\n            vm.dialogRef.close(null);\r\n        },function(error){\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n}\r\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c4dbda5b-4661-cda0-011a-57143dab10d4"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "a9491cbe-0511-9b5f-64f1-8443051b7c93",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "2e19fc80-477a-87ac-4ec6-3f3bad3ea451" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Taratura</h1>\n    <i class=\"fa fa-sliders\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#ef4444;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Nuova Segnalazione</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\r\n    </mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Taratura</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Oggetto</mat-label>\r\n                <input matInput formControlName=\"oggetto\" required>\r\n            </mat-form-field>\r\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\r\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\r\n                  <mat-label>Data inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\r\n                  <mat-hint>GG/MM/AAAA</mat-hint>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\r\n                  <mat-label>Ora inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\r\n                </mat-form-field>\r\n            </section>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Durata</mat-label>\r\n                <input matInput formControlName=\"durata\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Note</mat-label>\r\n              <textarea matInput formControlName=\"note\"></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Registrato dall'utente</mat-label>\r\n                <input matInput formControlName=\"user\" required>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\n\r\nlet segnalazione = \"Taratura\";\r\n    openAddEntityDialog();\r\n\r\nfunction openAddEntityDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\r\n}\r\n\r\nfunction AddEntityDialogController(instance) {\r\n    let vm = instance;\r\n    vm.addEntityFormGroup = vm.fb.group({\r\n     oggetto: [null, [vm.validators.required]],\r\n     eventDate:[null, [vm.validators.required]],\r\n     eventTime:[null, [vm.validators.required]],\r\n     durata:[null, [vm.validators.required]],\r\n     user: [null, [vm.validators.required]],\r\n     note: [\"\"]\r\n    });\r\n\r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    vm.save = function() {\r\n        var formData=vm.addEntityFormGroup.value;\r\n        formData.eventDate.setHours(formData.eventTime.getHours());\r\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\r\n        vm.addEntityFormGroup.markAsPristine();\r\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\r\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\r\n        {\r\n        // console.log(\"data: \",data)\r\n            // widgetContext.updateAliases();\r\n            vm.dialogRef.close(null);\r\n        },function(error){\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n}\r\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c4dbda5b-4661-cda0-011a-57143dab10d4"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "2e19fc80-477a-87ac-4ec6-3f3bad3ea451",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "4c3a2bad-49ac-65aa-7d6b-a818170ede34" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Installazione Ricambio</h1>\n    <i class=\"fa fa-wrench\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#0ea5e9;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Nuova Segnalazione</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\r\n    </mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Installazione Ricambio</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Oggetto</mat-label>\r\n                <input matInput formControlName=\"oggetto\" required>\r\n            </mat-form-field>\r\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\r\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\r\n                  <mat-label>Data inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\r\n                  <mat-hint>GG/MM/AAAA</mat-hint>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\r\n                  <mat-label>Ora inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\r\n                </mat-form-field>\r\n            </section>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Durata</mat-label>\r\n                <input matInput formControlName=\"durata\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Note</mat-label>\r\n              <textarea matInput formControlName=\"note\"></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Registrato dall'utente</mat-label>\r\n                <input matInput formControlName=\"user\" required>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\n\r\nlet segnalazione = \"Installazione Ricambio\";\r\n    openAddEntityDialog();\r\n\r\nfunction openAddEntityDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\r\n}\r\n\r\nfunction AddEntityDialogController(instance) {\r\n    let vm = instance;\r\n    vm.addEntityFormGroup = vm.fb.group({\r\n     oggetto: [null, [vm.validators.required]],\r\n     eventDate:[null, [vm.validators.required]],\r\n     eventTime:[null, [vm.validators.required]],\r\n     durata:[null, [vm.validators.required]],\r\n     user: [null, [vm.validators.required]],\r\n     note: [\"\"]\r\n    });\r\n\r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    vm.save = function() {\r\n        var formData=vm.addEntityFormGroup.value;\r\n        formData.eventDate.setHours(formData.eventTime.getHours());\r\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\r\n        vm.addEntityFormGroup.markAsPristine();\r\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\r\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\r\n        {\r\n        // console.log(\"data: \",data)\r\n            // widgetContext.updateAliases();\r\n            vm.dialogRef.close(null);\r\n        },function(error){\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n}\r\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c4dbda5b-4661-cda0-011a-57143dab10d4"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "4c3a2bad-49ac-65aa-7d6b-a818170ede34",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "0dcc0241-751b-7c20-d50e-957713f5cf20" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Cambio Produzione</h1>\n    <i class=\"fa fa-refresh\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#a3e635;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Nuova Segnalazione</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\r\n    </mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Cambio Produzione</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Oggetto</mat-label>\r\n                <input matInput formControlName=\"oggetto\" required>\r\n            </mat-form-field>\r\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\r\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\r\n                  <mat-label>Data inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\r\n                  <mat-hint>GG/MM/AAAA</mat-hint>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\r\n                  <mat-label>Ora inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\r\n                </mat-form-field>\r\n            </section>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Durata</mat-label>\r\n                <input matInput formControlName=\"durata\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Note</mat-label>\r\n              <textarea matInput formControlName=\"note\"></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Registrato dall'utente</mat-label>\r\n                <input matInput formControlName=\"user\" required>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\n\r\nlet segnalazione = \"Cambio Produzione\";\r\n    openAddEntityDialog();\r\n\r\nfunction openAddEntityDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\r\n}\r\n\r\nfunction AddEntityDialogController(instance) {\r\n    let vm = instance;\r\n    vm.addEntityFormGroup = vm.fb.group({\r\n     oggetto: [null, [vm.validators.required]],\r\n     eventDate:[null, [vm.validators.required]],\r\n     eventTime:[null, [vm.validators.required]],\r\n     durata:[null, [vm.validators.required]],\r\n     user: [null, [vm.validators.required]],\r\n     note: [\"\"]\r\n    });\r\n\r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    vm.save = function() {\r\n        var formData=vm.addEntityFormGroup.value;\r\n        formData.eventDate.setHours(formData.eventTime.getHours());\r\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\r\n        vm.addEntityFormGroup.markAsPristine();\r\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\r\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\r\n        {\r\n        // console.log(\"data: \",data)\r\n            // widgetContext.updateAliases();\r\n            vm.dialogRef.close(null);\r\n        },function(error){\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n}\r\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c4dbda5b-4661-cda0-011a-57143dab10d4"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "0dcc0241-751b-7c20-d50e-957713f5cf20",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "47830193-b930-7e43-2c68-afa915daf7a8" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Setup Macchina</h1>\n    <i class=\"fa fa-history\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#fde047;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Nuova Segnalazione</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\r\n    </mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Setup Macchina</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Oggetto</mat-label>\r\n                <input matInput formControlName=\"oggetto\" required>\r\n            </mat-form-field>\r\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\r\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\r\n                  <mat-label>Data inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\r\n                  <mat-hint>GG/MM/AAAA</mat-hint>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\r\n                  <mat-label>Ora inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\r\n                </mat-form-field>\r\n            </section>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Durata</mat-label>\r\n                <input matInput formControlName=\"durata\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Note</mat-label>\r\n              <textarea matInput formControlName=\"note\"></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Registrato dall'utente</mat-label>\r\n                <input matInput formControlName=\"user\" required>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\n\r\nlet segnalazione = \"Setup Macchina\";\r\n    openAddEntityDialog();\r\n\r\nfunction openAddEntityDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\r\n}\r\n\r\nfunction AddEntityDialogController(instance) {\r\n    let vm = instance;\r\n    vm.addEntityFormGroup = vm.fb.group({\r\n     oggetto: [null, [vm.validators.required]],\r\n     eventDate:[null, [vm.validators.required]],\r\n     eventTime:[null, [vm.validators.required]],\r\n     durata:[null, [vm.validators.required]],\r\n     user: [null, [vm.validators.required]],\r\n     note: [\"\"]\r\n    });\r\n\r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    vm.save = function() {\r\n        var formData=vm.addEntityFormGroup.value;\r\n        formData.eventDate.setHours(formData.eventTime.getHours());\r\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\r\n        vm.addEntityFormGroup.markAsPristine();\r\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\r\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\r\n        {\r\n        // console.log(\"data: \",data)\r\n            // widgetContext.updateAliases();\r\n            vm.dialogRef.close(null);\r\n        },function(error){\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n}\r\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c4dbda5b-4661-cda0-011a-57143dab10d4"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "47830193-b930-7e43-2c68-afa915daf7a8",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "6c3709be-dded-280f-eca5-f546269e2a9a" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Mancanza Energia</h1>\n    <i class=\"fa fa-battery-empty\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#86efac;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Nuova Segnalazione</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\r\n    </mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Mancanza Energia</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Oggetto</mat-label>\r\n                <input matInput formControlName=\"oggetto\" required>\r\n            </mat-form-field>\r\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\r\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\r\n                  <mat-label>Data inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\r\n                  <mat-hint>GG/MM/AAAA</mat-hint>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\r\n                  <mat-label>Ora inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\r\n                </mat-form-field>\r\n            </section>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Durata</mat-label>\r\n                <input matInput formControlName=\"durata\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Note</mat-label>\r\n              <textarea matInput formControlName=\"note\"></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Registrato dall'utente</mat-label>\r\n                <input matInput formControlName=\"user\" required>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\n\r\nlet segnalazione = \"Mancanza Energia\";\r\n    openAddEntityDialog();\r\n\r\nfunction openAddEntityDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\r\n}\r\n\r\nfunction AddEntityDialogController(instance) {\r\n    let vm = instance;\r\n    vm.addEntityFormGroup = vm.fb.group({\r\n     oggetto: [null, [vm.validators.required]],\r\n     eventDate:[null, [vm.validators.required]],\r\n     eventTime:[null, [vm.validators.required]],\r\n     durata:[null, [vm.validators.required]],\r\n     user: [null, [vm.validators.required]],\r\n     note: [\"\"]\r\n    });\r\n\r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    vm.save = function() {\r\n        var formData=vm.addEntityFormGroup.value;\r\n        formData.eventDate.setHours(formData.eventTime.getHours());\r\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\r\n        vm.addEntityFormGroup.markAsPristine();\r\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\r\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\r\n        {\r\n        // console.log(\"data: \",data)\r\n            // widgetContext.updateAliases();\r\n            vm.dialogRef.close(null);\r\n        },function(error){\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n}\r\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c4dbda5b-4661-cda0-011a-57143dab10d4"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "6c3709be-dded-280f-eca5-f546269e2a9a",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "d5f5fac1-c3b5-8fe9-571b-c32154e5f5b3" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Incidente Personale</h1>\n    <i class=\"fa fa-medkit\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:red;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\r\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\r\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\r\n        <h2>Nuova Segnalazione</h2>\r\n        <span fxFlex></span>\r\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\r\n            <mat-icon class=\"material-icons\">close</mat-icon>\r\n        </button>\r\n    </mat-toolbar>\r\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\r\n    </mat-progress-bar>\r\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\r\n    <div mat-dialog-content fxLayout=\"column\">\r\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\r\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Incidente Personale</span><br>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Oggetto</mat-label>\r\n                <input matInput formControlName=\"oggetto\" required>\r\n            </mat-form-field>\r\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\r\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\r\n                  <mat-label>Data inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\r\n                  <mat-hint>GG/MM/AAAA</mat-hint>\r\n                </mat-form-field>\r\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\r\n                  <mat-label>Ora inizio</mat-label>\r\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\r\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\r\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\r\n                </mat-form-field>\r\n            </section>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Durata</mat-label>\r\n                <input matInput formControlName=\"durata\" required>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Note</mat-label>\r\n              <textarea matInput formControlName=\"note\"></textarea>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\">\r\n                <mat-label>Registrato dall'utente</mat-label>\r\n                <input matInput formControlName=\"user\" required>\r\n            </mat-form-field>\r\n        </div>\r\n    </div>\r\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\r\n        <button mat-button color=\"primary\"\r\n                type=\"button\"\r\n                [disabled]=\"(isLoading$ | async)\"\r\n                (click)=\"cancel()\" cdkFocusInitial>\r\n            Cancella\r\n        </button>\r\n        <button mat-button mat-raised-button color=\"primary\"\r\n                type=\"submit\"\r\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\r\n            Invia\r\n        </button>\r\n    </div>\r\n</form>\r\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\n\r\nlet segnalazione = \"Incidente Personale\";\r\n    openAddEntityDialog();\r\n\r\nfunction openAddEntityDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\r\n}\r\n\r\nfunction AddEntityDialogController(instance) {\r\n    let vm = instance;\r\n    vm.addEntityFormGroup = vm.fb.group({\r\n     oggetto: [null, [vm.validators.required]],\r\n     eventDate:[null, [vm.validators.required]],\r\n     eventTime:[null, [vm.validators.required]],\r\n     durata:[null, [vm.validators.required]],\r\n     user: [null, [vm.validators.required]],\r\n     note: [\"\"]\r\n    });\r\n\r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    vm.save = function() {\r\n        var formData=vm.addEntityFormGroup.value;\r\n        formData.eventDate.setHours(formData.eventTime.getHours());\r\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\r\n        vm.addEntityFormGroup.markAsPristine();\r\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\r\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\r\n        {\r\n        // console.log(\"data: \",data)\r\n            // widgetContext.updateAliases();\r\n            vm.dialogRef.close(null);\r\n        },function(error){\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n}\r\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c4dbda5b-4661-cda0-011a-57143dab10d4"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "d5f5fac1-c3b5-8fe9-571b-c32154e5f5b3",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "857ea619-eef6-3dcd-4be6-8a1ac57a09ed" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Maltempo</h1>\n    <i class=\"fa fa-snowflake-o\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#a5f3fc;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Nuova Segnalazione</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Maltempo</span><br>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Oggetto</mat-label>\n                <input matInput formControlName=\"oggetto\" required>\n            </mat-form-field>\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\n                  <mat-label>Data inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\n                  <mat-hint>GG/MM/AAAA</mat-hint>\n                </mat-form-field>\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\n                  <mat-label>Ora inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\n                </mat-form-field>\n            </section>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Durata</mat-label>\n                <input matInput formControlName=\"durata\" required>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Note</mat-label>\n              <textarea matInput formControlName=\"note\"></textarea>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Registrato dall'utente</mat-label>\n                <input matInput formControlName=\"user\" required>\n            </mat-form-field>\n        </div>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancella\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Invia\n        </button>\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nlet segnalazione = \"Maltempo\";\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     oggetto: [null, [vm.validators.required]],\n     eventDate:[null, [vm.validators.required]],\n     eventTime:[null, [vm.validators.required]],\n     durata:[null, [vm.validators.required]],\n     user: [null, [vm.validators.required]],\n     note: [\"\"]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        formData.eventDate.setHours(formData.eventTime.getHours());\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\n        vm.addEntityFormGroup.markAsPristine();\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n        // console.log(\"data: \",data)\n            // widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error);\n        });\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b1cb8f72-0cc1-654a-dc07-80ab5ffa429b"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "857ea619-eef6-3dcd-4be6-8a1ac57a09ed",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "4a7814e4-d453-98c9-1bf9-14082c5d0aa9" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Incendio</h1>\n    <i class=\"fa fa-fire\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#ea580c;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Nuova Segnalazione</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Incendio</span><br>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Oggetto</mat-label>\n                <input matInput formControlName=\"oggetto\" required>\n            </mat-form-field>\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\n                  <mat-label>Data inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\n                  <mat-hint>GG/MM/AAAA</mat-hint>\n                </mat-form-field>\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\n                  <mat-label>Ora inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\n                </mat-form-field>\n            </section>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Durata</mat-label>\n                <input matInput formControlName=\"durata\" required>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Note</mat-label>\n              <textarea matInput formControlName=\"note\"></textarea>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Registrato dall'utente</mat-label>\n                <input matInput formControlName=\"user\" required>\n            </mat-form-field>\n        </div>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancella\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Invia\n        </button>\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nlet segnalazione = \"Incendio\";\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     oggetto: [null, [vm.validators.required]],\n     eventDate:[null, [vm.validators.required]],\n     eventTime:[null, [vm.validators.required]],\n     durata:[null, [vm.validators.required]],\n     user: [null, [vm.validators.required]],\n     note: [\"\"]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        formData.eventDate.setHours(formData.eventTime.getHours());\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\n        vm.addEntityFormGroup.markAsPristine();\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n        // console.log(\"data: \",data)\n            // widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error);\n        });\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b1cb8f72-0cc1-654a-dc07-80ab5ffa429b"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "4a7814e4-d453-98c9-1bf9-14082c5d0aa9",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "145eaac8-abec-9d9f-96fe-6fcef5582ac8" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Macchina non disponibile</h1>\n    <i class=\"fa fa-ban\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 20px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:red;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Nuova Segnalazione</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Macchina non disponibile</span><br>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Oggetto</mat-label>\n                <input matInput formControlName=\"oggetto\" required>\n            </mat-form-field>\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\n                  <mat-label>Data inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\n                  <mat-hint>GG/MM/AAAA</mat-hint>\n                </mat-form-field>\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\n                  <mat-label>Ora inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\n                </mat-form-field>\n            </section>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Durata</mat-label>\n                <input matInput formControlName=\"durata\" required>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Note</mat-label>\n              <textarea matInput formControlName=\"note\"></textarea>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Registrato dall'utente</mat-label>\n                <input matInput formControlName=\"user\" required>\n            </mat-form-field>\n        </div>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancella\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Invia\n        </button>\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nlet segnalazione = \"Macchina non disponibile\";\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     oggetto: [null, [vm.validators.required]],\n     eventDate:[null, [vm.validators.required]],\n     eventTime:[null, [vm.validators.required]],\n     durata:[null, [vm.validators.required]],\n     user: [null, [vm.validators.required]],\n     note: [\"\"]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        formData.eventDate.setHours(formData.eventTime.getHours());\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\n        vm.addEntityFormGroup.markAsPristine();\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n        // console.log(\"data: \",data)\n            // widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error);\n        });\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b1cb8f72-0cc1-654a-dc07-80ab5ffa429b"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "145eaac8-abec-9d9f-96fe-6fcef5582ac8",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "3ed9a8d0-4a1f-740b-e3d8-f906f2f3de13" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Allagamento</h1>\n    <i class=\"fa fa-tint\" aria-hidden=\"true\"></i>\n</div>\n",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#22d3ee;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Nuova Segnalazione</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Allagamento</span><br>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Oggetto</mat-label>\n                <input matInput formControlName=\"oggetto\" required>\n            </mat-form-field>\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\n                  <mat-label>Data inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\n                  <mat-hint>GG/MM/AAAA</mat-hint>\n                </mat-form-field>\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\n                  <mat-label>Ora inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\n                </mat-form-field>\n            </section>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Durata</mat-label>\n                <input matInput formControlName=\"durata\" required>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Note</mat-label>\n              <textarea matInput formControlName=\"note\"></textarea>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Registrato dall'utente</mat-label>\n                <input matInput formControlName=\"user\" required>\n            </mat-form-field>\n        </div>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancella\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Invia\n        </button>\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nlet segnalazione = \"Allagamento\";\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     oggetto: [null, [vm.validators.required]],\n     eventDate:[null, [vm.validators.required]],\n     eventTime:[null, [vm.validators.required]],\n     durata:[null, [vm.validators.required]],\n     user: [null, [vm.validators.required]],\n     note: [\"\"]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        formData.eventDate.setHours(formData.eventTime.getHours());\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\n        vm.addEntityFormGroup.markAsPristine();\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n        // console.log(\"data: \",data)\n            // widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error);\n        });\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b1cb8f72-0cc1-654a-dc07-80ab5ffa429b"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "3ed9a8d0-4a1f-740b-e3d8-f906f2f3de13",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "17e96f52-1338-954c-b389-fa6fa7fe0a4f" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Organizzazione</h1>\n    <i class=\"fa fa-users\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#84cc16;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Nuova Segnalazione</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Organizzazione</span><br>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Oggetto</mat-label>\n                <input matInput formControlName=\"oggetto\" required>\n            </mat-form-field>\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\n                  <mat-label>Data inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\n                  <mat-hint>GG/MM/AAAA</mat-hint>\n                </mat-form-field>\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\n                  <mat-label>Ora inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\n                </mat-form-field>\n            </section>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Durata</mat-label>\n                <input matInput formControlName=\"durata\" required>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Note</mat-label>\n              <textarea matInput formControlName=\"note\"></textarea>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Registrato dall'utente</mat-label>\n                <input matInput formControlName=\"user\" required>\n            </mat-form-field>\n        </div>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancella\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Invia\n        </button>\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nlet segnalazione = \"Organizzazione\";\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     oggetto: [null, [vm.validators.required]],\n     eventDate:[null, [vm.validators.required]],\n     eventTime:[null, [vm.validators.required]],\n     durata:[null, [vm.validators.required]],\n     user: [null, [vm.validators.required]],\n     note: [\"\"]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        formData.eventDate.setHours(formData.eventTime.getHours());\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\n        vm.addEntityFormGroup.markAsPristine();\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n        // console.log(\"data: \",data)\n            // widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error);\n        });\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b1cb8f72-0cc1-654a-dc07-80ab5ffa429b"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "17e96f52-1338-954c-b389-fa6fa7fe0a4f",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "230f02a4-27af-2cc4-656f-bc31ed90df8b" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Blackout</h1>\n    <i class=\"fa fa-bolt\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:#facc15;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Nuova Segnalazione</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Blackout</span><br>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Oggetto</mat-label>\n                <input matInput formControlName=\"oggetto\" required>\n            </mat-form-field>\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\n                  <mat-label>Data inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\n                  <mat-hint>GG/MM/AAAA</mat-hint>\n                </mat-form-field>\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\n                  <mat-label>Ora inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\n                </mat-form-field>\n            </section>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Durata</mat-label>\n                <input matInput formControlName=\"durata\" required>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Note</mat-label>\n              <textarea matInput formControlName=\"note\"></textarea>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Registrato dall'utente</mat-label>\n                <input matInput formControlName=\"user\" required>\n            </mat-form-field>\n        </div>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancella\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Invia\n        </button>\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nlet segnalazione = \"Blackout\";\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     oggetto: [null, [vm.validators.required]],\n     eventDate:[null, [vm.validators.required]],\n     eventTime:[null, [vm.validators.required]],\n     durata:[null, [vm.validators.required]],\n     user: [null, [vm.validators.required]],\n     note: [\"\"]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        formData.eventDate.setHours(formData.eventTime.getHours());\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\n        vm.addEntityFormGroup.markAsPristine();\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n        // console.log(\"data: \",data)\n            // widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error);\n        });\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b1cb8f72-0cc1-654a-dc07-80ab5ffa429b"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "230f02a4-27af-2cc4-656f-bc31ed90df8b",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "d106839c-ee98-aadd-36e5-e19bbf817512" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div id=\"segnalazione\" class='card'>\n    <h1>Nulla da fare</h1>\n    <i class=\"fa fa-question-circle-o\" aria-hidden=\"true\"></i>\n</div>",
              "cardCss" : "@media (min-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (max-width: 960px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n@media (min-width:960px) and (max-width: 1500px) {\n    .card {\n        font-size: 50px;\n    }\n    h1{\n        font-size: 22px;\n    }\n}\n.card {\n    font-weight: bold;\n    color: #999;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.card:hover{\n    transform: scale(0.9);\n}\nh1{\n    flex-wrap: wrap;\n    font-weight: bold;\n}\n.fa{\n    color:blue;\n}"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "segnalazione",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addEntityForm=\"ngForm\" [formGroup]=\"addEntityFormGroup\"\n      (ngSubmit)=\"save()\" class=\"add-entity-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Nuova Segnalazione</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px; width: 600px \" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <div fxLayout=\"column\" fxLayoutGap=\"2px\" fxLayout.md=\"column\" fxLayoutGap.md=\"0\">\n            <span style=\"font-size:20px;font-weight:bold;text-align:center;\">Nulla da fare</span><br>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Oggetto</mat-label>\n                <input matInput formControlName=\"oggetto\" required>\n            </mat-form-field>\n            <section fxLayout=\"row\" fxLayoutAlign=\"center\" fxLayoutGap=\"10px\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"0\">\n                <mat-form-field appearance=\"fill\" style=\"width: 300px\">\n                  <mat-label>Data inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"DatePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #DatePicker type=\"date\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\"  [matDatetimepicker]=\"DatePicker\" formControlName=\"eventDate\" required>\n                  <mat-hint>GG/MM/AAAA</mat-hint>\n                </mat-form-field>\n                <mat-form-field appearance=\"fill\"  style=\"width: 300px\">\n                  <mat-label>Ora inizio</mat-label>\n                  <mat-datetimepicker-toggle [for]=\"TimePicker\" matPrefix></mat-datetimepicker-toggle>\n                  <mat-datetimepicker #TimePicker type=\"time\" openOnFocus=\"true\"></mat-datetimepicker>\n                  <input matInput [disabled]=\"disabled\" [matDatetimepicker]=\"TimePicker\" formControlName=\"eventTime\" required><mat-hint>H/Min</mat-hint>\n                </mat-form-field>\n            </section>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Durata</mat-label>\n                <input matInput formControlName=\"durata\" required>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Note</mat-label>\n              <textarea matInput formControlName=\"note\"></textarea>\n            </mat-form-field>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Registrato dall'utente</mat-label>\n                <input matInput formControlName=\"user\" required>\n            </mat-form-field>\n        </div>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancella\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\">\n            Invia\n        </button>\n    </div>\n</form>\n",
                "customCss" : "/*=======================================================================*/\n/*==========  There are two examples: for edit and add entity  ==========*/\n/*=======================================================================*/\n/*========================  Edit entity example  ========================*/\n/*=======================================================================*/\n/*\n.edit-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.edit-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n/*========================================================================*/\n/*=========================  Add entity example  =========================*/\n/*========================================================================*/\n/*\n.add-entity-form .boolean-value-input {\n    padding-left: 5px;\n}\n\n.add-entity-form .boolean-value-input .checkbox-label {\n    margin-bottom: 8px;\n    color: rgba(0,0,0,0.54);\n    font-size: 12px;\n}\n\n.relations-list .header {\n    padding-right: 5px;\n    padding-bottom: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .header .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n    font-size: 12px;\n    font-weight: 700;\n    color: rgba(0, 0, 0, .54);\n    white-space: nowrap;\n}\n\n.relations-list .mat-form-field-infix {\n    width: auto !important;\n}\n\n.relations-list .body {\n    padding-right: 5px;\n    padding-bottom: 15px;\n    padding-left: 5px;\n}\n\n.relations-list .body .row {\n    padding-top: 5px;\n}\n\n.relations-list .body .cell {\n    padding-right: 5px;\n    padding-left: 5px;\n}\n\n.relations-list .body .md-button {\n    margin: 0;\n}\n*/\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nlet segnalazione = \"Nulla da fare\";\n    openAddEntityDialog();\n\nfunction openAddEntityDialog() {\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\n}\n\nfunction AddEntityDialogController(instance) {\n    let vm = instance;\n    vm.addEntityFormGroup = vm.fb.group({\n     oggetto: [null, [vm.validators.required]],\n     eventDate:[null, [vm.validators.required]],\n     eventTime:[null, [vm.validators.required]],\n     durata:[null, [vm.validators.required]],\n     user: [null, [vm.validators.required]],\n     note: [\"\"]\n    });\n\n    vm.cancel = function() {\n        vm.dialogRef.close(null);\n    };\n    vm.save = function() {\n        var formData=vm.addEntityFormGroup.value;\n        formData.eventDate.setHours(formData.eventTime.getHours());\n        formData.eventDate.setMinutes(formData.eventTime.getMinutes());\n        vm.addEntityFormGroup.markAsPristine();\n        var telData={\"ts\":formData.eventDate.valueOf(), \"values\":{\"maloreoggetto\":formData.oggetto, \"maloreuser\":formData.user, \"maloredurata\":formData.durata, \"malorenote\":formData.note, \"maloreevento\":segnalazione}};\n        widgetContext.http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/ANY?scope=ANY', telData).subscribe(data =>\n        {\n        // console.log(\"data: \",data)\n            // widgetContext.updateAliases();\n            vm.dialogRef.close(null);\n        },function(error){\n            console.log(error);\n        });\n    };\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "b1cb8f72-0cc1-654a-dc07-80ab5ffa429b"
              } ]
            },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "d106839c-ee98-aadd-36e5-e19bbf817512",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "3cda7c1b-99da-e48f-ac6d-b43394c6c374" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 6.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "maloreevento",
                "type" : "timeseries",
                "label" : "Evento",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.7122104850184456,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "maloreoggetto",
                "type" : "timeseries",
                "label" : "Oggetto",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.15538042078934922,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "maloredurata",
                "type" : "timeseries",
                "label" : "Durata",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.30461064727288734,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "malorenote",
                "type" : "timeseries",
                "label" : "Note",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.13138893438565713,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "maloreuser",
                "type" : "timeseries",
                "label" : "Utente segnalante",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.34750037308080106,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : [ ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 1,
              "history" : {
                "historyType" : 0,
                "timewindowMs" : 31536000000,
                "interval" : 1000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1674139049115,
                  "endTimeMs" : 1674225449115
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 400
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "enableSearch" : true,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "false",
              "showTimestamp" : true,
              "showMilliseconds" : false,
              "displayPagination" : false,
              "useEntityLabel" : false,
              "hideEmptyLines" : false,
              "disableStickyHeader" : false,
              "useRowStyleFunction" : false
            },
            "title" : "Storico Malori",
            "dropShadow" : false,
            "enableFullscreen" : true,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : { },
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "displayTimewindow" : true,
            "titleTooltip" : "",
            "enableDataExport" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "units" : "Nessun dato da visualizzare"
          },
          "row" : 0,
          "col" : 0,
          "id" : "3cda7c1b-99da-e48f-ac6d-b43394c6c374",
          "typeFullFqn" : "system.cards.timeseries_table"
        },
        "9fb5b60f-fe2b-1860-bb27-875af7ba1eff" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "person",
                "type" : "timeseries",
                "label" : "Persone",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8892552005589862,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 3600000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 300000
              },
              "aggregation" : {
                "type" : "MAX",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "grid" : {
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1,
                "color" : "#545454",
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : null,
                "max" : null,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 1,
                "ticksFormatter" : ""
              },
              "shadowSize" : 4,
              "smoothLines" : false,
              "comparisonEnabled" : false,
              "xaxisSecond" : {
                "axisPosition" : "top",
                "title" : null,
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Grafico",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1020,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true,
            "units" : "",
            "decimals" : 0
          },
          "row" : 0,
          "col" : 0,
          "id" : "9fb5b60f-fe2b-1860-bb27-875af7ba1eff",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "41f194b9-ad7b-f1ee-d26a-c3c6df14a65f" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "jacket",
                "type" : "timeseries",
                "label" : "Giubotti",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.5845987290609518,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#5df0ff",
            "color" : "rgba(255, 255, 255, 0.87)",
            "padding" : "16px",
            "settings" : {
              "labelPosition" : "top"
            },
            "title" : "New Simple card",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "units" : "",
            "decimals" : 0,
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : { },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "41f194b9-ad7b-f1ee-d26a-c3c6df14a65f",
          "typeFullFqn" : "system.cards.simple_card"
        },
        "b66aa9e9-a536-9bcb-491a-3a4f3cf8625a" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "helmet",
                "type" : "timeseries",
                "label" : "Caschi",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.5845987290609518,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#ffd256",
            "color" : "rgba(255, 255, 255, 0.87)",
            "padding" : "16px",
            "settings" : {
              "labelPosition" : "top"
            },
            "title" : "New Simple card",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "units" : "",
            "decimals" : 0,
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : { },
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "b66aa9e9-a536-9bcb-491a-3a4f3cf8625a",
          "typeFullFqn" : "system.cards.simple_card"
        },
        "c8179e09-b426-a989-5813-7ac39ce3cdea" : {
          "type" : "latest",
          "sizeX" : 11,
          "sizeY" : 16,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Nome",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "string",
                  "required" : false,
                  "isEditable" : "readonly",
                  "appearance" : "outline",
                  "subscriptSizing" : "fixed",
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.06574133384226966,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "stato",
                "type" : "attribute",
                "label" : "Stato",
                "color" : "#ffc107",
                "settings" : {
                  "dataKeyHidden" : false,
                  "dataKeyType" : "server",
                  "dataKeyValueType" : "select",
                  "required" : false,
                  "isEditable" : "editable",
                  "appearance" : "outline",
                  "subscriptSizing" : "fixed",
                  "selectOptions" : [ {
                    "value" : "normale",
                    "label" : "Normale"
                  }, {
                    "value" : "manutenzione",
                    "label" : "Manutenzione"
                  }, {
                    "value" : "inagibile",
                    "label" : "Inagibile"
                  } ],
                  "useCustomIcon" : false,
                  "useGetValueFunction" : false,
                  "useSetValueFunction" : false
                },
                "_hash" : 0.8515408417618529,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "note",
                "type" : "attribute",
                "label" : "Note",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.34492126292398884,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "floorplan",
                "type" : "attribute",
                "label" : "Piantina (formato Base64)",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.20965411481646834,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showResultMessage" : true,
              "showActionButtons" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2,
              "columnGap" : 10,
              "rowGap" : 5
            },
            "title" : "Soglie allarmi",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "18px",
              "fontWeight" : 600,
              "padding" : "5px 10px 5px 5px",
              "textTransform" : "capitalize"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleIcon" : null,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "displayTimewindow" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "Nessun Bungalow Selezionato",
            "margin" : "0px"
          },
          "id" : "c8179e09-b426-a989-5813-7ac39ce3cdea",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "4ea0a3cc-d8b7-a923-f998-b9d503b1dbed" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "Phase_A_power",
                "type" : "timeseries",
                "label" : "${Phase_A_Name}",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.20672354403560833,
                "aggregationType" : null,
                "units" : "",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_B_power",
                "type" : "timeseries",
                "label" : "${Phase_B_Name}",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.44577325807834023,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_C_power",
                "type" : "timeseries",
                "label" : "${Phase_C_Name}",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.5564871768005251,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : [ {
                "name" : "Phase_A_Name",
                "type" : "attribute",
                "label" : "Phase_A_Name",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.6529004349224279
              }, {
                "name" : "Phase_B_Name",
                "type" : "attribute",
                "label" : "Phase_B_Name",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.08051712897886065
              }, {
                "name" : "Phase_C_Name",
                "type" : "attribute",
                "label" : "Phase_C_Name",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.2502875270623752
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 3600000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 8000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "legend" : {
                "show" : true,
                "position" : "nw",
                "backgroundColor" : "#f0f0f0",
                "backgroundOpacity" : 0.85,
                "labelBoxBorderColor" : "rgba(1, 1, 1, 0.45)"
              },
              "decimals" : 1,
              "stack" : false,
              "tooltipIndividual" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : true,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Stato Corrente",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true,
            "units" : "W"
          },
          "row" : 0,
          "col" : 0,
          "id" : "4ea0a3cc-d8b7-a923-f998-b9d503b1dbed",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "f1b453f0-dd30-4d10-1000-9a01b8dfc5ae" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "Phase_A_pf",
                "type" : "timeseries",
                "label" : "PF ${Phase_A_Name}",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.20672354403560833,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_B_pf",
                "type" : "timeseries",
                "label" : "PF ${Phase_B_Name}",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.44577325807834023,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_C_pf",
                "type" : "timeseries",
                "label" : "PF ${Phase_C_Name}",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.5564871768005251,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_A_returned_energy",
                "type" : "timeseries",
                "label" : "Dispersione ${Phase_A_Name}",
                "color" : "#8bc34a",
                "settings" : { },
                "_hash" : 0.43207234140057005,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_B_returned_energy",
                "type" : "timeseries",
                "label" : "Dispersione ${Phase_B_Name}",
                "color" : "#3f51b5",
                "settings" : { },
                "_hash" : 0.3732775142295337,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "Phase_C_returned_energy",
                "type" : "timeseries",
                "label" : "Dispersione ${Phase_C_Name}",
                "color" : "#e91e63",
                "settings" : { },
                "_hash" : 0.19137659850673217,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : [ {
                "name" : "Phase_A_Name",
                "type" : "attribute",
                "label" : "Phase_A_Name",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.6529004349224279
              }, {
                "name" : "Phase_B_Name",
                "type" : "attribute",
                "label" : "Phase_B_Name",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.08051712897886065
              }, {
                "name" : "Phase_C_Name",
                "type" : "attribute",
                "label" : "Phase_C_Name",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.2502875270623752
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 3600000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 8000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "legend" : {
                "show" : true,
                "position" : "nw",
                "backgroundColor" : "#f0f0f0",
                "backgroundOpacity" : 0.85,
                "labelBoxBorderColor" : "rgba(1, 1, 1, 0.45)"
              },
              "decimals" : 1,
              "stack" : false,
              "tooltipIndividual" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : true,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Stato Corrente",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "f1b453f0-dd30-4d10-1000-9a01b8dfc5ae",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "5aa86801-21a8-c298-ddd1-8ddc23f46ff1" : {
          "type" : "static",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "stateId" : "alarm_all",
              "defaultAutofillLayout" : true,
              "defaultMargin" : 0,
              "defaultBackgroundColor" : "#fff",
              "syncParentStateParams" : true
            },
            "title" : "New Dashboard state widget",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "noDataDisplayMessage" : "",
            "showLegend" : false,
            "enableDataExport" : true,
            "pageSize" : 1024
          },
          "row" : 0,
          "col" : 0,
          "id" : "5aa86801-21a8-c298-ddd1-8ddc23f46ff1",
          "typeFullFqn" : "system.cards.dashboard_state_widget"
        },
        "770319e3-2acb-6808-788a-370553b4bf9a" : {
          "type" : "static",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ ],
            "timewindow" : {
              "realtime" : {
                "timewindowMs" : 60000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "cardHtml" : "<div class='card'>\n    <i id=\"Indietro\" class=\"fa fa-arrow-left\"></i>\n</div>",
              "cardCss" : ".card {\n    font-weight: bold;\n    font-size: 32px;\n    color: black;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n}\n#Indietro{\n    cursor: pointer;\n    margin-left: 20px;\n}"
            },
            "title" : "New HTML Card",
            "dropShadow" : false,
            "actions" : {
              "elementClick" : [ {
                "name" : "Indietro",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "custom",
                "customFunction" : "var stateIndex = widgetContext.stateController.getStateIndex();\nwhile (stateIndex > 0) {\n    stateIndex -= 1;\n    backToPrevState(stateIndex);\n}\nopenDashboardState('devices');\n\nfunction backToPrevState(stateIndex) {\n    widgetContext.stateController.navigatePrevState(stateIndex);\n}\n\nfunction openDashboardState(statedId) {\n    var params = widgetContext.stateController.getStateParams();\n    params['selectedSupermarket'] = null;\n    widgetContext.stateController.updateState(null, params);\n}",
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "d2f3abf5-41c5-264e-00bd-f58102239e91"
              } ]
            },
            "enableFullscreen" : false,
            "enableDataExport" : true,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showLegend" : false
          },
          "row" : 0,
          "col" : 0,
          "id" : "770319e3-2acb-6808-788a-370553b4bf9a",
          "typeFullFqn" : "system.cards.html_card"
        },
        "7fd30f66-9f7c-6d97-4818-c983c54d3456" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "presenza",
                "type" : "timeseries",
                "label" : "presenza",
                "color" : "#2196f3",
                "settings" : {
                  "hideDataByDefault" : false,
                  "disableDataHiding" : false,
                  "removeFromLegend" : false,
                  "excludeFromStacking" : false,
                  "showLines" : true,
                  "lineWidth" : 1,
                  "fillLines" : true,
                  "fillLinesOpacity" : 0.4,
                  "showPoints" : false,
                  "showSeparateAxis" : false,
                  "axisPosition" : "left",
                  "comparisonSettings" : {
                    "showValuesForComparison" : true,
                    "comparisonValuesLabel" : "",
                    "color" : ""
                  },
                  "thresholds" : [ ]
                },
                "_hash" : 0.9404927490983099,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if(value=='true'){\n    return 1;\n}else{\n    return 0;\n}"
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              },
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 86400000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 120000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "enableSelection" : true,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "tooltipValueFormatter" : "if(value===1){\n    return \"Occupato\";\n}else{\n    return \"Libero\";\n}",
              "grid" : {
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1,
                "color" : "#545454",
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : 0,
                "max" : 1,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 0,
                "ticksFormatter" : "if(value===1){\n    return \"Occupato\";\n}else{\n    return \"Libero\";\n}"
              },
              "shadowSize" : 4,
              "smoothLines" : false,
              "comparisonEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              },
              "customLegendEnabled" : false
            },
            "title" : "Grafico",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "7fd30f66-9f7c-6d97-4818-c983c54d3456",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "6021e4dc-1cd4-606a-62c4-d7f080a7e93a" : {
          "type" : "latest",
          "sizeX" : 8.5,
          "sizeY" : 6.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "783dd5f0-d34d-946d-a82f-95d3a6eaadd1",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "xPos",
                "type" : "attribute",
                "label" : "xPos",
                "color" : "#afb42b",
                "settings" : { },
                "_hash" : 0.06722530186537723,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "yPos",
                "type" : "attribute",
                "label" : "yPos",
                "color" : "#00796b",
                "settings" : { },
                "_hash" : 0.9401598148964001,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "presenza",
                "type" : "timeseries",
                "label" : "presenza",
                "color" : "#03a9f4",
                "settings" : { },
                "_hash" : 0.7433527072489319,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if(value==='true'){\n    return \"Occupato\";\n}else{\n    return \"Libero\";\n}\n"
              }, {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.33342072587752103,
                "aggregationType" : null,
                "units" : null,
                "decimals" : 0,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "stato",
                "type" : "attribute",
                "label" : "stato",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.5487220237290176,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : true,
                "postFuncBody" : "if(value==\"manutenzione\"){\n    return \"Manutenzione\";\n}else if(value==\"inagibile\"){\n    return \"Inagibile\";\n}else if(value==\"normale\"){\n    return \"Normale\";\n}else{\n    return value;\n}"
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171831,
                  "endTimeMs" : 1683635571831
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#ffffff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "provider" : "image-map",
              "gmApiKey" : "AIzaSyDoEx2kaGz3PxwbI9T7ccTSg5xjdw8Nw8Q",
              "gmDefaultMapType" : "roadmap",
              "mapProvider" : "OpenStreetMap.Mapnik",
              "useCustomProvider" : false,
              "customProviderTileUrl" : "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
              "mapProviderHere" : "HERE.normalDay",
              "credentials" : {
                "app_id" : "AhM6TzD9ThyK78CT3ptx",
                "app_code" : "p6NPiITB3Vv0GMUFnkLOOg",
                "useV3" : false
              },
              "mapImageUrl" : "data:image/svg+xml;base64,PHN2ZyBpZD0ic3ZnMiIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwIiB3aWR0aD0iMTAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgdmlld0JveD0iMCAwIDEwMCAxMDAiPgogPGcgaWQ9ImxheWVyMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtOTUyLjM2KSI+CiAgPHJlY3QgaWQ9InJlY3Q0Njg0IiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBoZWlnaHQ9Ijk5LjAxIiB3aWR0aD0iOTkuMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB5PSI5NTIuODYiIHg9Ii40OTUwNSIgc3Ryb2tlLXdpZHRoPSIuOTkwMTAiIGZpbGw9IiNlZWUiLz4KICA8dGV4dCBpZD0idGV4dDQ2ODYiIHN0eWxlPSJ3b3JkLXNwYWNpbmc6MHB4O2xldHRlci1zcGFjaW5nOjBweDt0ZXh0LWFuY2hvcjptaWRkbGU7dGV4dC1hbGlnbjpjZW50ZXIiIGZvbnQtd2VpZ2h0PSJib2xkIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmb250LXNpemU9IjEwcHgiIGxpbmUtaGVpZ2h0PSIxMjUlIiB5PSI5NzAuNzI4MDkiIHg9IjQ5LjM5NjQ3NyIgZm9udC1mYW1pbHk9IlJvYm90byIgZmlsbD0iIzY2NjY2NiI+PHRzcGFuIGlkPSJ0c3BhbjQ2OTAiIHg9IjUwLjY0NjQ3NyIgeT0iOTcwLjcyODA5Ij5JbWFnZSBiYWNrZ3JvdW5kIDwvdHNwYW4+PHRzcGFuIGlkPSJ0c3BhbjQ2OTIiIHg9IjQ5LjM5NjQ3NyIgeT0iOTgzLjIyODA5Ij5pcyBub3QgY29uZmlndXJlZDwvdHNwYW4+PC90ZXh0PgogIDxyZWN0IGlkPSJyZWN0NDY5NCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgaGVpZ2h0PSIxOS4zNiIgd2lkdGg9IjY5LjM2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgeT0iOTkyLjY4IiB4PSIxNS4zMiIgc3Ryb2tlLXdpZHRoPSIuNjM5ODYiIGZpbGw9Im5vbmUiLz4KIDwvZz4KPC9zdmc+Cg==",
              "imageEntityAlias" : "customer",
              "imageUrlAttribute" : "floorplan",
              "tmApiKey" : "84d6d83e0e51e481e50454ccbe8986b",
              "tmDefaultMapType" : "roadmap",
              "latKeyName" : "latitude",
              "lngKeyName" : "longitude",
              "xPosKeyName" : "xPos",
              "yPosKeyName" : "yPos",
              "defaultCenterPosition" : "0,0",
              "disableScrollZooming" : false,
              "disableDoubleClickZooming" : false,
              "disableZoomControl" : false,
              "fitMapBounds" : true,
              "useDefaultCenterPosition" : false,
              "mapPageSize" : 16384,
              "markerOffsetX" : 0,
              "markerOffsetY" : 0.5,
              "posFunction" : "return {x: origXPos, y: origYPos};",
              "draggableMarker" : false,
              "showLabel" : false,
              "useLabelFunction" : false,
              "label" : "${entityName}",
              "showTooltip" : true,
              "showTooltipAction" : "hover",
              "autocloseTooltip" : true,
              "useTooltipFunction" : true,
              "tooltipPattern" : "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}",
              "tooltipFunction" : "var darkMode = $('.tb-dashboard-page').hasClass('dark');\r\nvar content = (darkMode ? ('<div style=\"font-family: Roboto;\">' +\r\n                 '<div style=\"font-size: 14px; font-weight: 500; padding-bottom: 8px; color:#212121;\">${Name:0}</div>') : ('<div style=\"font-family: Roboto;\">' +\r\n                 '<div style=\"font-size: 14px; font-weight: 500; padding-bottom: 8px;\">${Name:0}</div>'));\r\n\r\nif(darkMode==true){\r\n    content += '<div style=\"font-size: 12px; font-weight: normal; color:#212121;\">' + getInfoByDeviceType() + '</div>';\r\n}else{\r\n    content += '<div style=\"font-size: 12px; font-weight: normal; color:#212121;\">' + getInfoByDeviceType() + '</div>';\r\n}\r\n\r\ncontent += '</div>';\r\nreturn content;\r\n\r\nfunction getInfoByDeviceType() {\r\n    return 'Stato: ${stato}<br>Presenza: ${presenza}';\r\n}\r\n",
              "tooltipOffsetX" : 0.5,
              "tooltipOffsetY" : -0.5,
              "color" : "#FE7569",
              "useColorFunction" : true,
              "colorFunction" : "var presenza = data['presenza'];\nvar stato = data['stato'];\nif(presenza===\"Occupato\" || stato==\"Inagibile\"){\n    return \"red\";\n}else if(stato==\"Manutenzione\"){\n    return 'orange'\n}else{\n    return 'green';\n}",
              "useMarkerImageFunction" : false,
              "markerImageSize" : 34,
              "markerImages" : [ ],
              "showPolygon" : false,
              "polygonKeyName" : "perimeter",
              "editablePolygon" : false,
              "showPolygonLabel" : false,
              "usePolygonLabelFunction" : false,
              "polygonLabel" : "${entityName}",
              "showPolygonTooltip" : false,
              "showPolygonTooltipAction" : "click",
              "autoClosePolygonTooltip" : true,
              "usePolygonTooltipFunction" : false,
              "polygonTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
              "polygonColor" : "#3388ff",
              "polygonOpacity" : 0.2,
              "usePolygonColorFunction" : false,
              "polygonStrokeColor" : "#3388ff",
              "polygonStrokeOpacity" : 1,
              "polygonStrokeWeight" : 3,
              "usePolygonStrokeColorFunction" : false,
              "showCircle" : false,
              "circleKeyName" : "perimeter",
              "editableCircle" : false,
              "showCircleLabel" : false,
              "useCircleLabelFunction" : false,
              "circleLabel" : "${entityName}",
              "showCircleTooltip" : false,
              "showCircleTooltipAction" : "click",
              "autoCloseCircleTooltip" : true,
              "useCircleTooltipFunction" : false,
              "circleTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
              "circleFillColor" : "#3388ff",
              "circleFillColorOpacity" : 0.2,
              "useCircleFillColorFunction" : false,
              "circleStrokeColor" : "#3388ff",
              "circleStrokeOpacity" : 1,
              "circleStrokeWeight" : 3,
              "useCircleStrokeColorFunction" : false
            },
            "title" : "Supermarket plan",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : {
              "markerClick" : [ {
                "name" : "Select device",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "dettagli_bungalow",
                "setEntityId" : true,
                "stateEntityParamName" : "bungalow_selezionato",
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "c33ff837-63f4-df99-87f2-f2f409b5c997"
              } ]
            },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "noDataDisplayMessage" : "",
            "widgetCss" : ".leaflet-popup-content-wrapper, .leaflet-popup-tip {\n    background: #fff;\n    color: #333;\n    box-shadow: 0px 7px 14px rgba(40, 35, 45, 0.21);\n}\n\n.leaflet-popup-content-wrapper {\n    padding: 1px;\n    text-align: left;\n    border-radius: 4px;\n}\n\n.leaflet-container a.leaflet-popup-close-button {\n    padding: 8px 8px 0 0;\n}\n\n.leaflet-popup-content {\n    margin: 12px 25px 12px 16px;\n}\n\n.leaflet-popup-tip {\n    width: 14px;\n    height: 14px;\n}\n",
            "pageSize" : 1024,
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "6021e4dc-1cd4-606a-62c4-d7f080a7e93a",
          "typeFullFqn" : "system.maps_v2.image_map"
        },
        "78b1ab8f-9569-26f1-89d4-64692445b8d7" : {
          "typeFullFqn" : "system.input_widgets.markers_placement_image_map",
          "type" : "latest",
          "sizeX" : 8.5,
          "sizeY" : 6.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
              "dataKeys" : [ {
                "name" : "xPos",
                "type" : "attribute",
                "label" : "xPos",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.17162426767257655,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "yPos",
                "type" : "attribute",
                "label" : "yPos",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.6139451257748245,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1699461751224,
                  "endTimeMs" : 1699548151224
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "provider" : "image-map",
              "gmApiKey" : "AIzaSyDoEx2kaGz3PxwbI9T7ccTSg5xjdw8Nw8Q",
              "gmDefaultMapType" : "roadmap",
              "mapProvider" : "HERE.normalDay",
              "useCustomProvider" : false,
              "customProviderTileUrl" : "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
              "mapProviderHere" : "HERE.normalDay",
              "credentials" : {
                "useV3" : true,
                "app_id" : "AhM6TzD9ThyK78CT3ptx",
                "app_code" : "p6NPiITB3Vv0GMUFnkLOOg",
                "apiKey" : "kVXykxAfZ6LS4EbCTO02soFVfjA7HoBzNVVH9u7nzoE"
              },
              "mapImageUrl" : "data:image/svg+xml;base64,PHN2ZyBpZD0ic3ZnMiIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwIiB3aWR0aD0iMTAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgdmlld0JveD0iMCAwIDEwMCAxMDAiPgogPGcgaWQ9ImxheWVyMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtOTUyLjM2KSI+CiAgPHJlY3QgaWQ9InJlY3Q0Njg0IiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBoZWlnaHQ9Ijk5LjAxIiB3aWR0aD0iOTkuMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB5PSI5NTIuODYiIHg9Ii40OTUwNSIgc3Ryb2tlLXdpZHRoPSIuOTkwMTAiIGZpbGw9IiNlZWUiLz4KICA8dGV4dCBpZD0idGV4dDQ2ODYiIHN0eWxlPSJ3b3JkLXNwYWNpbmc6MHB4O2xldHRlci1zcGFjaW5nOjBweDt0ZXh0LWFuY2hvcjptaWRkbGU7dGV4dC1hbGlnbjpjZW50ZXIiIGZvbnQtd2VpZ2h0PSJib2xkIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmb250LXNpemU9IjEwcHgiIGxpbmUtaGVpZ2h0PSIxMjUlIiB5PSI5NzAuNzI4MDkiIHg9IjQ5LjM5NjQ3NyIgZm9udC1mYW1pbHk9IlJvYm90byIgZmlsbD0iIzY2NjY2NiI+PHRzcGFuIGlkPSJ0c3BhbjQ2OTAiIHg9IjUwLjY0NjQ3NyIgeT0iOTcwLjcyODA5Ij5JbWFnZSBiYWNrZ3JvdW5kIDwvdHNwYW4+PHRzcGFuIGlkPSJ0c3BhbjQ2OTIiIHg9IjQ5LjM5NjQ3NyIgeT0iOTgzLjIyODA5Ij5pcyBub3QgY29uZmlndXJlZDwvdHNwYW4+PC90ZXh0PgogIDxyZWN0IGlkPSJyZWN0NDY5NCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgaGVpZ2h0PSIxOS4zNiIgd2lkdGg9IjY5LjM2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgeT0iOTkyLjY4IiB4PSIxNS4zMiIgc3Ryb2tlLXdpZHRoPSIuNjM5ODYiIGZpbGw9Im5vbmUiLz4KIDwvZz4KPC9zdmc+Cg==",
              "imageEntityAlias" : "customer",
              "imageUrlAttribute" : "floorplan",
              "tmApiKey" : "84d6d83e0e51e481e50454ccbe8986b",
              "tmDefaultMapType" : "roadmap",
              "latKeyName" : "latitude",
              "lngKeyName" : "longitude",
              "xPosKeyName" : "xPos",
              "yPosKeyName" : "yPos",
              "defaultCenterPosition" : "0,0",
              "disableScrollZooming" : false,
              "disableDoubleClickZooming" : false,
              "disableZoomControl" : false,
              "fitMapBounds" : true,
              "useDefaultCenterPosition" : false,
              "mapPageSize" : 16384,
              "markerOffsetX" : 0.5,
              "markerOffsetY" : 1,
              "posFunction" : "return {x: origXPos, y: origYPos};",
              "draggableMarker" : true,
              "showLabel" : false,
              "showTooltip" : false,
              "color" : "#FFFFFF",
              "useColorFunction" : false,
              "useMarkerImageFunction" : false,
              "markerImageSize" : 34,
              "showPolygon" : false,
              "polygonKeyName" : "coordinates",
              "editablePolygon" : true,
              "showPolygonLabel" : false,
              "usePolygonLabelFunction" : false,
              "polygonLabel" : "${entityName}",
              "showPolygonTooltip" : false,
              "showPolygonTooltipAction" : "click",
              "autoClosePolygonTooltip" : true,
              "usePolygonTooltipFunction" : false,
              "polygonTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${coordinates|ts:7}<br/><br/><link-act name='delete_polygon'>Delete</link-act>",
              "polygonColor" : "#3388ff",
              "polygonOpacity" : 0.5,
              "usePolygonColorFunction" : false,
              "polygonStrokeColor" : "#3388ff",
              "polygonStrokeOpacity" : 1,
              "polygonStrokeWeight" : 1,
              "usePolygonStrokeColorFunction" : false,
              "showCircle" : false,
              "circleKeyName" : "perimeter",
              "editableCircle" : false,
              "showCircleLabel" : false,
              "useCircleLabelFunction" : false,
              "circleLabel" : "${entityName}",
              "showCircleTooltip" : false,
              "showCircleTooltipAction" : "click",
              "autoCloseCircleTooltip" : true,
              "useCircleTooltipFunction" : false,
              "circleTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
              "circleFillColor" : "#3388ff",
              "circleFillColorOpacity" : 0.2,
              "useCircleFillColorFunction" : false,
              "circleStrokeColor" : "#3388ff",
              "circleStrokeOpacity" : 1,
              "circleStrokeWeight" : 3,
              "useCircleStrokeColorFunction" : false,
              "snappable" : false,
              "initDragMode" : true,
              "hideAllControlButton" : false,
              "hideDrawControlButton" : false,
              "hideEditControlButton" : false,
              "hideRemoveControlButton" : false
            },
            "title" : "Markers Placement - Image Map",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : {
              "tooltipAction" : [ {
                "name" : "delete",
                "icon" : "more_horiz",
                "type" : "custom",
                "customFunction" : "var entityDatasource = widgetContext.map.map.datasources.filter(\n    function(entity) {\n        return entity.entityId === entityId.id;\n    });\n\nwidgetContext.map.setMarkerLocation(entityDatasource[0], null, null).subscribe(() => widgetContext.updateAliases());",
                "id" : "c39f512a-21c6-6b06-3aa1-715262c6553d"
              }, {
                "name" : "delete_polygon",
                "icon" : "more_horiz",
                "type" : "custom",
                "customFunction" : "var entityDatasource = widgetContext.map.map.datasources.filter(\n    function(entity) {\n        return entity.entityId === entityId.id\n    });\n\nwidgetContext.map.savePolygonLocation(entityDatasource[0], null).subscribe(() => widgetContext.updateAliases());",
                "id" : "94bf5ffd-b526-c6c3-ae3b-ab42191217d9"
              } ]
            },
            "showTitleIcon" : false,
            "titleIcon" : "more_horiz",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "displayTimewindow" : true,
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "78b1ab8f-9569-26f1-89d4-64692445b8d7"
        },
        "6b0daf2e-c3e9-c83c-1c59-a3fbdcb9231e" : {
          "type" : "latest",
          "sizeX" : 11,
          "sizeY" : 16,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "label",
                "type" : "entityField",
                "label" : "Nome sensore",
                "color" : "#aa00ff",
                "settings" : { },
                "_hash" : 0.1685165400028874,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1683549171832,
                  "endTimeMs" : 1683635571832
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "widgetTitle" : "Soglie Allarmi",
              "showResultMessage" : false,
              "showActionButtons" : true,
              "updateAllValues" : false,
              "showGroupTitle" : false,
              "fieldsAlignment" : "column",
              "groupTitle" : "${entityName}",
              "fieldsInRow" : 2,
              "columnGap" : 10,
              "rowGap" : 5
            },
            "title" : "Soglie allarmi",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "18px",
              "fontWeight" : 600,
              "padding" : "5px 10px 5px 5px",
              "textTransform" : "capitalize"
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "showTitleIcon" : false,
            "titleIcon" : null,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "displayTimewindow" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "Nessun sensore presente",
            "margin" : "0px"
          },
          "id" : "6b0daf2e-c3e9-c83c-1c59-a3fbdcb9231e",
          "typeFullFqn" : "system.input_widgets.update_multiple_attributes"
        },
        "b9683a3b-4790-89f2-6e98-1a580d9fc0fc" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "mc",
                "type" : "timeseries",
                "label" : "Litri",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8356206308473006,
                "aggregationType" : null,
                "units" : "l",
                "decimals" : 2,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              },
              "latestDataKeys" : null
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 86400000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 300000
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "shadowSize" : 4,
              "fontColor" : "#545454",
              "fontSize" : 10,
              "xaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "showLabels" : true,
                "color" : "#545454"
              },
              "grid" : {
                "color" : "#545454",
                "tickColor" : "#DDDDDD",
                "verticalLines" : true,
                "horizontalLines" : true,
                "outlineWidth" : 1
              },
              "legend" : {
                "show" : true,
                "position" : "nw",
                "backgroundColor" : "#f0f0f0",
                "backgroundOpacity" : 0.85,
                "labelBoxBorderColor" : "rgba(1, 1, 1, 0.45)"
              },
              "decimals" : 1,
              "stack" : false,
              "tooltipIndividual" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Grafico",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "b9683a3b-4790-89f2-6e98-1a580d9fc0fc",
          "typeFullFqn" : "system.charts.basic_timeseries"
        }
      },
      "states" : {
        "default" : {
          "name" : "Campeggio",
          "root" : true,
          "layouts" : {
            "main" : {
              "widgets" : {
                "3480ed9c-c50d-2f23-b1a2-6ec752f4e7ea" : {
                  "sizeX" : 15,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0,
                  "mobileHide" : true
                },
                "456c8910-fa7b-c1d8-f15b-abc4ad711654" : {
                  "sizeX" : 10,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 15
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "device-filter" : {
          "name" : "Device Filter",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "4d269bd2-0e40-1c62-0385-a1ab42115c6d" : {
                  "sizeX" : 12,
                  "sizeY" : 5,
                  "row" : 0,
                  "col" : 0,
                  "mobileHeight" : 4
                },
                "bead78b8-fd22-2a4f-bb11-2848b3c38be8" : {
                  "sizeX" : 12,
                  "sizeY" : 5,
                  "mobileHeight" : 4,
                  "row" : 0,
                  "col" : 12
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 51,
                "outerMargin" : true
              }
            }
          }
        },
        "state-filter" : {
          "name" : "State Filter",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "ff1eb384-d7f3-2a33-ca59-2296652ca079" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "plan" : {
          "name" : "Plan",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "7a37cf70-51c1-aef6-ef15-27041e016bd5" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "alarm_badges" : {
          "name" : "Alarm badges",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "225675bf-745f-b2bc-b83c-52d751910205" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "door_settings" : {
          "name" : "Door Settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "0c0d18e9-2be3-3189-7ab3-f05eae7cbbe9" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "door_details" : {
          "name" : "Door Details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "57505aa0-926c-f25e-ddad-e9cee9ff0a45" : {
                  "sizeX" : 80,
                  "sizeY" : 37,
                  "row" : 3,
                  "col" : 0
                },
                "aaad0134-c223-346e-4c38-b9a33677a40e" : {
                  "sizeX" : 80,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "unknown_details" : {
          "name" : "unknown_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "outerMargin" : true
              }
            }
          }
        },
        "battery_level_details" : {
          "name" : "battery_level_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "af27e6f5-e59b-8413-1bfa-7af5b36a4e5b" : {
                  "sizeX" : 25,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "occupancy_sensor_details" : {
          "name" : "occupancy_sensor_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "33b97c6e-ccca-4677-2ae1-6b8c6339f036" : {
                  "sizeX" : 80,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                },
                "96f25bbc-79bc-c367-440b-e4bb292f7656" : {
                  "sizeX" : 80,
                  "sizeY" : 37,
                  "row" : 3,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "occupancy_sensor_settings" : {
          "name" : "occupancy_sensor_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "9ab503a5-3c68-5dfb-d55a-8672bf48ada9" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "motion_sensor_details" : {
          "name" : "motion_sensor_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "49056eb9-3240-4315-84e8-73ea065e4652" : {
                  "sizeX" : 80,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                },
                "bb3e4bc4-7f69-b8df-c554-dfdffd83a4dc" : {
                  "sizeX" : 80,
                  "sizeY" : 37,
                  "row" : 3,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "motion_sensor_settings" : {
          "name" : "motion_sensor_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "5364ac11-0129-8771-7bb1-67718bd3efda" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "liquid_sensor_details" : {
          "name" : "liquid_sensor_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "e0e9e6d4-b329-f60f-3e1c-fd2c8115389a" : {
                  "sizeX" : 80,
                  "sizeY" : 37,
                  "row" : 3,
                  "col" : 0
                },
                "3426e1e7-7cee-fc70-971d-360968878087" : {
                  "sizeX" : 80,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "liquid_sensor_settings" : {
          "name" : "liquid_sensor_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "77d75f64-a030-0597-64fd-9ae65c5e4843" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "chiller_settings" : {
          "name" : "chiller_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "878e5327-53b3-2753-9309-c30ed81a61b0" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "freezer_details" : {
          "name" : "freezer_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "da1b7e42-2fd1-3c11-749d-138ae827f5eb" : {
                  "sizeX" : 80,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                },
                "70c73540-2bb5-1398-6601-ba1c8348a240" : {
                  "sizeX" : 80,
                  "sizeY" : 33,
                  "row" : 3,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "freezer_settings" : {
          "name" : "freezer_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "47d87685-da86-ef98-8c2d-bec02f3ba54a" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "smart_bin_details" : {
          "name" : "smart_bin_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "c548a9b5-186e-90c3-ac57-cdac4e69127b" : {
                  "sizeX" : 80,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                },
                "19663ca5-590a-528c-c30a-898c528513ab" : {
                  "sizeX" : 80,
                  "sizeY" : 37,
                  "row" : 3,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "smart_bin_settings" : {
          "name" : "smart_bin_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "678a18cf-f5c6-fed2-b6b9-8d5650460365" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "smoke_sensor_details" : {
          "name" : "smoke_sensor_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "815da885-0b87-8e96-99ed-d2823e545395" : {
                  "sizeX" : 80,
                  "sizeY" : 35,
                  "row" : 3,
                  "col" : 0
                },
                "344f5c53-b6ef-3500-8ca0-1cf79cdbb44e" : {
                  "sizeX" : 80,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "smoke_sensor_settings" : {
          "name" : "smoke_sensor_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "e1162517-e90f-50f4-9cc3-71ec9b3fcbab" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "unknown_settings" : {
          "name" : "Unknown settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "outerMargin" : true
              }
            }
          }
        },
        "smart_shelf_settings" : {
          "name" : "Smart Shelf Settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "fa9949f8-e79d-b40d-0fcd-ff6a726c8167" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "smart_shelf_details" : {
          "name" : "Smart Shelf Details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "f169ca06-09fe-1454-5106-a97770df82c3" : {
                  "sizeX" : 80,
                  "sizeY" : 33,
                  "row" : 3,
                  "col" : 0
                },
                "1b588eb9-69d4-cddd-df3c-cca274464467" : {
                  "sizeX" : 80,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0,
                  "mobileHeight" : 1
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "device_card_details" : {
          "name" : "Device card details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "aa7ff32f-7ec6-0a0a-4f83-8903765633e1" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "supermarket-state-filter" : {
          "name" : "Supermarket state filter",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "b8f0acc2-6e90-13a7-c7bb-6f67fddc27ea" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "all_major_alarms" : {
          "name" : "all major alarms",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "106a5add-e710-6fea-e975-a7f9b61e2802" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "all_alarm_badges" : {
          "name" : "All alarm badges",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "8805b23e-efea-86a7-d754-9fdfe37acbaa" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "camera_sensor_details" : {
          "name" : "camera_sensor_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "99b7872c-82b9-3f8d-4006-76fb55f8a6fc" : {
                  "sizeX" : 4,
                  "sizeY" : 2,
                  "row" : 0,
                  "col" : 20
                },
                "9677e95d-1ef9-b905-fba0-6f5d4942589c" : {
                  "sizeX" : 20,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                },
                "9fb5b60f-fe2b-1860-bb27-875af7ba1eff" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 6,
                  "col" : 0
                },
                "41f194b9-ad7b-f1ee-d26a-c3c6df14a65f" : {
                  "sizeX" : 4,
                  "sizeY" : 2,
                  "row" : 2,
                  "col" : 20
                },
                "b66aa9e9-a536-9bcb-491a-3a4f3cf8625a" : {
                  "sizeX" : 4,
                  "sizeY" : 2,
                  "row" : 4,
                  "col" : 20
                }
              },
              "gridSettings" : {
                "backgroundColor" : "rgba(238,238,238,0)",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "report" : {
          "name" : "Report ${entityName}",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "89af94c6-68b4-0492-1fe0-4e87826aa749" : {
                  "sizeX" : 12,
                  "sizeY" : 4,
                  "row" : 6,
                  "col" : 0
                },
                "18d9d2ce-046a-4a49-1247-23bba7546784" : {
                  "sizeX" : 12,
                  "sizeY" : 4,
                  "row" : 6,
                  "col" : 12
                },
                "1ef13794-c711-4e4b-69da-20346f040948" : {
                  "sizeX" : 24,
                  "sizeY" : 2,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "alarm_badges_without_report" : {
          "name" : "alarm_badges_without_report",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "853cdc33-f398-25b0-c019-74194deda533" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "energy_sensor_details" : {
          "name" : "energy_sensor_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "538c1d40-8026-7c64-5d14-e178926a8622" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                },
                "b8104f9f-a9db-c268-7ed2-10df1ea9513c" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 6,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "aa_sensor_details" : {
          "name" : "aa_sensor_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "4c060d3e-c22b-0df0-6f5d-41a16e03bda6" : {
                  "sizeX" : 80,
                  "sizeY" : 20,
                  "row" : 0,
                  "col" : 0
                },
                "4026e9c0-baeb-0985-a388-4c4e2bc263a4" : {
                  "sizeX" : 80,
                  "sizeY" : 20,
                  "row" : 20,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 80,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "energy_settings" : {
          "name" : "energy_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "e7636d5f-4bd0-b0b3-637c-86977b6bedac" : {
                  "sizeX" : 24,
                  "sizeY" : 10,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "aa_sensor_settings" : {
          "name" : "aa_sensor_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "a790e784-793c-a2a3-a87f-92d50e4183ac" : {
                  "sizeX" : 20,
                  "sizeY" : 15,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 20,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "caldaia_details" : {
          "name" : "caldaia_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "a2338a02-4db2-aa6a-b57e-1414f2fb2b6b" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                },
                "5ba6e3de-25f5-36f8-670e-651c3ab7a736" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 6,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "caldaia_settings" : {
          "name" : "caldaia_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "e0ea95bd-bf40-ac4d-e588-9f9a7e8b7b6f" : {
                  "sizeX" : 24,
                  "sizeY" : 18,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "telecamere" : {
          "name" : "Telecamere",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "b3d89468-f2c3-d220-1056-701b58cb065d" : {
                  "sizeX" : 7,
                  "sizeY" : 4,
                  "row" : 0,
                  "col" : 0
                },
                "bcad8ebf-761b-de4c-b254-9f5e8f818791" : {
                  "sizeX" : 7,
                  "sizeY" : 4,
                  "row" : 0,
                  "col" : 7
                },
                "bc0e336e-103b-97b4-d169-2dcb7a3a046f" : {
                  "sizeX" : 7,
                  "sizeY" : 4,
                  "row" : 4,
                  "col" : 0
                },
                "b1e8e69e-58ed-7a59-2625-6f50cc1a3585" : {
                  "sizeX" : 7,
                  "sizeY" : 4,
                  "row" : 4,
                  "col" : 7
                },
                "45332919-9627-b5bd-0a83-cd440d1dcdc0" : {
                  "sizeX" : 7,
                  "sizeY" : 4,
                  "row" : 0,
                  "col" : 14
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 21,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : false,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "guasti_manutenzioni" : {
          "name" : "Guasti/manutenzioni",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "df2f0412-4139-3105-179c-d79a0238611e" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 0
                },
                "0c74056e-c9c9-0724-dbf0-dc987bfa5e5e" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 6
                },
                "a9491cbe-0511-9b5f-64f1-8443051b7c93" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 12
                },
                "2e19fc80-477a-87ac-4ec6-3f3bad3ea451" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 0,
                  "col" : 18
                },
                "4c3a2bad-49ac-65aa-7d6b-a818170ede34" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 3,
                  "col" : 0
                },
                "0dcc0241-751b-7c20-d50e-957713f5cf20" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 3,
                  "col" : 6
                },
                "47830193-b930-7e43-2c68-afa915daf7a8" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 3,
                  "col" : 12
                },
                "6c3709be-dded-280f-eca5-f546269e2a9a" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 3,
                  "col" : 18
                },
                "d5f5fac1-c3b5-8fe9-571b-c32154e5f5b3" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 6,
                  "col" : 0
                },
                "857ea619-eef6-3dcd-4be6-8a1ac57a09ed" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 9,
                  "col" : 0
                },
                "4a7814e4-d453-98c9-1bf9-14082c5d0aa9" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 6,
                  "col" : 6
                },
                "145eaac8-abec-9d9f-96fe-6fcef5582ac8" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 9,
                  "col" : 6
                },
                "3ed9a8d0-4a1f-740b-e3d8-f906f2f3de13" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 6,
                  "col" : 12
                },
                "17e96f52-1338-954c-b389-fa6fa7fe0a4f" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 9,
                  "col" : 12
                },
                "230f02a4-27af-2cc4-656f-bc31ed90df8b" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 6,
                  "col" : 18
                },
                "d106839c-ee98-aadd-36e5-e19bbf817512" : {
                  "sizeX" : 6,
                  "sizeY" : 3,
                  "row" : 9,
                  "col" : 18
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "lista_guasti_manutenzioni" : {
          "name" : "Lista Guasti/Manutenzioni",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "3cda7c1b-99da-e48f-ac6d-b43394c6c374" : {
                  "sizeX" : 24,
                  "sizeY" : 10,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "energy_multiple_sensor_details" : {
          "name" : "energy_multiple_sensor_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "4ea0a3cc-d8b7-a923-f998-b9d503b1dbed" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                },
                "f1b453f0-dd30-4d10-1000-9a01b8dfc5ae" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 6,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#FFFFFF",
                "columns" : 24,
                "margin" : 0,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70
              }
            }
          }
        },
        "all_critical_alarms" : {
          "name" : "All critical alarms",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "d680c934-edcf-4cf0-7073-cc1fb4530391" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "header_device" : {
          "name" : "Header Device",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "e8e3d4be-2720-0677-2c04-ff9a5fdb2447" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "lista_device" : {
          "name" : "Lista Device",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "592649d5-d648-e75f-0dc6-5c8ccd94b6d7" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "alarm_devices" : {
          "name" : "Allarmi Devices",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "8872005d-0adb-9db5-8395-06e89e2e81fd" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "alarm_device" : {
          "name" : "Device alarms",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "4c8da7a1-659f-e2e5-220c-4128a217e872" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "alarm_all" : {
          "name" : "All alarms",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "e6cefd55-e905-d7ce-8f86-08635fbe2679" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "supermarket_card_details_old" : {
          "name" : "supermarket_card_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "fb4876e4-5cbd-e84c-85b7-78fa687cc4a3" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "alarm_page" : {
          "name" : "Pagina Allarmi",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "5aa86801-21a8-c298-ddd1-8ddc23f46ff1" : {
                  "sizeX" : 24,
                  "sizeY" : 12,
                  "row" : 1,
                  "col" : 0
                },
                "770319e3-2acb-6808-788a-370553b4bf9a" : {
                  "sizeX" : 24,
                  "sizeY" : 1,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#FFFFFF",
                "columns" : 24,
                "margin" : 0,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70
              }
            }
          }
        },
        "lista_bungalow" : {
          "name" : "Lista Bungalow",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "6e0676c2-49cd-846e-9c94-80c6b2c0218c" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0,
                  "mobileOrder" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "bungalow_settings" : {
          "name" : "bungalow_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "c8179e09-b426-a989-5813-7ac39ce3cdea" : {
                  "sizeX" : 24,
                  "sizeY" : 8,
                  "row" : 0,
                  "col" : 0
                },
                "78b1ab8f-9569-26f1-89d4-64692445b8d7" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 8,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : false,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "header_bungalow" : {
          "name" : "Header Bungalow",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "83db9667-56f8-2432-6e7a-13458d4b0761" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "dettagli_bungalow" : {
          "name" : "${bungalow_selezionato:entityName}",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "34bb2f8f-4bf0-dac4-a017-badfac3e31bb" : {
                  "sizeX" : 14,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0,
                  "mobileHide" : true
                },
                "ffbfe096-2667-28d1-7142-e25b1de3fd5d" : {
                  "sizeX" : 10,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 14
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "presenza_details" : {
          "name" : "presenza_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "7fd30f66-9f7c-6d97-4818-c983c54d3456" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#FFFFFF",
                "columns" : 24,
                "margin" : 0,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70
              }
            }
          }
        },
        "presenza_settings" : {
          "name" : "presenza_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "mappa" : {
          "name" : "Mappa Campeggio",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "6021e4dc-1cd4-606a-62c4-d7f080a7e93a" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#ffffff",
                "columns" : 24,
                "margin" : 0,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : true,
                "mobileRowHeight" : 70,
                "outerMargin" : true
              }
            }
          }
        },
        "acqua_details" : {
          "name" : "acqua_details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "b9683a3b-4790-89f2-6e98-1a580d9fc0fc" : {
                  "sizeX" : 24,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#FFFFFF",
                "columns" : 24,
                "margin" : 0,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70
              }
            }
          }
        },
        "acqua_settings" : {
          "name" : "acqua_settings",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "6b0daf2e-c3e9-c83c-1c59-a3fbdcb9231e" : {
                  "sizeX" : 24,
                  "sizeY" : 18,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#FFFFFF",
                "columns" : 24,
                "margin" : 0,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70
              }
            }
          }
        }
      },
      "entityAliases" : {
        "783dd5f0-d34d-946d-a82f-95d3a6eaadd1" : {
          "id" : "783dd5f0-d34d-946d-a82f-95d3a6eaadd1",
          "alias" : "Bungalow",
          "filter" : {
            "type" : "assetSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : false,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null,
            "rootEntity" : {
              "entityType" : "CUSTOMER",
              "id" : "b57eafd0-7ef5-11ee-ad91-9bb47870629b"
            },
            "direction" : "FROM",
            "maxLevel" : null,
            "fetchLastLevelOnly" : false,
            "relationType" : null,
            "assetTypes" : [ "bungalow" ]
          }
        },
        "1d799daf-1882-7a76-938b-c97e8c08ff11" : {
          "id" : "1d799daf-1882-7a76-938b-c97e8c08ff11",
          "alias" : "Bungalow Selezionato",
          "filter" : {
            "type" : "stateEntity",
            "resolveMultiple" : false,
            "stateEntityParamName" : "bungalow_selezionato",
            "defaultStateEntity" : null
          }
        },
        "48419e4a-90d9-9863-29b2-3877821b7e45" : {
          "id" : "48419e4a-90d9-9863-29b2-3877821b7e45",
          "alias" : "AA Sensor",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : "selectedSupermarket",
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : null,
            "fetchLastLevelOnly" : false,
            "relationType" : "Contains",
            "deviceTypes" : [ "AA Sensor" ]
          }
        },
        "129977b6-de2f-546b-7df8-2040f39f8732" : {
          "id" : "129977b6-de2f-546b-7df8-2040f39f8732",
          "alias" : "Devices del bungalow",
          "filter" : {
            "type" : "relationsQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : "bungalow_selezionato",
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : null,
            "fetchLastLevelOnly" : false,
            "filters" : [ {
              "relationType" : null,
              "entityTypes" : [ "ASSET", "DEVICE" ]
            } ]
          }
        },
        "7b659beb-1601-5b67-528e-0846d1a0efa6" : {
          "id" : "7b659beb-1601-5b67-528e-0846d1a0efa6",
          "alias" : "Current user",
          "filter" : {
            "type" : "singleEntity",
            "resolveMultiple" : false,
            "singleEntity" : {
              "entityType" : "CURRENT_USER_OWNER",
              "id" : "13814000-1dd2-11b2-8080-808080808080"
            }
          }
        },
        "b755362a-b545-8ee6-a67b-df2c9e39d6e5" : {
          "id" : "b755362a-b545-8ee6-a67b-df2c9e39d6e5",
          "alias" : "Selected device",
          "filter" : {
            "type" : "stateEntity",
            "resolveMultiple" : false,
            "stateEntityParamName" : "selectedDevice",
            "defaultStateEntity" : null
          }
        },
        "cdf692dd-915b-cdc8-7b51-fc8980c44135" : {
          "id" : "cdf692dd-915b-cdc8-7b51-fc8980c44135",
          "alias" : "Caldaia",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : "selectedSupermarket",
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : null,
            "fetchLastLevelOnly" : false,
            "relationType" : "Contains",
            "deviceTypes" : [ "Caldaia" ]
          }
        },
        "6c0a1eb1-b0e7-1578-a4f0-c0e0c8a77c82" : {
          "id" : "6c0a1eb1-b0e7-1578-a4f0-c0e0c8a77c82",
          "alias" : "Current owner",
          "filter" : {
            "type" : "singleEntity",
            "resolveMultiple" : false,
            "singleEntity" : {
              "entityType" : "CURRENT_TENANT",
              "id" : "13814000-1dd2-11b2-8080-808080808080"
            }
          }
        },
        "59f37c11-7e56-d654-d59f-92e228292640" : {
          "id" : "59f37c11-7e56-d654-d59f-92e228292640",
          "alias" : "Camera",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : "selectedSupermarket",
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : null,
            "fetchLastLevelOnly" : false,
            "relationType" : "Contains",
            "deviceTypes" : [ "Camera" ]
          }
        },
        "eb3c1bbe-ff4e-ed17-5fe1-e2698828258d" : {
          "id" : "eb3c1bbe-ff4e-ed17-5fe1-e2698828258d",
          "alias" : "AA Energy",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : "selectedSupermarket",
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : 1,
            "fetchLastLevelOnly" : false,
            "relationType" : "Contains",
            "deviceTypes" : [ "AA Energy" ]
          }
        },
        "6b8b605b-738f-563f-fc3d-0d4ce05ecd03" : {
          "id" : "6b8b605b-738f-563f-fc3d-0d4ce05ecd03",
          "alias" : "Allarmi",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : null,
            "fetchLastLevelOnly" : false,
            "relationType" : "Contains",
            "deviceTypes" : [ "AA Sensor", "shelly3em", "Caldaia", "Camera" ]
          }
        },
        "62402ba9-284c-3652-ce1d-d926b34ca918" : {
          "id" : "62402ba9-284c-3652-ce1d-d926b34ca918",
          "alias" : "Sensors",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null,
            "rootEntity" : {
              "entityType" : "ASSET",
              "id" : "f0065bc0-32a3-11ed-accb-016e0c746b7f"
            },
            "direction" : "FROM",
            "maxLevel" : 1,
            "fetchLastLevelOnly" : null,
            "relationType" : "Contains",
            "deviceTypes" : [ "smart-sensor" ]
          }
        },
        "91ddc761-3abd-7afa-d248-3795196b50fc" : {
          "id" : "91ddc761-3abd-7afa-d248-3795196b50fc",
          "alias" : "Sensori",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : null,
            "defaultStateEntity" : {
              "entityType" : "TENANT",
              "id" : "7c15f8f0-01d5-11ed-8014-35af6f7ed6b6"
            },
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : null,
            "fetchLastLevelOnly" : false,
            "relationType" : null,
            "deviceTypes" : [ "AA Sensor", "AA Energy" ]
          }
        },
        "649645d8-6ee1-f302-12a7-724f74729738" : {
          "id" : "649645d8-6ee1-f302-12a7-724f74729738",
          "alias" : "Entità_dashboard",
          "filter" : {
            "type" : "stateEntity",
            "resolveMultiple" : false,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null
          }
        },
        "55f23be2-d63e-ce45-b3f5-d05604647f2a" : {
          "id" : "55f23be2-d63e-ce45-b3f5-d05604647f2a",
          "alias" : "customer",
          "filter" : {
            "type" : "singleEntity",
            "resolveMultiple" : false,
            "singleEntity" : {
              "entityType" : "CUSTOMER",
              "id" : "b57eafd0-7ef5-11ee-ad91-9bb47870629b"
            }
          }
        }
      },
      "filters" : {
        "3a46fadd-6a79-1f15-1c39-f7f0a30ab5f8" : {
          "id" : "3a46fadd-6a79-1f15-1c39-f7f0a30ab5f8",
          "filter" : "Device filter",
          "keyFilters" : [ {
            "key" : {
              "type" : "ENTITY_FIELD",
              "key" : "type"
            },
            "valueType" : "STRING",
            "predicates" : [ {
              "keyFilterPredicate" : {
                "operation" : "OR",
                "predicates" : [ {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "AA Sensor",
                      "dynamicValue" : null
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                }, {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "AA Energy",
                      "dynamicValue" : null
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                }, {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "Caldaia",
                      "dynamicValue" : null
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                }, {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "Camera",
                      "dynamicValue" : null
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                } ],
                "type" : "COMPLEX"
              },
              "userInfo" : {
                "editable" : true,
                "label" : "",
                "autogeneratedLabel" : true,
                "order" : 0
              }
            } ]
          }, {
            "key" : {
              "type" : "ATTRIBUTE",
              "key" : "state"
            },
            "valueType" : "STRING",
            "predicates" : [ {
              "keyFilterPredicate" : {
                "operation" : "OR",
                "predicates" : [ {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "critical",
                      "dynamicValue" : {
                        "sourceType" : "CURRENT_USER",
                        "sourceAttribute" : "displayCritical",
                        "inherit" : false
                      }
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                }, {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "major",
                      "dynamicValue" : {
                        "sourceType" : "CURRENT_USER",
                        "sourceAttribute" : "displayMajor",
                        "inherit" : false
                      }
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                }, {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "normal",
                      "dynamicValue" : {
                        "sourceType" : "CURRENT_USER",
                        "sourceAttribute" : "displayNormal",
                        "inherit" : false
                      }
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                } ],
                "type" : "COMPLEX"
              },
              "userInfo" : {
                "editable" : true,
                "label" : "",
                "autogeneratedLabel" : true,
                "order" : 0
              }
            } ]
          }, {
            "key" : {
              "type" : "ATTRIBUTE",
              "key" : "active"
            },
            "valueType" : "BOOLEAN",
            "predicates" : [ {
              "keyFilterPredicate" : {
                "operation" : "OR",
                "predicates" : [ {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : true,
                      "dynamicValue" : null
                    },
                    "type" : "BOOLEAN"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                }, {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : false,
                      "dynamicValue" : {
                        "sourceType" : "CURRENT_USER",
                        "sourceAttribute" : "displayDisconnected",
                        "inherit" : false
                      }
                    },
                    "type" : "BOOLEAN"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                } ],
                "type" : "COMPLEX"
              },
              "userInfo" : {
                "editable" : true,
                "label" : "",
                "autogeneratedLabel" : true,
                "order" : 0
              }
            } ]
          } ],
          "editable" : false
        },
        "35492bf9-fb1b-d326-8b75-f0c24db7a976" : {
          "id" : "35492bf9-fb1b-d326-8b75-f0c24db7a976",
          "filter" : "Supermarket filter",
          "keyFilters" : [ {
            "key" : {
              "type" : "ATTRIBUTE",
              "key" : "state"
            },
            "valueType" : "STRING",
            "predicates" : [ {
              "keyFilterPredicate" : {
                "operation" : "OR",
                "predicates" : [ {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "normal",
                      "dynamicValue" : {
                        "sourceType" : "CURRENT_USER",
                        "sourceAttribute" : "displayNormalSupermarket",
                        "inherit" : false
                      }
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                }, {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "critical",
                      "dynamicValue" : {
                        "sourceType" : "CURRENT_USER",
                        "sourceAttribute" : "displayCriticalSupermarket",
                        "inherit" : false
                      }
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                }, {
                  "keyFilterPredicate" : {
                    "operation" : "EQUAL",
                    "value" : {
                      "defaultValue" : "major",
                      "dynamicValue" : {
                        "sourceType" : "CURRENT_USER",
                        "sourceAttribute" : "displayMajorSupermarket",
                        "inherit" : false
                      }
                    },
                    "ignoreCase" : false,
                    "type" : "STRING"
                  },
                  "userInfo" : {
                    "editable" : true,
                    "label" : "",
                    "autogeneratedLabel" : true,
                    "order" : 0
                  }
                } ],
                "type" : "COMPLEX"
              },
              "userInfo" : {
                "editable" : true,
                "label" : "",
                "autogeneratedLabel" : true,
                "order" : 0
              }
            } ]
          } ],
          "editable" : false
        }
      },
      "timewindow" : {
        "hideInterval" : false,
        "hideLastInterval" : false,
        "hideQuickInterval" : false,
        "hideAggregation" : false,
        "hideAggInterval" : false,
        "hideTimezone" : false,
        "selectedTab" : 0,
        "realtime" : {
          "realtimeType" : 0,
          "timewindowMs" : 86400000,
          "quickInterval" : "CURRENT_DAY",
          "interval" : 300000
        },
        "aggregation" : {
          "type" : "AVG",
          "limit" : 25000
        }
      },
      "settings" : {
        "stateControllerId" : "entity",
        "showTitle" : false,
        "showDashboardsSelect" : true,
        "showEntitiesSelect" : false,
        "showDashboardTimewindow" : false,
        "showDashboardExport" : true,
        "toolbarAlwaysOpen" : true,
        "titleColor" : "rgba(0,0,0,0.870588)",
        "showDashboardLogo" : false,
        "dashboardLogoUrl" : null,
        "hideToolbar" : false,
        "showFilters" : true,
        "showUpdateDashboardImage" : false,
        "dashboardCss" : ".tb-widget-container > .tb-widget {\n    border-radius: 8px;\n}\n\ngridster-item:not(.tb-noselect) > .tb-widget-container > .tb-widget {\n    cursor: default !important;\n}\n\n.tb-widget-container > .tb-widget .tb-table-widget .mat-row {\n    cursor: pointer;\n}\n\n.tb-widget-container > .tb-widget .tb-legend-keys {\n    cursor: pointer;\n}\n\n.tb-dashboard-page.dark tb-dashboard > div {\n    background-color: #0A1F36 !important; /* rgb(238, 238, 238)*/\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget {\n    background: #0D2743 !important;\n    color: rgba(255, 255, 255, 0.87) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .flot-text {\n    color: rgba(255, 255, 255, 0.87) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .flot-text > div > div {\n    color: rgba(255, 255, 255, 0.87) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-header-row {\n    background-color: #0D2743 !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-header-cell.mat-table-sticky {\n    background-color: #0D2743 !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-row .mat-cell.mat-table-sticky {\n    background-color: #0D2743 !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-header-cell {\n    color: rgba(255, 255, 255, 0.87) !important;\n    border-bottom-color: rgba(255, 255, 255, 0.2) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-cell {\n    color: rgba(255, 255, 255, 0.87) !important;\n    border-bottom-color: rgba(255, 255, 255, 0.2) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-header-cell .mat-sort-header-arrow {\n    color: rgba(255, 255, 255, 0.57) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-divider {\n    border-top-color: rgba(255, 255, 255, 0.2) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-input-element::placeholder {\n    color: rgba(255, 255, 255, 0.57) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-input-element::-moz-placeholder {\n    color: rgba(255, 255, 255, 0.57) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-input-element::-webkit-input-placeholder {\n    color: rgba(255, 255, 255, 0.57) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-input-element:-ms-input-placeholder {\n    color: rgba(255, 255, 255, 0.57) !important;\n}\n\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-cell .mat-checkbox-frame,.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-header-cell .mat-checkbox-frame {\n    border-color : rgba(255, 255, 255, 0.57) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-cell button.mat-icon-button mat-icon {\n    color : rgba(255, 255, 255, 0.57) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-table .mat-cell button.mat-icon-button[disabled][disabled] mat-icon {\n    color : rgba(255, 255, 255, 0.2) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-paginator {\n    color: rgba(255, 255, 255, 0.57) !important;\n}\n\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-paginator button.mat-icon-button {\n    color : rgba(255, 255, 255, 0.57) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-paginator button.mat-icon-button[disabled][disabled] {\n    color : rgba(255, 255, 255, 0.2) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .tb-table-widget .mat-paginator .mat-select-value {\n    color : rgba(255, 255, 255, 0.57) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .mat-select-arrow {\n    color : rgba(255, 255, 255, 0.57);\n}\n\n.tb-dashboard-page.dark .tb-widget-container > .tb-widget .mat-form-field-appearance-legacy .mat-form-field-underline {\n    background-color : rgba(255, 255, 255, 0.4);\n}\n\n\n.tb-dashboard-page.dark .tb-markdown-view div, .tb-dashboard-page.dark .tb-markdown-view p {\n    color : rgba(255, 255, 255, 0.87);\n}\n\n.tb-dashboard-page.dark .tb-powered-by-footer {\n    color : rgba(255, 255, 255, 0.87) !important;\n}\n\n.tb-dashboard-page.dark .tb-widget-container .tb-widget .tb-multiple-input {\n    background-color : rgba(255, 255, 255, 0.4);\n    border-radius: 4px;\n}\n\n.tb-dashboard-page.dark h5 {\n    color : rgba(255, 255, 255, 0.87) !important;\n}\n.tb-dashboard-page.dark .text {\n    color : #212121 !important;\n}\n\n.tb-dashboard-page.dark .tb-markdown-view .params {\n    background-color : rgba(255, 255, 255, 0.4);\n}"
      }
    },
    "customerId" : {
      "entityType" : "CUSTOMER",
      "id" : "b57eafd0-7ef5-11ee-ad91-9bb47870629b"
    },
    "externalId" : {
      "entityType" : "DASHBOARD",
      "id" : "a97f4030-b68c-11ed-9788-e7e5c5ff9ab6"
    },
    "id" : {
      "entityType" : "DASHBOARD",
      "id" : "a97f4030-b68c-11ed-9788-e7e5c5ff9ab6"
    },
    "image" : null,
    "mobileHide" : false,
    "mobileOrder" : null,
    "name" : "Campeggio",
    "ownerId" : {
      "entityType" : "CUSTOMER",
      "id" : "b57eafd0-7ef5-11ee-ad91-9bb47870629b"
    },
    "title" : "Campeggio"
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}